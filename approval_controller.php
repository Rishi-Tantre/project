<?php if (!defined('BASEPATH'))
	exit('No direct script access allowed');
// edcho "sdl;'sld;'l;'"
class Approval_controller extends CI_Controller
{

	/*public index function (){
				 $value = base_url();
				 setcookie("shipment_tracker",$value, time()+3600*24,'/');
			 }*/

	public function __construct()
	{
		parent::__construct();
		$this->load->model('common_model');
		$this->load->model('st_model_r');
		$this->load->model('approval_model');
		$this->load->model('model_k');
		$this->load->library('imageupload');
		$this->load->library('report_creation');
		$this->load->helper('download');
		date_default_timezone_set('Asia/Kolkata');
		$this->load->library('Datatables');
		$this->load->library('table');
		ini_set('memory_limit', '-1');
		$this->CI =& get_instance();
		$this->CI->load->library('role_config');
	}


	/****************** Start Approval Function ************************/

	/****************************Start Dashboard Load View*******************************/


	public function approval_dashboard()
	{
		$this->session->set_userdata("shipment_type", 'approval');
		//$data['shipment_data']=$this->approval_model->approval_data();
		//$data['comp_shipment_data']=$this->st_model_r->completed_shipment_data();
		//$data['clientData'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		//$data['sezData'] = $this->common_model->fetchDataFromTableDesc('tbl_sez', 'sez_name');
		//$data['activityData'] = $this->approval_model->fetchservicesData();
		//print_r($data['activityData']);exit();
		//$data['user_data']=$this->st_model_r->fetchuserlist();

		// $data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer','officer_id');
		// $data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer','assistant_officer_id');
		//$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related','work_related_id');
		//$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office','zonal_office_id');
		//$this->load->view('common/sez_dashboard',$data);
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterApprovalDataTable" action="' . base_url() . 'get_approval_dashboard">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'Actions', 'Quotation Number', 'GOC ID', 'Name of Client', 'Type of Activity', 'Request ID', 'Status', 'Remark', 'Client Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Target Date', 'Edit', 'Delete');

		//$data['activity_wise_data']=$this->approval_model->activity_wise_data();
		// print_r( $data['activity_wise_data']);
		$this->load->view('common/approval_dashboard', $data);
	}

	public function dashboahrd_approval_report()
	{
		$activity_name = $this->input->post('unit_name');
		// $status = $this->input->post('status');

		$data['unit_name'] = $this->input->post('unit_name');
		$data['status'] = $this->input->post('status');
		$data['asst_owner'] = $this->input->post('asst_owner');
		$data['owner_name'] = $this->input->post('owner_name');
		$data['asst_followup'] = $this->input->post('asst_followup');
		$data['head_followup'] = $this->input->post('head_followup');
		$data['activity'] = $this->input->post('activity');
		$data['sez_name'] = $this->input->post('sez_name');
		$data['work_related_to'] = $this->input->post('work_related_to');
		$data['zonal_office'] = $this->input->post('zonal_office');
		$data['from_date'] = $this->input->post('from_date');
		$data['to_date'] = $this->input->post('to_date');

		$unit = $data['unit_name'];
		$status1 = $data['status'];
		$asst_owner = $data['asst_owner'];
		$owner_name = $data['owner_name'];
		$asst_followup = $data['asst_followup'];
		$head_followup = $data['head_followup'];
		$activity = $data['activity'];
		$sez_name = $data['sez_name'];
		$work_related_to = $data['work_related_to'];
		$zonal_office = $data['zonal_office'];
		$from_date = $data['from_date'];
		$to_date = $data['to_date'];

		if (isset($from_date) && !empty($from_date))
			$from_date = date('Y-m-d', strtotime($from_date));
		else
			$from_date = 0;

		if (isset($to_date) && !empty($to_date))
			$to_date = date('Y-m-d', strtotime($to_date));
		else
			$to_date = 0;

		//Remove Multiple Spaces From String
		if (isset($status1) && !empty($status1))
			$status = preg_replace('/\\s+/', ' ', implode(",", $status1));
		else
			$status = 0;

		$unit = preg_replace('/\\s+/', ' ', $unit);
		$asst_owner = preg_replace('/\\s+/', ' ', $asst_owner);
		$owner_name = preg_replace('/\\s+/', ' ', $owner_name);
		$asst_followup = preg_replace('/\\s+/', ' ', $asst_followup);
		$head_followup = preg_replace('/\\s+/', ' ', $head_followup);
		$activity = preg_replace('/\\s+/', ' ', $activity);
		$sez_name = preg_replace('/\\s+/', ' ', $sez_name);
		$work_related_to = preg_replace('/\\s+/', ' ', $work_related_to);
		$zonal_office = preg_replace('/\\s+/', ' ', $zonal_office);

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterApprovalDataTable" action="' . base_url() . 'get_approval_dashboard/' . $unit . '/' . $status . '/' . $asst_owner . '/' . $owner_name . '/' . $asst_followup . '/' . $head_followup . '/' . $work_related_to . '/' . $zonal_office . '/' . $activity . '/' . $sez_name . '/' . $from_date . '/' . $to_date . '">');

		$this->table->set_template($tmpl);

		$this->table->set_heading('Job Number', 'Actions', 'Quotation Number', 'GOC ID', 'Name of Client', 'Type of Activity', 'Request ID', 'Status', 'Remark', 'Client Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Target Date', 'Edit', 'Delete');

		//$view = $this->load->view('report/dashboard_fetch_report',$data,TRUE);
		$view = $this->load->view('approval/dashboahrd_approval_report', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function get_approval_dashboard($unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL, $activity = NULL, $sez_name = NULL, $from_date = NULL, $to_date = NULL)
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$activity = urldecode($activity);
		$sez_name = urldecode($sez_name);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$from_date = urldecode($from_date);
		$to_date = urldecode($to_date);
		$this->db->_protect_identifiers = false;
		$this->datatables->select("CONCAT('<a href=\"javascript:void(0);\" class=\"approval_details\" rel=\"',tsh.shipment_id,'\">',tsh.job_number,'</a>') AS job_id,
			if(tsh.status='Status 1'
						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'

                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,

			tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					)
					,
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat(''
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			// ->join('tbl_userinfo AS tu','(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)','left')
			// ->join('tbl_gist_approval AS ga','tsh.shipment_id=ga.shipment_id','left')
			// ->join('tbl_quotation AS q','ga.gist_id=q.gist_id','left')
			// ->where('(q.status="Status 8" OR q.status="Status 9" OR isnull(q.status))')
			// ->where('(tsh.status!="Status 13") AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.approval_step != "rejected"')
			->unset_column('tsh.shipment_id');

		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tsh.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);
			$status2 = "'" . implode("','", $status1) . "'";
			$data = $data . 'tsh.status IN (' . $status2 . ') AND ';
			// if($status=='P')
			// {
			// 	//$data=$data.'tsh.status != "Status 12" AND ';
			// 	$data=$data.'(tsh.status != "Status 13") AND (tsh.approval_status!="Query Raised" OR tsh.approval_status="" OR isnull(tsh.approval_status)) AND ';
			// }
			// else if($status=='C')
			// {
			// 	//$data=$data.'tsh.status = "Status 12" AND ';
			// 	$data=$data.'(tsh.status="Status 13" OR  (tsh.status="Status 12" AND tsh.rwc_invoice_no is not null)) AND ';
			// }
			// else if ($status=='Status 1') {
			// 	$data=$data.'tsh.status = "Status 1" AND ';
			// }
			// else if ($status=='Status 2') {
			// 	$data=$data.'tsh.status = "Status 2" AND ';
			// }
			// else if ($status=='Status 3') {
			// 	$data=$data.'tsh.status = "Status 3" AND ';
			// }
			// else if ($status=='Status 4') {
			// 	$data=$data.'tsh.status = "Status 4" AND ';
			// }
			// else if ($status=='Status 5') {
			// 	$data=$data.'tsh.status = "Status 5" AND ';
			// }
			// else if ($status=='Status 6') {
			// 	$data=$data.'tsh.status = "Status 6" AND ';
			// }
			// else if ($status=='Status 7') {
			// 	$data=$data.'tsh.status = "Status 7" AND ';
			// }
			// else if ($status=='Status 8') {
			// 	$data=$data.'tsh.status = "Status 8" AND ';
			// }
			// else if ($status=='Status 9') {
			// 	$data=$data.'tsh.status = "Status 9" AND ';
			// }
			// else if ($status=='Status 10') {
			// 	$data=$data.'tsh.status = "Status 10" AND ';
			// }
			// else if ($status=='Status 11') {
			// 	//$data=$data.'tsh.status = "Status 11" AND ';
			// 	$data=$data.'(tsh.status = "Status 11" AND isnull(tsh.rwc_invoice_no)) AND ';
			// }
			// else if ($status=='Status 12') {
			// 	//$data=$data.'tsh.status = "Status 12" AND ';
			// 	$data=$data.'(tsh.status="Status 12" OR  (tsh.status="Status 11" AND tsh.rwc_invoice_no is not null)) AND ';
			// }
		}

		/* if(isset($asst_owner) AND !empty($asst_owner))
					 {
						 $data=$data.'tsh.asst_owner LIKE "%'.$asst_owner.'%" AND ';
					 }

					 if(isset($owner_name) AND !empty($owner_name))
					 {
						 $data=$data.'tsh.owner_name LIKE "%'.$owner_name.'%" AND ';
					 }

					 if(isset($asst_followup) AND !empty($asst_followup))
					 {
						 $data=$data.'tsh.asst_followup LIKE "%'.$asst_followup.'%" AND ';
					 }

					 if(isset($head_followup) AND !empty($head_followup))
					 {
						 $data=$data.'tsh.head_followup LIKE "%'.$head_followup.'%" AND ';
					 }*/

		if (isset($activity) and !empty($activity)) {
			$data = $data . 'tsh.type_activity_name = "' . $activity . '" AND ';
		}

		if (isset($sez_name) and !empty($sez_name)) {
			$data = $data . 'tcm.sez_id = ' . $sez_name . ' AND ';
		}

		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "' . $work_related_to . '" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			if ($zonal_office == "NA")
				$data = $data . ' (tzo.zonal_office_name IS NULL OR tzo.zonal_office_name="") AND ';
			else
				$data = $data . 'tsh.zonal_office LIKE "' . $zonal_office . '" AND ';
		}

		if (isset($from_date) and !empty($from_date)) {
			$data = $data . 'tsh.created_at >="' . $from_date . '" AND ';
		}

		if (isset($to_date) and !empty($to_date)) {
			$data = $data . ' tsh.created_at <="' . $to_date . '" AND ';
		}

		$data = $data . 'tsh.display = "Y"';
		//print_r($data);
		$this->datatables->where($data);
		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}

	// Pending Approval Dashboard For Closed Clients
	public function pending_approval_closed_clients()
	{
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover new_masterApprovalDataTable1" action="' . base_url() . 'get_pen_app_closed_clients">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'GOC', 'Name of Client', 'Type of Activity', 'Req. ID', 'Pending Status', 'Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Action');
		$this->load->view('common/approval_dashboard');
	}

	// Approval Dashboard Activity
	public function approval_dashboard_activity()
	{
		$this->load->model('approval_model');
		$this->session->set_userdata("shipment_type", 'new_approval');
		$data['activity_wise_data'] = $this->approval_model->new_activity_wise_data();

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover new_masterApprovalDataTable" action="' . base_url() . 'get_pen_app_closed_clients">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'GOC ID', 'Name of Client', 'Type of Activity', 'Request ID', 'Pending_Status', 'Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Action');
		$this->load->view('common/approval_dashboard_activity', $data);
	}

	//Approval Hold Job
	public function get_hold_approval_data()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$this->db->_protect_identifiers = false;
		$this->datatables->select("CONCAT('<a href=\"javascript:void(0);\" class=\"approval_details\" rel=\"',tsh.shipment_id,'\">',tsh.job_number,'</a>') AS job_id,
			,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'

                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,

			tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					),
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			// ->join('tbl_userinfo AS tu','(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)','left')
			// ->join('tbl_gist_approval AS ga','tsh.shipment_id=ga.shipment_id','left')
			// ->join('tbl_quotation AS q','ga.gist_id=q.gist_id','left')
			// ->where('(q.status="Status 8" OR q.status="Status 9" OR isnull(q.status))')
			// ->where('(tsh.status!="Status 13") AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.approval_step="hold"')
			->unset_column('tsh.shipment_id');

		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}

	//Approval Reject Job
	public function get_reject_approval_data()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$this->db->_protect_identifiers = false;
		$this->datatables->select("CONCAT('<a href=\"javascript:void(0);\" class=\"approval_details\" rel=\"',tsh.shipment_id,'\">',tsh.job_number,'</a>') AS job_id,
			,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'

                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,

			tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					),
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat(''
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			// ->join('tbl_userinfo AS tu','(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)','left')
			// ->join('tbl_gist_approval AS ga','tsh.shipment_id=ga.shipment_id','left')
			// ->join('tbl_quotation AS q','ga.gist_id=q.gist_id','left')
			// ->where('(q.status="Status 8" OR q.status="Status 9" OR isnull(q.status))')
			// ->where('(tsh.status!="Status 13") AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.approval_step="rejected"')
			->unset_column('tsh.shipment_id');

		echo $this->datatables->generate();
		// echo $this->db->last_query();

		/*'<li>
																									<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										&nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
																									</span>
																								</li>'*/
	}

	//Approval Pending for Billing Job
	public function get_pending_for_billing()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');


		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,
			,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,

			tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					),

                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			// ->join('tbl_userinfo AS tu','(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)','left')
			// ->join('tbl_gist_approval AS ga','tsh.shipment_id=ga.shipment_id','left')
			// ->join('tbl_quotation AS q','ga.gist_id=q.gist_id','left')
			// ->where('(q.status="Status 8" OR q.status="Status 9" OR isnull(q.status))')
			// ->where('(tsh.status!="Status 13") AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.status = "Status 11"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.approval_step = "open"')
			->unset_column('tsh.shipment_id');


		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}


	public function get_current_pending()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');


		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,
			,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'
                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'
	                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'
		                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'
			                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'
				                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'
					                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'
						                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'
							                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'
								                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'
										                                '<span style=\"cursor: pointer;\" class=\"label label-sm label-warning tooltips approval_status_updation\" rev=\"Change Status\" data-url=\"change_approval_status\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Change Status\" data-placement=\"top\">Change Status</span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,

			tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					),
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			// ->join('tbl_userinfo AS tu','(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)','left')
			// ->join('tbl_gist_approval AS ga','tsh.shipment_id=ga.shipment_id','left')
			// ->join('tbl_quotation AS q','ga.gist_id=q.gist_id','left')
			// ->where('(q.status="Status 8" OR q.status="Status 9" OR isnull(q.status))')
			// ->where('(tsh.status!="Status 13") AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.status != "Status 11"')
			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.approval_step = "open"')
			->unset_column('tsh.shipment_id');


		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}


	//Approval get closed with bills Job
	public function get_closed_with_bills()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');


		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					)
					,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			->where('tsh.status = "Status 13"')
			->where('!(isnull(tsh.rwc_invoice_no)) ')
			->where('tsh.rwc_invoice_date != "" AND tsh.rwc_invoice_date != "1970-01-01" AND tsh.rwc_invoice_date != "0000-00-00"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->unset_column('tsh.shipment_id');


		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}

	//Approval get closed with bills Job
	public function get_closed_without_bills()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');


		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					)
					,if(tsh.status='Status 1'

						,IF(tsh.checker_maker_1='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips editRecord_dashboard\" rev=\"edit_approval\" data-status=\"Status 1\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'))


                            ,if(tsh.status='Status 2',

                            	IF(tsh.checker_maker_2='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'),

                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" data-status=\"Status 2\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>'))



	                            ,if(tsh.status='Status 3',
	                            	IF(tsh.checker_maker_3='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    	<i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'),

	                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" data-status=\"Status 3\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    <i class=\"fa fa-edit\"></i>
	                                </span>'
	                                '&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>'))


	 	                            ,if(tsh.status='Status 4',
	 	                            	IF(tsh.checker_maker_4='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'),

		                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" data-status=\"Status 4\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                    	<i class=\"fa fa-edit\"></i>
	                                	</span>'
	                                	'&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>'))


		 	                            ,if(tsh.status='Status 5',
		 	                            	IF(tsh.checker_maker_5='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'),

			                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" data-status=\"Status 5\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>'))


			 	                            ,if(tsh.status='Status 6',
			 	                            	IF(tsh.checker_maker_6='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'),

				                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" data-status=\"Status 6\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>'))


												,if(tsh.status='Status 7',
				 	                            	IF(tsh.checker_maker_7='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'),

					                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" data-status=\"Status 7\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>'))


					                                ,if(tsh.status='Status 8',
					 	                            	IF(tsh.checker_maker_8='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'),

						                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" data-status=\"Status 8\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>'))

					                                 	,if(tsh.status='Status 9',
						 	                            	IF(tsh.checker_maker_9='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'),

							                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" data-status=\"Status 9\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>'))


						                                 	,if(tsh.status='Status 10',
							 	                            	IF(tsh.checker_maker_10='Approved',concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'),

								                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" data-status=\"Status 10\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>'))


				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	IF(tsh.checker_maker_11='Approved',concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\" data-status=\"Status 12\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'),

										                                concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" data-status=\"Status 11\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'))


										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>')
										                                ,''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			->where('tsh.status = "Status 13"')
			->where('ISNULL(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no = ""')
			->where('ISNULL(tsh.rwc_invoice_date) OR tsh.rwc_invoice_date="1970-01-01" OR tsh.rwc_invoice_date = "0000-00-00"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->unset_column('tsh.shipment_id');


		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}


	public function get_pen_app_closed_clients($where = NULL, $unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL, $activity = NULL, $sez_name = NULL, $from_date = NULL, $to_date = NULL, $type_of_ctivity = NULL)
	{
		$where = $this->uri->segment(2);

		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$activity = urldecode($activity);
		$sez_name = urldecode($sez_name);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$from_date = urldecode($from_date);
		$to_date = urldecode($to_date);
		$type_of_ctivity = urldecode($type_of_ctivity);
		$where = urldecode($where);
		$user_data = $this->CI->role_config->user_data($user_id);
		$show_edit = '';
		if (isset($user_data->approval_edit) && $user_data->approval_edit == 'Y') {
			$show_edit = $user_data->approval_edit;
		}
		$show_delete = '';
		if (isset($user_data->approval_delete) && $user_data->approval_delete == 'Y') {
			$show_delete = $user_data->approval_delete;

		}

		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.shipment_id,if(\"" . $show_edit . "\" = \"Y\",IF(tsh.checker_maker_1='Approved',
            IF(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_2\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 4' OR tsh.status='Status 5',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_3\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 6' OR tsh.status='Status 7',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_4\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 8' OR tsh.status = 'Status 9',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_6\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 10',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_7\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 11',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_8\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
                '')))))),''),
                CONCAT('<span data-original-title=\"Stage-1 Not Approved\" data-placement=\"top\"  class=\"tooltips\">',tsh.job_number,'</span>')) as job_num,tsh.goc_number,tcm.client_name,
            if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
                    concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
                            if(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                            CONCAT('<span class=\"badge badge-default\"> 2 </span>
                                    <span class=\"badge badge-default\"> 3 </span>
                                    <span class=\"badge badge-default\"> 4 </span>',
                                    IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                    '<span class=\"badge badge-default\"> 6 </span>
                                    <span class=\"badge badge-default\"> 7 </span>
                                    ')
                            ,if(tsh.status='Status 4' OR tsh.status='Status 5',
                                CONCAT('<span class=\"badge badge-default\"> 3 </span>
                                        <span class=\"badge badge-default\"> 4 </span>',
                                        IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                        '<span class=\"badge badge-default\"> 6 </span>
                                        <span class=\"badge badge-default\"> 7 </span>
                                        ')
                                ,if(tsh.status='Status 6' OR tsh.status='Status 7',
                                    CONCAT('<span class=\"badge badge-default\"> 4 </span>',
                                            IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                            '<span class=\"badge badge-default\"> 6 </span>
                                            <span class=\"badge badge-default\"> 7 </span>
                                            ')
                                    ,if(tsh.status='Status 8' OR tsh.status = 'Status 9',
                                        CONCAT(IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                                '<span class=\"badge badge-default\"> 6 </span>
                                                <span class=\"badge badge-default\"> 7 </span>
                                                ')
                                        ,if(tsh.status='Status 10',
                                            CONCAT('<span class=\"badge badge-default\"> 6 </span>
                                                    <span class=\"badge badge-default\"> 7 </span>
                                                    ')
                                            ,if(tsh.status='Status 11',
                                                CONCAT('<span class=\"badge badge-default\"> 7 </span>
                                                        ')
                                                ,''
                                            )
                                        )
                                    )
                                )
                           )
                    ),'</div>') as status

                    ,if(isnull(r.remark),CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\"  data-type=\"new_approval_remark\"  rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                <i class=\"fa fa-comments\"></i>
                            </span>'),CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" data-type=\"new_approval_remark\"  rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                <i class=\"fa fa-comments\"></i>
                            </span><br>',if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,' ',DATE_FORMAT(r.remark_date, '%d-%m-%Y %H:%i:%s'),'<br/>'))))) as remark



                    ,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

                    concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" data-type=\"new_approval_remark\"  rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
                    concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" data-type=\"new_approval_remark\"  rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                    if((isnull(tsh.created_at) AND tsh.created_at = '1970-01-01' AND tsh.created_at = '0000-00-00'),'',DATE_FORMAT(tsh.created_at,'%d-%m-%Y %h:%i:%s')),

                    if(\"" . $show_delete . "\" = \"Y\",
                    concat('<div class=\"input-group\">
                                <div class=\"input-group-btn\">
                                    <button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
                                    <ul class=\"dropdown-menu\" style=\"min-width: 85px;\">',
                                    if(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                                        concat('<li>
                                            <span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
                                            </span>
                                        </li>')
                                        ,if(tsh.status='Status 4' OR tsh.status='Status 5',
                                            concat('<li>
                                                <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                    &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
                                                </span>
                                            </li>')
                                            ,if(tsh.status='Status 6' OR tsh.status='Status 7',
                                                concat('<li>
                                                    <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                        &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
                                                    </span>
                                                </li>')
                                                ,if(tsh.status='Status 8' OR tsh.status='Status 9',
                                                    concat('<li>
                                                        <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
                                                        </span>
                                                    </li>')
                                                    ,if(tsh.status='Status 10',
                                                        concat('<li>
                                                            <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
                                                            </span>
                                                        </li>')
                                                        ,if(tsh.status='Status 11',
                                                            concat('<li>
                                                                <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                                    &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
                                                                </span>
                                                            </li>')
                                                            ,''
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ),'
                                    </ul>
                                </div>
                            </div>'),'')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_id', 'LEFT')
			->join('tbl_control_pannel_monitoring AS tcp', 'tcp.client_id = tcm.client_id AND tcp.tracker_type_id = 4 AND tcp.control_status = "inactive"')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
            FROM tbl_zonal_office_remark as tzor  JOIN
            (select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			->join('(SELECT a.client_name,a.job_number,MIN(seq.add_sequence_id),IFNULL((select b.sequential_job_number FROM tbl_client_wise_sequential_job b WHERE b.client_name=seq.client_name AND b.add_sequence_id=min(seq.add_sequence_id)),a.shipment_id) AS shipment_id FROM tbl_approval a
            LEFT JOIN tbl_client_wise_sequential_job seq ON seq.sequential_job_number=a.shipment_id
            WHERE a.status!="Status 13" AND a.approval_step != "rejected" AND (a.approval_status!="Query Raised" OR isnull(a.approval_status OR a.approval_status=""))
            GROUP BY  IFNULL(seq.client_name,a.shipment_id)            
            ORDER BY MIN(seq.add_sequence_id)  DESC)
            AS tcw', 'tsh.shipment_id=tcw.shipment_id ', '')
			->where('tsh.status != "Status 12"')
			->where('tsh.approval_step != "rejected"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->where('tsh.display="Y"')
			->where('tsh.goc_approval="active"')
			->where('tsh.checker_maker_1="Approved"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->group_by('tsh.shipment_id')
			->unset_column('tsh.shipment_id');

		// if(isset($where) && !empty($where))
		// {

		//  $where=urldecode($where);
		//      $where= html_entity_decode($where);
		//  $this->datatables->where($where);
		// }

		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tcm.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);
			$status2 = "'" . implode("','", $status1) . "'";
			$data = $data . 'tsh.status IN (' . $status2 . ') AND ';

		}

		if (isset($activity) and !empty($activity)) {
			$data = $data . 'tsh.type_activity_name = "' . $activity . '" AND ';
		}

		if (isset($sez_name) and !empty($sez_name)) {
			$data = $data . 'tcm.sez_id = ' . $sez_name . ' AND ';
		}

		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "' . $work_related_to . '" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			if ($zonal_office == "NA")
				$data = $data . ' (tzo.zonal_office_name IS NULL OR tzo.zonal_office_name="") AND ';
			else
				$data = $data . 'tsh.zonal_office LIKE "' . $zonal_office . '" AND ';
		}

		if (isset($from_date) and !empty($from_date)) {
			$data = $data . 'tsh.created_at >="' . $from_date . '" AND ';
		}

		if (isset($to_date) and !empty($to_date)) {
			$data = $data . ' tsh.created_at <="' . $to_date . '" AND ';
		}

		if (isset($type_of_ctivity) and !empty($type_of_ctivity)) {
			// if ($type_of_ctivity=='SEZ') {
			//     $data=$data.'tun.type_of_activity = "SEZ" AND ';
			// }
			// else if ($type_of_ctivity=='IFSC') {
			//     $data=$data.'tun.type_of_activity = "IFSC" AND ';
			// }
			// else if ($type_of_ctivity=='IEC') {
			//     $data=$data.'tun.type_of_activity = "IEC" AND ';
			// }
			// else if ($type_of_ctivity=='GST') {
			//     $data=$data.'tun.type_of_activity = "GST" AND ';
			// }

			// else if ($type_of_ctivity=='RCMC') {
			//     $data=$data.'tun.type_of_activity = "RCMC" AND ';
			// }
			// else if ($type_of_ctivity=='State Government Incentive') {
			//     $data=$data.'tun.type_of_activity = "State Government Incentive" AND ';
			// }
			// else if ($type_of_ctivity=='Others') {
			//     $data=$data.'(tun.type_of_activity = "Others" OR tun.type_of_activity = "" OR isnull(tun.type_of_activity) OR tun.type_of_activity = "Select") AND ';
			// }
			if ($type_of_ctivity == 'Others') {
				$data = $data . ' (tun.type_of_activity NOT IN("SEZ","IFSC","IEC","GST","RCMC","State Government Incentive") OR ISNULL(tun.type_of_activity) ) AND ';
			} else {
				$data = $data . 'tun.type_of_activity = "' . $type_of_ctivity . '" AND ';
			}
		} else {
			// $data=$data.'(tun.type_of_activity = "" OR isnull(tun.type_of_activity) OR tun.type_of_activity = "Select") AND ';
		}

		$data = $data . 'tsh.display = "Y"';

		$this->datatables->where($data);
		echo $this->datatables->generate();
	}

	public function get_approval_sub_dashboard()
	{
		$zonal = $this->input->post('zonal');
		$activity = $this->input->post('activity');

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover new_masterApprovalDataTable" action="' . base_url() . 'get_pen_app_closed_clients/0/0/0/0/0/0/0/0/' . $zonal . '/' . $activity . '/0/0/0/0">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'GOC', 'Name of Client', 'Type of Activity', 'Req. ID', 'Pending Status', 'Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Action');
		$view = $this->load->view('approval/approval_sub_dashboard', null, true);
		$this->json->jsonReturn(
			array(
				'valid' => TRUE,
				'view' => $view
			)
		);
	}

	public function get_new_approval_summary_dashboard()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$this->db->_protect_identifiers = false;
		$this->datatables->select("ifnull(tun.unit_name, cm.client_name) AS client_name ,
            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 1\' OR tsh.status=\'Status 2\' OR tsh.status=\'Status 3\' OR tsh.status=\'Status 4\' OR tsh.status=\'Status 5\') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3\" >',SUM(if(ifnull(tun.unit_id, cm.client_id)=ifnull(tun.unit_id, cm.client_id) AND (tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3' OR tsh.status='Status 4' OR tsh.status='Status 5') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3,1,0)),'</a>') AS Pending_sharing_of_final_draft_application_to_client_befor_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 1\' OR tsh.status=\'Status 2\' OR tsh.status=\'Status 3\' OR tsh.status=\'Status 4\' OR tsh.status=\'Status 5\') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3\" >', SUM(if(ifnull(tun.unit_id, cm.client_id)=ifnull(tun.unit_id, cm.client_id) AND (tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 4' OR tsh.status='Status 5') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3,1,0)),'</a>') AS Pending_sharing_of_final_draft_application_to_client_after_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 6\' OR tsh.status=\'Status 7\') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3\" >',SUM(if((tsh.status='Status 6' OR tsh.status='Status 7') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3,1,0)),'</a>') AS Pending_submission_of_application_through_sez_online_portal_befor_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 6\' OR tsh.status=\'Status 7\') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3\" >',SUM(if((tsh.status='Status 6' OR tsh.status='Status 7') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3,1,0)),'</a>') AS Pending_submission_of_application_through_sez_online_portal_after_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 9\') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3\" >',SUM(if((tsh.status='Status 9')  AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3,1,0)),'</a>') AS Pending_submission_of_document_befor_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 9\' ) AND DATEDIFF(CURDATE(),tsh.status_change_date) >3\" >',SUM(if((tsh.status='Status 9')  AND DATEDIFF(CURDATE(),tsh.status_change_date) >3,1,0)),'</a>') AS Pending_submission_of_document_after_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 8\' OR tsh.status=\'Status 11\') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3\" >',SUM(if((tsh.status='Status 8' OR tsh.status='Status 11') AND DATEDIFF(CURDATE(),tsh.status_change_date) <=3,1,0)),'</a>') AS Pending_online_submission_befor_3,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 8\' OR tsh.status=\'Status 11\') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3\" >',SUM(if((tsh.status='Status 8' OR tsh.status='Status 11') AND DATEDIFF(CURDATE(),tsh.status_change_date) >3,1,0)),'</a>') AS Pending_online_submission_after_3,


            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1\" rel=\"tsh.client_name=',QUOTE(tsh.client_name),' AND (tsh.status=\'Status 10\')\">',SUM(if(tsh.status='Status 10',1,0)),'</a>') AS Pending_for_Invoice_Preparation123,

            CONCAT('<a href=\"javascript:void(0);\" class=\"get_aging_dashboard_details1 \" rel=\"tsh.client_name=',QUOTE(tsh.client_name),'\">',COUNT(tsh.shipment_id),'</a>')  AS total
            "
		)


			->from('tbl_approval  AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_unit AS tun', 'tsh.unit_id=tun.unit_id ', 'LEFT')
			->join('tbl_client_master AS cm', 'tsh.client_name=cm.client_name', 'LEFT')
			->join('tbl_control_pannel_monitoring tcp', 'tcp.client_id=cm.client_id AND tcp.tracker_type_id = 4 AND tcp.control_status = "inactive"')
			->join('tbl_userinfo AS tu', 'tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)', 'left')
			->where('tsh.status!="Status 12"')
			->where('(isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")')
			->where('tsh.display="Y"')
			->where('cm.display="Y"')
			->where('cm.close_status="Opend"')
			->group_by('tsh.unit_id,tsh.client_name');
		if ($role != 1 && $role != 2 && $role != 4) {
			$this->datatables->where('tu.user_id', $user_id);
		}
		echo $this->datatables->generate();


	}

	public function get_approval_aging_sub_dashboard1()
	{
		$where = $this->input->post('where');
		$where = urlencode($where);

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable21" action="' . base_url() . 'new_get_agingDashboard1/' . $where . '/0/0/0/0/0/0/0/0/0/0/0/0/0">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'GOC', 'Name of Client', 'Type of Activity', 'Req. ID', 'Pending Status', 'Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Action');
		$view = $this->load->view('approval/new_app_tracker_sub_dashboard', null, true);
		$this->json->jsonReturn(
			array(
				'valid' => TRUE,
				'view' => $view
			)
		);
	}

	public function new_get_agingDashboard1($where = NULL, $unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL, $activity = NULL, $sez_name = NULL, $from_date = NULL, $to_date = NULL, $type_of_ctivity = NULL)
	{
		$where = $this->uri->segment(2);
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$activity = urldecode($activity);
		$sez_name = urldecode($sez_name);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$from_date = urldecode($from_date);
		$to_date = urldecode($to_date);
		$type_of_ctivity = urldecode($type_of_ctivity);

		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.shipment_id,IF(tsh.checker_maker_1='Approved',
            IF(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_2\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 4' OR tsh.status='Status 5',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_3\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 6' OR tsh.status='Status 7',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_4\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 8' OR tsh.status = 'Status 9',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_6\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 10',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_7\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            IF(tsh.status='Status 11',
                CONCAT('<a href=\"new_approval_update_details/',tsh.shipment_id,'/tab_8\" data-original-title=\"Update Status\" data-placement=\"top\"  class=\"tooltips\" target=\"_blank\">',tsh.job_number,'</a>'),
            '')))))),
                CONCAT('<span data-original-title=\"Stage-1 Not Approved\" data-placement=\"top\"  class=\"tooltips\">',tsh.job_number,'</span>')) as job_num,tsh.goc_number,tsh.client_name,
            if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
                    concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
                            if(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                            CONCAT('<span class=\"badge badge-default\"> 2 </span>
                                    <span class=\"badge badge-default\"> 3 </span>
                                    <span class=\"badge badge-default\"> 4 </span>',
                                    IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                    '<span class=\"badge badge-default\"> 6 </span>
                                    <span class=\"badge badge-default\"> 7 </span>
                                    ')
                            ,if(tsh.status='Status 4' OR tsh.status='Status 5',
                                CONCAT('<span class=\"badge badge-default\"> 3 </span>
                                        <span class=\"badge badge-default\"> 4 </span>',
                                        IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                        '<span class=\"badge badge-default\"> 6 </span>
                                        <span class=\"badge badge-default\"> 7 </span>
                                        ')
                                ,if(tsh.status='Status 6' OR tsh.status='Status 7',
                                    CONCAT('<span class=\"badge badge-default\"> 4 </span>',
                                            IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                            '<span class=\"badge badge-default\"> 6 </span>
                                            <span class=\"badge badge-default\"> 7 </span>
                                            ')
                                    ,if(tsh.status='Status 8' OR tsh.status = 'Status 9',
                                        CONCAT(IF((isnull(tsh.whether_submitted_or_not) OR isnull(tsh.acknowledgement_copy_received) OR isnull(NULLIF(tsh.upload_acknowledgement,''))),'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
                                                '<span class=\"badge badge-default\"> 6 </span>
                                                <span class=\"badge badge-default\"> 7 </span>
                                                ')
                                        ,if(tsh.status='Status 10',
                                            CONCAT('<span class=\"badge badge-default\"> 6 </span>
                                                    <span class=\"badge badge-default\"> 7 </span>
                                                    ')
                                            ,if(tsh.status='Status 11',
                                                CONCAT('<span class=\"badge badge-default\"> 7 </span>
                                                        ')
                                                ,''
                                            )
                                        )
                                    )
                                )
                           )
                    ),'</div>')
                    ,if(isnull(r.remark),CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" data-type=\"new_approval_remark\"  rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                <i class=\"fa fa-comments\"></i>
                            </span>'),CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" data-type=\"new_approval_remark\"  rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                <i class=\"fa fa-comments\"></i>
                            </span><br>',if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,' ',DATE_FORMAT(r.remark_date, '%d-%m-%Y %H:%i:%s'),'<br/>'))))) as remark
                    ,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


                    ,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

                    concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" data-type=\"new_approval_remark\"  rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
                    concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" data-type=\"new_approval_remark\"  rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                    if((isnull(tsh.created_at) AND tsh.created_at = '1970-01-01' AND tsh.created_at = '0000-00-00'),'',DATE_FORMAT(tsh.created_at,'%d-%m-%Y %h:%i:%s')),
                    concat('<div class=\"input-group\">
                                <div class=\"input-group-btn\">
                                    <button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
                                    <ul class=\"dropdown-menu\" style=\"min-width: 85px;\">',
                                    if(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3',
                                        concat('<li>
                                            <span style=\"cursor: pointer;\" class=\"deleteRecord_approval\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
                                            </span>
                                        </li>')
                                        ,if(tsh.status='Status 4' OR tsh.status='Status 5',
                                            concat('<li>
                                                <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                    &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
                                                </span>
                                            </li>')
                                            ,if(tsh.status='Status 6' OR tsh.status='Status 7',
                                                concat('<li>
                                                    <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                        &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
                                                    </span>
                                                </li>')
                                                ,if(tsh.status='Status 8' OR tsh.status='Status 9',
                                                    concat('<li>
                                                        <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
                                                        </span>
                                                    </li>')
                                                    ,if(tsh.status='Status 10',
                                                        concat('<li>
                                                            <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
                                                            </span>
                                                        </li>')
                                                        ,if(tsh.status='Status 11',
                                                            concat('<li>
                                                                <span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                                                    &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
                                                                </span>
                                                            </li>')
                                                            ,''
                                                        )
                                                    )
                                                )
                                            )
                                        )
                                    ),'
                                    </ul>
                                </div>
                            </div>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_control_pannel_monitoring AS tcp', 'tcp.client_id = tcm.client_id AND tcp.tracker_type_id = 4 AND tcp.control_status = "inactive"')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
            FROM tbl_zonal_office_remark as tzor  JOIN
            (select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')
			->join('tbl_client_wise_sequential_job AS tcw', 'tsh.shipment_id=tcw.sequential_job_number AND tcw.display="Y"', 'LEFT')
			->where('tsh.status != "Status 12"')
			->where('tsh.approval_step != "rejected"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')

			->unset_column('tsh.shipment_id');

		if (isset($where) && !empty($where)) {
			$where = urldecode($where);
			$where = html_entity_decode($where);
			$this->datatables->where($where);
		}

		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tsh.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);
			$status2 = "'" . implode("','", $status1) . "'";
			$data = $data . 'tsh.status IN (' . $status2 . ') AND ';

		}

		if (isset($activity) and !empty($activity)) {
			$data = $data . 'tsh.type_activity_name = "' . $activity . '" AND ';
		}

		if (isset($sez_name) and !empty($sez_name)) {
			$data = $data . 'tcm.sez_id = ' . $sez_name . ' AND ';
		}

		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "' . $work_related_to . '" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			if ($zonal_office == "NA")
				$data = $data . ' (tzo.zonal_office_name IS NULL OR tzo.zonal_office_name="") AND ';
			else
				$data = $data . 'tsh.zonal_office LIKE "' . $zonal_office . '" AND ';
		}

		if (isset($from_date) and !empty($from_date)) {
			$data = $data . 'tsh.created_at >="' . $from_date . '" AND ';
		}

		if (isset($to_date) and !empty($to_date)) {
			$data = $data . ' tsh.created_at <="' . $to_date . '" AND ';
		}

		if (isset($type_of_ctivity) and !empty($type_of_ctivity)) {
			if ($type_of_ctivity == 'SEZ') {
				$data = $data . 'tun.type_of_activity = "SEZ" AND ';
			} else if ($type_of_ctivity == 'IFSC') {
				$data = $data . 'tun.type_of_activity = "IFSC" AND ';
			} else if ($type_of_ctivity == 'IEC') {
				$data = $data . 'tun.type_of_activity = "IEC" AND ';
			} else if ($type_of_ctivity == 'GST') {
				$data = $data . 'tun.type_of_activity = "GST" AND ';
			} else if ($type_of_ctivity == 'RCMC') {
				$data = $data . 'tun.type_of_activity = "RCMC" AND ';
			} else if ($type_of_ctivity == 'State Government Incentive') {
				$data = $data . 'tun.type_of_activity = "State Government Incentive" AND ';
			} else if ($type_of_ctivity == 'Others') {
				$data = $data . 'tun.type_of_activity = "Others" AND ';
			}


		}

		$data = $data . 'tsh.display = "Y"';

		$this->datatables->where($data);

		echo $this->datatables->generate();
	}
	/****************************End Dashboard Load View*******************************/

	/****************************Start Step-1*******************************/
	/*function fetchAllContractByClient()
		  {
			  $client_id = $this->input->post('cid');
			  $this->load->model('common_model');
			  $stateDetails = $this->common_model->selectAllWhr('tbl_gist_of_contract','client_no',$client_id);
			  $cnt = '<option value="">Select</option>';
			  if(isset($stateDetails) && !empty($stateDetails))
			  {
				  foreach ($stateDetails as $key)
				  {
					  $cnt = $cnt.'<option value="'.$key->unit_id.'">'.$key->unit_name.'</option>';
				  }
			  }
			  $this->json->jsonReturn($cnt);
		  }*/

	//start emp wise pending approval
	public function get_employee_pending_approval()
	{
		$this->datatables->select("td.user_id, CONCAT(td.salutation,' ',td.firstname,' ',td.lastname) as name, CONCAT('<a href=\"javascript:void(0);\" class=\"pen_tran_approval\" rel=\"',td.user_id,'\">',count(ts.shipment_id),'</a>') as pending", FALSE)
			->from('tbl_emp_work_allocation te')
			->distinct('td.user_id')
			->join('tbl_client_master tcm', 'te.client_id = tcm.client_id AND tcm.display = "Y" AND tcm.close_status = "Opend"', 'LEFT')
			->join('tbl_approval ts', 'tcm.client_name = ts.client_name AND ts.display = "Y"', 'LEFT')
			->join('tbl_employee_personal_details td', 'FIND_IN_SET(td.user_id , te.user_id) AND td.display = "Y"', 'LEFT')
			->where('ts.status != "Status 13"')
			->where('ts.approval_step != "rejected"')
			->where('(ts.approval_status!="Query Raised" OR isnull(ts.approval_status) OR ts.approval_status=" ")')
			->where('te.sub_activity_id=14')
			->where('te.display = "Y"')
			->group_by('td.user_id')
			->unset_column('td.user_id');

		echo $this->datatables->generate();
	}

	public function get_emp_pending_approval_dashboard()
	{
		$data['info'] = $this->input->post('info');

		$view = $this->load->view('approval/get_emp_pend_approval_sub_dashboard', $data, true);
		$this->json->jsonReturn(array('valid' => TRUE, 'view' => $view));
	}

	public function get_empwise_approval_sub_dashboard($info)
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');

		$this->datatables->select("tsh.job_number,tsh.quotation_number,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(deleted)',tun.service_name)) AS service_name,
				tsh.checklist_sent,DATE_FORMAT(tsh.date_of_receipt_approval,'%d-%m-%Y') as date_of_receipt_approval,tsh.approval_status
					,concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',' <span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>'
                            ,if(tsh.status='Status 2',
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>'
	                            ,if(tsh.status='Status 3',
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>'
	 	                            ,if(tsh.status='Status 4',
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>'
		 	                            ,if(tsh.status='Status 5',
		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>'
			 	                            ,if(tsh.status='Status 6',
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>'
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>'
			 	                           		 	,if(tsh.status='Status 8',
				 	                           		 	 '<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>'
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>'
					 	                           		 	,if(tsh.status='Status 10',
				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>'
						 	                           		 	,if(tsh.status='Status 11',
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>'
							 	                           		 	,if(tsh.status='Status 12',
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>'
								 	                           		 	,''
								 	                           		 	)
							 	                           		 	)
						 	                           		 	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')
                    ,if((r.user_id=0),group_concat(r.remark),concat(concat('<b>',e.salutation,' ',e.firstname,' ',e.lastname,' - ','</b>'),' ',group_concat(r.remark))) as remark,DATE_FORMAT(tsh.created_at,'%d-%m-%Y')

                    ,if(tsh.status='status 1',
                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
                    		concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'),
                            	'<br>',
                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 2 Target Date\" data-update=\"1\" data-step=\"2\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									 Change Date
                                </span>'),
							concat(DATE_FORMAT(tsh.step2_target_date,'%d-%m-%Y'))
						)
						,if(tsh.status='status 2',
	                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
	                    		concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'),
	                            	'<br>',
	                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 3 Target Date\" data-step=\"3\" data-url=\"change_approval_target_date\"  rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										 Change Date
	                                </span>'),
								concat(DATE_FORMAT(tsh.step3_target_date,'%d-%m-%Y'))
							)
							,if(tsh.status='status 3',
		                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
		                    		concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'),
		                            	'<br>',
		                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 4 Target Date\" data-step=\"4\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											 Change Date
		                                </span>'),
									concat(DATE_FORMAT(tsh.step4_target_date,'%d-%m-%Y'))
								)
								,if(tsh.status='status 4',
			                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
			                    		concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'),
			                            	'<br>',
			                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 5 Target Date\" data-step=\"5\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												 Change Date
			                                </span>'),
										concat(DATE_FORMAT(tsh.step5_target_date,'%d-%m-%Y'))
									)
									,if(tsh.status='status 5',
				                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
				                    		concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'),
				                            	'<br>',
				                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Change Date
				                                </span>'),
											concat(DATE_FORMAT(tsh.step6_target_date,'%d-%m-%Y'))
										)
										,if(tsh.status='status 6',
					                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
					                    		concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'),
					                            	'<br>',
					                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 7 Target Date\" data-step=\"7\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														 Change Date
					                                </span>'),
												concat(DATE_FORMAT(tsh.step7_target_date,'%d-%m-%Y'))
											)
											,if(tsh.status='status 7',
						                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
						                    		concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'),
						                            	'<br>',
						                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 8 Target Date\" data-step=\"8\"  data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
															 Change Date
						                                </span>'),
													concat(DATE_FORMAT(tsh.step8_target_date,'%d-%m-%Y'))
												)
												,if(tsh.status='status 8',
							                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
							                    		concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'),
							                            	'<br>',
							                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 9 Target Date\" data-step=\"9\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																 Change Date
							                                </span>'),
														concat(DATE_FORMAT(tsh.step9_target_date,'%d-%m-%Y'))
													)
													,if(tsh.status='status 9',
								                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
								                    		concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'),
								                            	'<br>',
								                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 10 Target Date\" data-step=\"10\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	 Change Date
								                                </span>'),
															concat(DATE_FORMAT(tsh.step10_target_date,'%d-%m-%Y'))
														)
														,if(tsh.status='status 10',
									                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
									                    		concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'),
									                            	'<br>',
									                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 11 Target Date\" data-step=\"11\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																		 Change Date
									                                </span>'),
																concat(DATE_FORMAT(tsh.step11_target_date,'%d-%m-%Y'))
															)
															,if(tsh.status='status 11',
										                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
										                    		concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'),
										                            	'<br>',
										                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																			 Change Date
										                                </span>'),
																	concat(DATE_FORMAT(tsh.step12_target_date,'%d-%m-%Y'))
																)
																,if(tsh.status='status 12',
											                    	if(($user_id=348) OR ($user_id=1) OR ($user_id=95) OR ($user_id=96),
											                    		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'),
											                            	'<br>',
											                            	'<span style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips approval_status_updation\" rev=\"Change Step 12 Target Date\" data-step=\"12\" data-url=\"change_approval_target_date\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				 Change Date
											                                </span>'),
																		concat(DATE_FORMAT(tsh.step13_target_date,'%d-%m-%Y'))
																	)
																,''
																)
															)
														)
													)
												)
											)
										)
									)
								)
							)
					    )
					)
					,if(tsh.status='Status 1',
                    	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>'
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>')
                            ,if(tsh.status='Status 2',
                            	concat(IF(tsh.checker_maker_2='Approved','<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>',
                                '<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                </span>')
                                '&nbsp;&nbsp;&nbsp;'
                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
                                    <i class=\"fa fa-comments\"></i>
                                </span>')
	                            ,if(tsh.status='Status 3',
	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
                                    <i class=\"fa fa-edit\"></i>
                                	</span>'
                                	'&nbsp;&nbsp;&nbsp;'
	                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
	                                    <i class=\"fa fa-comments\"></i>
	                                </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                    <i class=\"fa fa-edit\"></i>
		                                </span>'
		                                '&nbsp;&nbsp;&nbsp;'
		                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
		                                    <i class=\"fa fa-comments\"></i>
		                                </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                    <i class=\"fa fa-edit\"></i>
			                                </span>'
			                                '&nbsp;&nbsp;&nbsp;'
			                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
			                                    <i class=\"fa fa-comments\"></i>
			                                </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
				                                    <i class=\"fa fa-edit\"></i>
				                                </span>'
				                                '&nbsp;&nbsp;&nbsp;'
				                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
				                                    <i class=\"fa fa-comments\"></i>
				                                </span>')
												,if(tsh.status='Status 7',
				 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                    <i class=\"fa fa-edit\"></i>
					                                </span>'
					                                '&nbsp;&nbsp;&nbsp;'
					                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
					                                    <i class=\"fa fa-comments\"></i>
					                                </span>')
					                                ,if(tsh.status='Status 8',
					 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                    <i class=\"fa fa-edit\"></i>
						                                </span>'
						                                '&nbsp;&nbsp;'
						                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
						                                    <i class=\"fa fa-comments\"></i>
						                                </span>')
					                                 	,if(tsh.status='Status 9',
						 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                    <i class=\"fa fa-edit\"></i>
							                                </span>'
							                                '&nbsp;&nbsp;&nbsp;'
							                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
							                                    <i class=\"fa fa-comments\"></i>
							                                </span>')
						                                 	,if(tsh.status='Status 10',
							 	                            	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                    <i class=\"fa fa-edit\"></i>
								                                </span>'
								                                '&nbsp;&nbsp;&nbsp;'
								                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
								                                    <i class=\"fa fa-comments\"></i>
								                                </span>')
				 	                           		 			,if(tsh.status='Status 11',
							 	                           		 	concat('<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i></a>'
							 	                           		 		'&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>')
										                            ,if(tsh.status='Status 12',
								 	                           		 	concat('<span style=\"cursor: pointer;\" class=\"tooltips approval_status_updation\" rev=\"Online Submission\" data-url=\"approval_status13_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                    <i class=\"fa fa-edit\"></i>
										                                </span>'
										                                '&nbsp;&nbsp;&nbsp;'
										                                '<span style=\"cursor: pointer;\" class=\"tooltips remark_updation\" rev=\"Add Remark\" data-url=\"approval_common_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">
										                                    <i class=\"fa fa-comments\"></i>
										                                </span>'),''
					 	                           		 			)
				 	                           		 			)
					 	                           		 	)
					 	                            	)
		 	    		                        	)
		 	            		                )
	                            			)
                               			)
									)
								)
							)
                        ) ,
                        concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm yellow dropdown-toggle\" data-toggle=\"dropdown\">Edit <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">'
									,if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
											concat('<li>
												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
		                                        </span>
	                                    	</li>',
	                                    	'<li>
												<span style=\"cursor: pointer;\" class=\"status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
	                                            </span>
											</li>')
		                                    ,if(tsh.status='Status 3',
												concat('<li>
														<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
				                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
				                                        </span>
			                                    	</li>',
			                                    	'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
			                                            </span>
													</li>',
													'<li>
														<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
			                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
			                                            </span>
													</li>')
													,if(tsh.status='Status 4',
														concat('<li>
																<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
						                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
						                                        </span>
					                                    	</li>',
					                                    	'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
					                                            </span>
															</li>',
															'<li>
																<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
					                                        </li>')
															,if(tsh.status='Status 5',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
									                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
									                                        </span>
								                                    	</li>',
								                                    	'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
								                                            </span>
																		</li>',
																		'<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
								                                            </span>
								                                        </li>',
								                                        '<li>
																			<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
								                                            </span>
																		</li>')
																		,if(tsh.status='Status 6',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
												                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
												                                        </span>
											                                    	</li>',
											                                    	'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
											                                            </span>
											                                        </li>',
											                                        '<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
											                                            </span>
																					</li>',
																					'<li>
																						<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
											                                            </span>
																					</li>')
																					,if(tsh.status='Status 7',
																						concat('<li>
																									<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
															                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
															                                        </span>
														                                    	</li>',
														                                    	'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
														                                            </span>
														                                        </li>',
														                                        '<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
														                                            </span>
																								</li>',
																								'<li>
																									<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
														                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
														                                            </span>
																								</li>')
																								,if(tsh.status='Status 8',
																									concat('<li>
																												<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																		                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																		                                        </span>
																	                                    	</li>',
																	                                    	'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																	                                            </span>
																	                                        </li>',
																	                                        '<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																	                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																	                                            </span>
																											</li>',
																											'<li>
																												<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																								                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																								                </span>
																											</li>')
																											,if(tsh.status='Status 9',
																												concat('<li>
																															<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																					                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																					                                        </span>
																				                                    	</li>',
																				                                    	'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																				                                            </span>
																				                                        </li>',
																				                                        '<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																				                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																				                                            </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																											                </span>
																														</li>',
																														'<li>
																															<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																											                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																											                </span>
																														</li>')
																														,if(tsh.status='Status 10',
																															concat('<li>
																																		<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																								                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																								                                        </span>
																							                                    	</li>',
																							                                    	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																							                                            </span>
																							                                        </li>',
																							                                        '<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																							                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																							                                            </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																														                </span>
																																	</li>',
																																	'<li>
																																		<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																														                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																														                </span>
																																	</li>')
																																	,if(tsh.status='Status 11',
																																		concat('<li>
																																					<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																											                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																											                                        </span>
																										                                    	</li>',
																										                                    	'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																										                                            </span>
																										                                        </li>',
																										                                        '<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																										                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																										                                            </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																	                </span>
																																				</li>',
																																				'<li>
																																					<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																	                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																	                </span>
																																				</li>')
																																				,if(tsh.status='Status 12',
																																					concat('<li>
																																								<span style=\"cursor: pointer;\" class=\"editRecord_dashboard\" rev=\"edit_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
																														                                            &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 1</i>
																														                                        </span>
																													                                    	</li>',
																													                                    	'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Management for Approval\" data-url=\"approval_status2_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 2</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Checklist sent to Client for call of document\" data-url=\"approval_status3_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 3</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Document from Client\" data-url=\"approval_status4_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 4</i>
																													                                            </span>
																													                                        </li>',
																													                                        '<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Draft Application sent to Mangement for checking\" data-url=\"approval_status5_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 5</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Sharing of Final Draft Application to Client\" data-url=\"approval_status6_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 6</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Receipt of Signed documents from client\" data-url=\"approval_status7_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																													                                                &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 7</i>
																													                                            </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Application through SEZ Online Portal\" data-url=\"approval_status8_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 8</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Despatch of Document for submission\" data-url=\"approval_status9_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 9</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Submission of Document\" data-url=\"approval_status10_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 10</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" class=\" status_updation\" data-update=\"1\" rev=\"Status of Application\" data-url=\"approval_status11_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<i class=\"fa fa-edit\">&nbsp;&nbsp; Status 11</i>
																																				                </span>
																																							</li>',
																																							'<li>
																																								<span style=\"cursor: pointer;\" data-original-title=\"Update Status\" data-placement=\"top\">
																																				                    &nbsp;<a href=\"approval_status12_updation/',tsh.shipment_id,'\"><i class=\"fa fa-edit\"></i>&nbsp;&nbsp;Status 12</a>
																																				                </span>

																																							</li>'
																																						),''
																																				)
																																	)
																														)
																											)
																								)
																					)
																		)
															)
													)
											)
										)
									),'
									</ul>
								</div>
							</div>')
							,concat('<div class=\"input-group\">
								<div class=\"input-group-btn\">
									<button type=\"button\" class=\"btn btn-sm red dropdown-toggle\" data-toggle=\"dropdown\">Delete <i class=\"fa fa-angle-down\"></i></button>
									<ul class=\"dropdown-menu\" style=\"min-width: 85px;\">
									',
									if(tsh.status='Status 1',
										concat('<li>
											<span style=\"cursor: pointer;\" class=\"deleteRecord\" rev=\"delete_approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Edit\" data-placement=\"top\">
	                                            &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 1</i>
	                                        </span>
	                                    </li>')
										,if(tsh.status='Status 2',
										concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status2_deletion\" data-url=\"Checklist sent to Management for Approval\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 2</i>
		                                            </span>
												</li>')
	                                    ,
										if(tsh.status='Status 3',
											concat('<li>
													<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status3_deletion\" data-url=\"Checklist sent to Client for call of document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
		                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 3</i>
		                                            </span>
												</li>')
												,
												if(tsh.status='Status 4',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status4_deletion\" data-url=\"Receipt of Document from Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 4</i>
					                                            </span>
															</li>'
															)
												,
												if(tsh.status='Status 5',
													concat('<li>
																<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status5_deletion\" data-url=\"Draft Application sent to Mangement for checking\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
					                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 5</i>
					                                            </span>
					                                        </li>'
															)
													,
													if(tsh.status='Status 6',
														concat('<li>
																	<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status6_deletion\" data-url=\"Sharing of Final Draft Application to Client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
						                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 6</i>
						                                            </span>
																</li>'
																)
														,
														if(tsh.status='Status 7',
															concat('<li>
																		<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status7_deletion\" data-url=\"Receipt of Signed documents from client\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
							                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 7</i>
							                                            </span>
																	</li>'
																	)
															,
															if(tsh.status='Status 8',
																concat('<li>
																			<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status8_deletion\" data-url=\"Submission of Application through SEZ Online Portal\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
								                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 8</i>
								                                            </span>
																		</li>'
																		)
																,
																if(tsh.status='Status 9',
																	concat('<li>
																				<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status9_deletion\" data-url=\"Despatch of Document for submission\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
									                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 9</i>
									                                            </span>
																			</li>'
																		)
																	,
																	if(tsh.status='Status 10',
																		concat('<li>
																					<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status10_deletion\" data-url=\"Submission of Document\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
										                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 10</i>
										                                            </span>
																				</li>'
																		)
																		,
																		if(tsh.status='Status 11',
																			concat('<li>
																						<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status11_deletion\" data-url=\"Status of Application\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
											                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 11</i>
											                                            </span>
																					</li>'
																			)
																			,
																			if(tsh.status='Status 12',
																				concat('<li>
																							<span style=\"cursor: pointer;\" class=\"status_deletion\" data-update=\"1\" rev=\"approval_status12_deletion\" data-url=\"Invoice Details\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
												                                                &nbsp;<i class=\"fa fa-trash-o\">&nbsp;&nbsp; Status 12</i>
												                                            </span>
																						</li>'
																				)
																				,'')
																			)
																		)
																	)
																)
															)
														)
													)
												)
											)
										)
										)

									,'
									</ul>
								</div>
							</div>')
                            ")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master tcm', 'tsh.client_name = tcm.client_name AND tcm.display = "Y"', '')
			->join('tbl_emp_work_allocation te', 'te.client_id = tcm.client_id AND te.display = "Y"', '')
			->join('tbl_employee_personal_details td', 'FIND_IN_SET(td.user_id , te.user_id) AND td.display = "Y"', '')
			->join('tbl_approval_remark r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('tbl_employee_personal_details e', 'e.user_id = r.user_id AND e.display="Y"', 'left')
			->join('tbl_services_master AS tun', 'tsh.type_activity_name=tun.service_id AND tun.services_status="Approved"')
			->join('tbl_userinfo AS tu', '(tsh.user_id=tu.user_id OR find_in_set(tsh.shipment_id,ship_view)', 'left')
			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->where('te.sub_activity_id=14')
			->where('tsh.display="Y"')
			->group_by('tsh.shipment_id')
			->unset_column('tsh.shipment_id');

		if (isset($info) && !empty($info)) {
			$this->datatables->where('td.user_id', $info);
		}

		echo $this->datatables->generate();
		//echo $this->db->last_query();
	}

	//end emp wise pending approval

	public function approval()
	{
		$id = $this->input->post('id');
		$data['user_data'] = $this->st_model_r->fetchuserlist();
		$data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
		$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer', 'officer_id');
		$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer', 'assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		if ($id) {
			$data['gist_data'] = $this->approval_model->fetchGistOfContract();
			$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
			//$data['quotation_data']=$this->common_model->fetchDataFromTable('tbl_quotation', 'job_number');
			$data['activity_data'] = $this->approval_model->fetchservicesData();
			//print_r($data['activity_data']); exit();
			$this->load->view('approval/approval', $data);
		} else {
			$data['gist_data'] = $this->approval_model->fetchGistOfContract();
			$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
			//$data['quotation_data']=$this->common_model->fetchDataFromTable('tbl_quotation', 'job_number');
			$data['activity_data'] = $this->approval_model->fetchservicesData();
			//print_r($data['activity_data']); exit();
			/*$data['approval_gist_data']=$this->approval_model->fetchContractNoFromGistTable();
									   $data['gistContractData'] = $this->common_model->selectAllWhr('tbl_approval_gist_contract','shipment_id',$id);*/
			$data['shipment_data'] = $this->approval_model->approval_data();
			// print_r($data['shipment_data']);
			$this->load->view('approval/approval', $data);
		}
	}

	public function featch_sez()
	{
		$client_name = $this->input->post('id');
		$sez_data = $this->approval_model->fetch_sez($client_name);
		if (isset($sez_data) && !empty($sez_data)) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'sez_name' => $sez_data->sez_id,
					'auth_name' => $sez_data->work_related_name,
					'zon_ofc' => $sez_data->zonal_office_name
				)
			);
		}

	}

	public function deactive_approval()
	{
		$id = $this->input->post('id');
		$data['shipment_data'] = $this->approval_model->deactve_approval_data();
		//print_r($data['shipment_data']);exit();
		$this->load->view('approval/deactive_approval', $data);
	}



	// public function save_new_approval()
	// {

	// 	$cityId=$this->input->post('city_id');
	// 	// print_r($cityId);die;
	// 	$hidden_serv_chk_id = $this->input->post('hidden_serv_chk_id');

	// 	$service_id=$this->input->post('service_id');
	// 	$this->load->model('common_model');
	// 	$service_name=trim($this->input->post('service_name'));
	// 	$sez_cost=$this->input->post('sez_cost');
	// 	$service_type=$this->input->post('service_type');
	// 	$tracker_type=$this->input->post('tracker_type');
	// 	$department_name = $this->input->post('department_name');

	// 	$hidden_attachment_id=$this->input->post('hidden_attachment_id');

	// 	$checklist_hidden_images=$this->input->post('checklist_hidden_images');
	// 	$checklist_hidden_orig_images=$this->input->post('checklist_hidden_orig_images');

	// 	$template_hidden_images=$this->input->post('template_hidden_images');
	// 	$template_hidden_orig_images=$this->input->post('template_hidden_orig_images');

	// 	$instruction_hidden_images=$this->input->post('instruction_hidden_images');
	// 	$instruction_hidden_orig_images=$this->input->post('instruction_hidden_orig_images');

	// 	$sop_hidden_images=$this->input->post('sop_hidden_images');
	// 	$sop_hidden_orig_images=$this->input->post('sop_hidden_orig_images');

	// 	$goc_hidden_images=$this->input->post('goc_hidden_images');
	// 	$goc_hidden_orig_images=$this->input->post('goc_hidden_orig_images');

	// 	//rahul

	// 	$rcl_hidden_images=$this->input->post('rcl_hidden_images');
	// 	$rcl_hidden_orig_images=$this->input->post('rcl_hidden_orig_images');

	// 	$govt_hidden_images=$this->input->post('govt_hidden_images');
	// 	$govt_hidden_orig_images=$this->input->post('govt_hidden_orig_images');

	// 	$dd_hidden_images=$this->input->post('dd_hidden_images');
	// 	$dd_hidden_orig_images=$this->input->post('dd_hidden_orig_images');

	// 	$faq_hidden_images=$this->input->post('faq_hidden_images');
	// 	$faq_hidden_orig_images=$this->input->post('faq_hidden_orig_images');

	// 	$fc_hidden_images=$this->input->post('fc_hidden_images');
	// 	$fc_hidden_orig_images=$this->input->post('fc_hidden_orig_images');

	// 	$sq_hidden_images=$this->input->post('sq_hidden_images');
	// 	$sq_hidden_orig_images=$this->input->post('sq_hidden_orig_images');

	// 	$lar_hidden_images=$this->input->post('lar_hidden_images');
	// 	$lar_hidden_orig_images=$this->input->post('lar_hidden_orig_images');

	// 	$sub_hidden_images=$this->input->post('sub_hidden_images');
	// 	$sub_hidden_orig_images=$this->input->post('sub_hidden_orig_images');

	// 	$type_of_activity=$this->input->post('type_of_activity');

	// 	$serv_chk_id = $this->input->post('hidden_serv_chk_id');
	// 	//end

	// 	$checklist_attachment = array();
	//        if(isset($_FILES['checklist_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['checklist_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['checklist_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['checklist_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['checklist_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['checklist_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['checklist_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_checklist());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $checklist_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Checklist File');
	//            }
	//        }
	// 	// print_r($checklist_attachment);

	// 	$template_attachment = array();
	//        if(isset($_FILES['template_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['template_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['template_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['template_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['template_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['template_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['template_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_template());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $template_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Template File');
	// 			// echo '<pre>';
	// 			//  print_r($template_attachment);
	//            }
	//        }
	// 	//  print_r($template_attachment);die;


	//        $instruction_attachment = array();
	//        if(isset($_FILES['instruction_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['instruction_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['instruction_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['instruction_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['instruction_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['instruction_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['instruction_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_instruction());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $instruction_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Instruction File');
	//            }
	//        }

	//        $sop_attachment = array();
	//        if(isset($_FILES['sop_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sop_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sop_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sop_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sop_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sop_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sop_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sop());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sop_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SOP File');
	//            }
	//        }
	//        // print_r($sop_attachment);die;
	//        $goc_attachment = array();
	//        if(isset($_FILES['goc_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['goc_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['goc_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['goc_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['goc_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['goc_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['goc_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_goc());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $goc_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'GOC File');
	//            }
	//        }


	//        //rahul

	//        $rcl_attachment = array();
	//        if(isset($_FILES['rcl_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['rcl_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['rcl_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['rcl_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['rcl_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['rcl_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['rcl_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_rcl());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $rcl_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'RCL File');
	//            }
	//        }

	//        $govt_attachment = array();
	//        if(isset($_FILES['govt_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['govt_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['govt_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['govt_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['govt_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['govt_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['govt_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_govt());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $govt_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'GOVT File');
	//            }
	//        }

	//        $dd_attachment = array();
	//        if(isset($_FILES['dd_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['dd_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['dd_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['dd_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['dd_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['dd_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['dd_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_dd());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $dd_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'DD File');
	//            }
	//        }
	// 	// print_r($dd_attachment);die;

	//        $faq_attachment = array();
	//        if(isset($_FILES['faq_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['faq_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['faq_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['faq_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['faq_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['faq_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['faq_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_faq());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $faq_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'FAQ File');
	//            }
	//        }

	//        $fc_attachment = array();
	//        if(isset($_FILES['fc_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['fc_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['fc_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['fc_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['fc_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['fc_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['fc_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_fc());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $fc_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'FC File');
	//            }
	//        }

	//        $sq_attachment = array();
	//        if(isset($_FILES['sq_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sq_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sq_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sq_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sq_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sq_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sq_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sq());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sq_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SQ File');
	//            }
	//        }

	//        $lar_attachment = array();
	//        if(isset($_FILES['lar_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['lar_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['lar_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['lar_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['lar_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['lar_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['lar_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_lar());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $lar_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'LAR File');
	//            }
	//        }

	//        $sub_attachment = array();
	//        if(isset($_FILES['sub_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sub_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sub_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sub_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sub_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sub_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sub_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sub());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sub_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SS File');
	//            }
	//        }

	//        $hidden_serv_chk_id = $this->input->post('hidden_serv_chk_id');
	//        $city_id = $this->input->post('city_id');
	//        $sez_id = $this->input->post('sez_id');
	//        $type_of_client = $this->input->post('type_of_client');
	//        $client_unit = $this->input->post('client_unit');

	//        $serv_check_data = array();

	//        $checklist = '';
	// 	$template = '';
	// 	$printing_instruction = '';
	// 	$standard_qut = '';
	// 	$chk_rand = '';
	// 	$temp_rand = '';
	// 	$print_rand = '';
	//       // if (isset($city_id) && !empty($city_id)) {
	// 	//echo count($city_id); exit();
	//        	for ($m=0; $m < count($city_id); $m++)
	//        	{

	//        		/*if (isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name = 'chk_hidden_'.($m+1);
	//        			$checklist = $this->input->post($file_name);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name1 = 'temp_hidden_'.($m+1);
	//        			$template = $this->input->post($file_name1);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name2 = 'print_hidden_'.($m+1);
	//        			$printing_instruction = $this->input->post($file_name2);
	//        		}*/

	//        		/*if (isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name = 'chk_random_'.($m+1);
	//        			$chk_rand = $this->input->post($file_name);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name1 = 'temp_random_'.($m+1);
	//        			$temp_rand = $this->input->post($file_name1);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name2 = 'print_random_'.($m+1);
	//        			$print_rand = $this->input->post($file_name2);
	//        		}*/


	//        		$user_id = $this->session->userdata('user_id');
	//        		$client_name_c = trim($this->input->post('collapse_'.($m+1).'_client_name_c'));
	//        		$w_send_mail_c = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_c'));
	//        		$subject_c = trim($this->input->post('collapse_'.($m+1).'_subject_c'));
	//        		$to_c = trim($this->input->post('collapse_'.($m+1).'_to_c'));
	// 			$cc_mail_id_c = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_c'));
	// 			$msg_body = $this->input->post('collapse_'.($m+1).'_checklist');
	// 			$serv_chk_id_c = $this->input->post('collapse_'.($m+1).'_serv_chk_id_c');
	// 			$type_c = $this->input->post('collapse_'.($m+1).'_type_c');
	// 			$chk_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_chk_box');
	// 			$chk_hidden_file_id = '';
	// 			if(isset($chk_hidden_file_id1) && !empty($chk_hidden_file_id1))
	// 			{$chk_hidden_file_id = implode(',',$chk_hidden_file_id1);}
	// 			//print_r($chk_hidden_file_id); exit();
	// 			//$chk_random = $this->input->post('chk_random');

	// 			// $chk_file='';
	// 			// $chk_file_name='';
	// 			// $temp_chk_file_name = 'collapse_'.($m+1).'_chk_file'; /*'collapse_'.($m+1).'_chk_file'*/

	// 			// if(isset($_FILES[$temp_chk_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_chk_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_chk_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$chk_file = $logoData['file_name'];
	// 			// 		$chk_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $chk_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$chk_file = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name');
	// 			// 	$chk_file_name = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name_org');
	// 			// }


	// 	        $chk_file= array();
	// 	        $chk_file_name = "collapse_".($m+1)."_chk_file";
	// 	        if(isset($_FILES[$chk_file_name]['name']) && !empty($_FILES[$chk_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$chk_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$chk_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$chk_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$chk_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$chk_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$chk_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($chk_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $chk_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Checklist');
	// 	            }
	// 	        }

	// 			$checklist_array = array('msg_body'=>$msg_body,'to'=>$to_c,'cc'=>$cc_mail_id_c,'subject'=>$subject_c,'client_id'=>$client_name_c,'serv_chk_id'=>$serv_chk_id_c,'type'=>$type_c,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'chk_attachment'=>$chk_file,'w_send_mail_c'=>$w_send_mail_c,'chk_hidden_file_id'=>$chk_hidden_file_id);

	// 			//  print_r($checklist_array); 
	// 			// exit();
	// 			$client_name_t = trim($this->input->post('collapse_'.($m+1).'_client_name_t'));
	//        		$w_send_mail_t = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_t'));
	//        		$subject_t = trim($this->input->post('collapse_'.($m+1).'_subject_t'));
	//        		$to_t = trim($this->input->post('collapse_'.($m+1).'_to_t'));
	// 			$cc_mail_id_t = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_t'));
	// 			$msg_body_t = $this->input->post('collapse_'.($m+1).'_template');
	// 			$serv_chk_id_t = $this->input->post('collapse_'.($m+1).'_serv_chk_id_t');
	// 			$type_t = $this->input->post('collapse_'.($m+1).'_type_t');
	// 			$temp_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_temp_box');
	// 			$temp_hidden_file_id = '';
	// 			if(isset($temp_hidden_file_id1) && !empty($temp_hidden_file_id1))
	// 			{$temp_hidden_file_id = implode(',',$temp_hidden_file_id1);}
	// 			//$chk_random = $this->input->post('chk_random');

	// 			// $template_file='';
	// 			// $template_file_name='';
	// 			// $temp_file_name = 'collapse_'.($m+1).'_template_file'; /*'collapse_'.($m+1).'_template_file'*/

	// 			// if(isset($_FILES[$temp_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$template_file = $logoData['file_name'];
	// 			// 		$template_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $template_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$template_file = $this->input->post('hidden_collapse_'.($m+1).'_file_name');
	// 			// 	$template_file_name = $this->input->post('hidden_collapse_'.($m+1).'_file_name_org');
	// 			// }
	// 			//exit();
	// 			$template_file= array();
	// 	        $template_file_name = "collapse_".($m+1)."_temp_file";
	// 	        if(isset($_FILES[$template_file_name]['name']) && !empty($_FILES[$template_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$template_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$template_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$template_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$template_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$template_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$template_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($template_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $template_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template');
	// 	            }
	// 	        }
	// 			// $template_file= array();
	// 	        // $template_file_name = "collapse_".($m+1)."_temp_file";
	// 	        // if(isset($_FILES[$template_file_name]['name']) && !empty($_FILES[$template_file_name]['name']))
	// 	        // {
	// 	        //     $files = $_FILES;
	// 	        //     $cpt = count($_FILES[$template_file_name]['name']);
	// 	        //     for($i=0; $i<$cpt; $i++)
	// 	        //     {
	// 	        //         $_FILES['userfile']['name']= $files[$template_file_name]['name'][$i];
	// 	        //         $_FILES['userfile']['type']= $files[$template_file_name]['type'][$i];
	// 	        //         $_FILES['userfile']['tmp_name']= $files[$template_file_name]['tmp_name'][$i];
	// 	        //         $_FILES['userfile']['error']= $files[$template_file_name]['error'][$i];
	// 	        //         $_FILES['userfile']['size']= $files[$template_file_name]['size'][$i];
	// 	        //         $this->upload->initialize($this->set_upload_option($template_file_name));
	// 	        //         $this->upload->do_upload();
	// 	        //         echo $this->upload->display_errors();
	// 	        //         $data = $this->upload->data();
	// 	        //         $template_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template');
	// 	        //     }
	// 	        // }
	// 			// print_r($template_file);die;
	//                // $checklist_array = array('msg_body'=>$msg_body,'to'=>$to_c,'cc'=>$cc_mail_id_c,'subject'=>$subject_c,'client_id'=>$client_name_c,'serv_chk_id'=>$serv_chk_id_c,'type'=>$type_c,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'chk_attachment'=>$checklist_attachment,'w_send_mail_c'=>$w_send_mail_c,'chk_hidden_file_id'=>$chk_hidden_file_id);

	// 			$template_array = array('msg_body'=>$msg_body_t,'to'=>$to_t,'cc'=>$cc_mail_id_t,'subject'=>$subject_t,'client_id'=>$client_name_t,'serv_chk_id'=>$serv_chk_id_t,'type'=>$type_t,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'temp_attachment'=>$template_file,'w_send_mail_t'=>$w_send_mail_t,'temp_hidden_file_id'=>$temp_hidden_file_id);
	// 			//  print_r($template_array);die;

	// 			$client_name_p = trim($this->input->post('collapse_'.($m+1).'_client_name_p'));
	//        		$w_send_mail_p = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_p'));
	//        		$subject_p = trim($this->input->post('collapse_'.($m+1).'_subject_p'));
	//        		$to_p = trim($this->input->post('collapse_'.($m+1).'_to_p'));
	// 			$cc_mail_id_p = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_p'));
	// 			$msg_body_p = $this->input->post('collapse_'.($m+1).'_print_instruct');
	// 			$serv_chk_id_p = $this->input->post('collapse_'.($m+1).'_serv_chk_id_p');
	// 			$type_p = $this->input->post('collapse_'.($m+1).'_type_p');
	// 			$print_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_print_box');
	// 			$print_hidden_file_id = '';
	// 			if(isset($print_hidden_file_id1) && !empty($print_hidden_file_id1))
	// 			{$print_hidden_file_id = implode(',',$print_hidden_file_id1);}

	// 			$print_file= array();
	// 	        $print_file_name = "collapse_".($m+1)."_print_file";
	// 	        if(isset($_FILES[$print_file_name]['name']) && !empty($_FILES[$print_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$print_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$print_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$print_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$print_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$print_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$print_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($print_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $print_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Printing');
	// 	            }
	// 	        }

	// 	        // $print_file='';
	// 			// $print_file_name='';
	// 			// $temp_print_file_name = 'collapse_'.($m+1).'_print_file'; /*'collapse_'.($m+1).'_print_file'*/
	// 			// if(isset($_FILES[$temp_print_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_print_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_print_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$print_file = $logoData['file_name'];
	// 			// 		$print_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $print_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$print_file = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name');
	// 			// 	$print_file_name = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name_org');
	// 			// }

	// 			$printing_array = array('msg_body'=>$msg_body_p,'to'=>$to_p,'cc'=>$cc_mail_id_p,'subject'=>$subject_p,'client_id'=>$client_name_p,'serv_chk_id'=>$serv_chk_id_p,'type'=>$type_p,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'print_attachment'=>$print_file,'w_send_mail_p'=>$w_send_mail_p,'print_hidden_file_id'=>$print_hidden_file_id);
	//                // echo '<pre>';
	//                // print_r($printing_array);
	// 			$client_name_q = $this->input->post('collapse_'.($m+1).'_client_name_q');
	//        		$w_send_mail_q = $this->input->post('collapse_'.($m+1).'_w_send_mail_q');
	//        		$subject_q = trim($this->input->post('collapse_'.($m+1).'_subject_q'));
	//        		$to_q = trim($this->input->post('collapse_'.($m+1).'_to_q'));
	// 			$cc_mail_id_q = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_q'));
	// 			$msg_body_q = $this->input->post('collapse_'.($m+1).'_quotation');
	// 			$serv_chk_id_q = $this->input->post('collapse_'.($m+1).'_serv_chk_id_q');
	// 			$type_q = $this->input->post('collapse_'.($m+1).'_type_q');
	// 			$qut_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_qut_box');
	// 			$qut_hidden_file_id = '';
	// 			if(isset($qut_hidden_file_id1) && !empty($qut_hidden_file_id1))
	// 			{$qut_hidden_file_id = implode(',',$qut_hidden_file_id1);}

	// 			$qut_file= array();
	// 	        $qut_file_name = "collapse_".($m+1)."_qut_file";
	// 	        if(isset($_FILES[$qut_file_name]['name']) && !empty($_FILES[$qut_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$qut_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$qut_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$qut_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$qut_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$qut_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$qut_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($qut_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $qut_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Quotation');
	// 	            }
	// 	        }

	// 			// $qut_file='';
	// 			// $qut_file_name='';
	// 			// $temp_qut_file_name = 'collapse_'.($m+1).'_qut_file'; /*'collapse_'.($m+1).'_qut_file'*/

	// 			// if(isset($_FILES[$temp_qut_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_qut_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_qut_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$qut_file = $logoData['file_name'];
	// 			// 		$qut_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $qut_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$qut_file = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name');
	// 			// 	$qut_file_name = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name_org');
	// 			// }

	// 			$quotation_array = array('msg_body'=>$msg_body_q,'to'=>$to_q,'cc'=>$cc_mail_id_q,'subject'=>$subject_q,'client_id'=>$client_name_q,'serv_chk_id'=>$serv_chk_id_q,'type'=>$type_q,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'qut_attachment'=>$qut_file,'w_send_mail_q'=>$w_send_mail_q,'qut_hidden_file_id'=>$qut_hidden_file_id);


	// 			$client_name_so = $this->input->post('collapse_'.($m+1).'_client_name_so');
	//        		$w_send_mail_so = $this->input->post('collapse_'.($m+1).'_w_send_mail_so');
	//        		$subject_so = trim($this->input->post('collapse_'.($m+1).'_subject_so'));
	//        		$to_so = trim($this->input->post('collapse_'.($m+1).'_to_so'));
	// 			$cc_mail_id_so = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_so'));
	// 			$msg_body_so = $this->input->post('collapse_'.($m+1).'_sop');
	// 			$serv_chk_id_so = $this->input->post('collapse_'.($m+1).'_serv_chk_id_so');
	// 			$type_so = $this->input->post('collapse_'.($m+1).'_type_so');
	// 			$sop_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_sop_box');
	// 			$sop_hidden_file_id = '';
	// 			if(isset($sop_hidden_file_id1) && !empty($sop_hidden_file_id1))
	// 			{$sop_hidden_file_id = implode(',',$sop_hidden_file_id1);}

	// 			$sop_file= array();
	// 	        $sop_file_name = "collapse_".($m+1)."_sop_file";

	// 	        if(isset($_FILES[$sop_file_name]['name']) && !empty($_FILES[$sop_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$sop_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$sop_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$sop_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$sop_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$sop_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$sop_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($sop_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $sop_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'SOP');
	// 	            }
	// 	        }

	// 			// $sop_file='';
	// 			// $sop_file_name='';
	// 			// $temp_sop_file_name = 'collapse_'.($m+1).'_sop_file'; /*'collapse_'.($m+1).'_sop_file'*/

	// 			// if(isset($_FILES[$temp_sop_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_sop_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_sop_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$sop_file = $logoData['file_name'];
	// 			// 		$sop_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $sop_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$sop_file = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name');
	// 			// 	$sop_file_name = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name_org');
	// 			// }

	// 			$sop_array = array('msg_body'=>$msg_body_so,'to'=>$to_so,'cc'=>$cc_mail_id_so,'subject'=>$subject_so,'client_id'=>$client_name_so,'serv_chk_id'=>$serv_chk_id_so,'type'=>$type_so,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'sop_attachment'=>$sop_file,'w_send_mail_so'=>$w_send_mail_so,'sop_hidden_file_id'=>$sop_hidden_file_id);


	// 			$client_name_do = $this->input->post('collapse_'.($m+1).'_client_name_do');
	//        		$w_send_mail_do = $this->input->post('collapse_'.($m+1).'_w_send_mail_do');
	//        		$subject_do = trim($this->input->post('collapse_'.($m+1).'_subject_do'));
	//        		$to_do = trim($this->input->post('collapse_'.($m+1).'_to_do'));
	// 			$cc_mail_id_do = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_do'));
	// 			$msg_body_do = $this->input->post('collapse_'.($m+1).'_do');
	// 			$serv_chk_id_do = $this->input->post('collapse_'.($m+1).'_serv_chk_id_do');
	// 			$type_do = $this->input->post('collapse_'.($m+1).'_type_do');
	// 			$do_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_do_box');
	// 			$do_hidden_file_id = '';
	// 			if(isset($do_hidden_file_id1) && !empty($do_hidden_file_id1))
	// 			{$do_hidden_file_id = implode(',',$do_hidden_file_id1);}

	// 			$do_file= array();
	// 	        $do_file_name = "collapse_".($m+1)."_do_file";
	// 			// print_r($do_file_name);
	// 	        // if(isset($_FILES[$do_file_name]['name']) && !empty($_FILES[$do_file_name]['name']))
	// 	        // {
	// 	        //     $files = $_FILES;
	// 	        //     $cpt = count($_FILES[$do_file_name]['name']);
	// 	        //     for($i=0; $i<$cpt; $i++)
	// 	        //     {
	// 	        //         $_FILES['userfile']['name']= $files[$do_file_name]['name'][$i];
	// 	        //         $_FILES['userfile']['type']= $files[$do_file_name]['type'][$i];
	// 	        //         $_FILES['userfile']['tmp_name']= $files[$do_file_name]['tmp_name'][$i];
	// 	        //         $_FILES['userfile']['error']= $files[$do_file_name]['error'][$i];
	// 	        //         $_FILES['userfile']['size']= $files[$do_file_name]['size'][$i];
	// 	        //         $this->upload->initialize($this->set_upload_option($do_file_name));
	// 	        //         $this->upload->do_upload();
	// 	        //         echo $this->upload->display_errors();
	// 	        //         $data = $this->upload->data();
	// 	        //         $do_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'DO');
	// 	        //     }
	// 	        // }

	// 			if(isset($_FILES[$do_file_name]['name']) && !empty($_FILES[$do_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$do_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$do_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$do_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$do_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$do_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$do_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($do_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $do_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'DO');
	// 	            }
	// 	        }
	// 		    //print_r($do_file);die;

	// 			// $do_file='';
	// 			// $do_file_name='';
	// 			// $temp_do_file_name = 'collapse_'.($m+1).'_do_file'; /*'collapse_'.($m+1).'_do_file'*/

	// 			// if(isset($_FILES[$temp_do_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_do_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_do_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$do_file = $logoData['file_name'];
	// 			// 		$do_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $do_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$do_file = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name');
	// 			// 	$do_file_name = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name_org');
	// 			// }

	// 			$do_array = array('msg_body'=>$msg_body_do,'to'=>$to_do,'cc'=>$cc_mail_id_do,'subject'=>$subject_do,'client_id'=>$client_name_do,'serv_chk_id'=>$serv_chk_id_do,'type'=>$type_do,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'do_attachment'=>$do_file,'w_send_mail_do'=>$w_send_mail_do,
	// 				'do_hidden_file_id'=>$do_hidden_file_id);

	//                //  print_r($do_array);die;
	// 			$client_name_law = $this->input->post('collapse_'.($m+1).'_client_name_law');
	//        		$w_send_mail_law = $this->input->post('collapse_'.($m+1).'_w_send_mail_law');
	//        		$subject_law = trim($this->input->post('collapse_'.($m+1).'_subject_law'));
	//        		$to_law = trim($this->input->post('collapse_'.($m+1).'_to_law'));
	// 			$cc_mail_id_law = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_law'));
	// 			$msg_body_law = $this->input->post('collapse_'.($m+1).'_law');
	// 			$serv_chk_id_law = $this->input->post('collapse_'.($m+1).'_serv_chk_id_law');
	// 			$type_law = $this->input->post('collapse_'.($m+1).'_type_law');
	// 			$law_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_law_box');
	// 			$law_hidden_file_id = '';
	// 			if(isset($law_hidden_file_id1) && !empty($law_hidden_file_id1))
	// 			{$law_hidden_file_id = implode(',',$law_hidden_file_id1);}

	// 			$law_file= array();
	// 	        $law_file_name = "collapse_".($m+1)."_law_file";
	// 	        if(isset($_FILES[$law_file_name]['name']) && !empty($_FILES[$law_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$law_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$law_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$law_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$law_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$law_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$law_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($law_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $law_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'LAW');
	// 	            }
	// 	        }

	// 			// $law_file='';
	// 			// $law_file_name='';
	// 			// $temp_law_file_name = 'collapse_'.($m+1).'_law_file'; /*'collapse_'.($m+1).'_law_file'*/

	// 			// if(isset($_FILES[$temp_law_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_law_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_law_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$law_file = $logoData['file_name'];
	// 			// 		$law_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $law_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$law_file = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name');
	// 			// 	$law_file_name = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name_org');
	// 			// }

	// 			$law_array = array('msg_body'=>$msg_body_law,'to'=>$to_law,'cc'=>$cc_mail_id_law,'subject'=>$subject_law,'client_id'=>$client_name_law,'serv_chk_id'=>$serv_chk_id_law,'type'=>$type_law,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'law_attachment'=>$law_file,'w_send_mail_law'=>$w_send_mail_law,'law_hidden_file_id'=>$law_hidden_file_id);

	// 			$client_name_faq = $this->input->post('collapse_'.($m+1).'_client_name_faq');
	//        		$w_send_mail_faq = $this->input->post('collapse_'.($m+1).'_w_send_mail_faq');
	//        		$subject_faq = trim($this->input->post('collapse_'.($m+1).'_subject_faq'));
	//        		$to_faq = trim($this->input->post('collapse_'.($m+1).'_to_faq'));
	// 			$cc_mail_id_faq = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_faq'));
	// 			$msg_body_faq = $this->input->post('collapse_'.($m+1).'_faq');
	// 			$serv_chk_id_faq = $this->input->post('collapse_'.($m+1).'_serv_chk_id_faq');
	// 			$type_faq = $this->input->post('collapse_'.($m+1).'_type_faq');
	// 			$faq_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_faq_box');
	// 			$faq_hidden_file_id = '';
	// 			if(isset($faq_hidden_file_id1) && !empty($faq_hidden_file_id1))
	// 			{$faq_hidden_file_id = implode(',',$faq_hidden_file_id1);}

	// 			$faq_file= array();
	// 	        $faq_file_name = "collapse_".($m+1)."_faq_file";
	// 	        if(isset($_FILES[$faq_file_name]['name']) && !empty($_FILES[$faq_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$faq_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$faq_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$faq_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$faq_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$faq_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$faq_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($faq_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $faq_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'FAQ');
	// 	            }
	// 	        }
	// 			// print_r($faq_file);die;

	// 			// $faq_file='';
	// 			// $faq_file_name='';
	// 			// $temp_faq_file_name = 'collapse_'.($m+1).'_faq_file'; /*'collapse_'.($m+1).'_faq_file'*/

	// 			// if(isset($_FILES[$temp_faq_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_faq_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_faq_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$faq_file = $logoData['file_name'];
	// 			// 		$faq_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $faq_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$faq_file = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name');
	// 			// 	$faq_file_name = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name_org');
	// 			// }

	// 			$faq_array = array('msg_body'=>$msg_body_faq,'to'=>$to_faq,'cc'=>$cc_mail_id_faq,'subject'=>$subject_faq,'client_id'=>$client_name_faq,'serv_chk_id'=>$serv_chk_id_faq,'type'=>$type_faq,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'faq_attachment'=>$faq_file,'w_send_mail_faq'=>$w_send_mail_faq,'faq_hidden_file_id'=>$faq_hidden_file_id);
	// 			// print_r($faq_array);die;

	// 			$client_name_gt = $this->input->post('collapse_'.($m+1).'_client_name_gt');
	//        		$w_send_mail_gt = $this->input->post('collapse_'.($m+1).'_w_send_mail_gt');
	//        		$subject_gt = trim($this->input->post('collapse_'.($m+1).'_subject_gt'));
	//        		$to_gt = trim($this->input->post('collapse_'.($m+1).'_to_gt'));
	// 			$cc_mail_id_gt = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_gt'));
	// 			$msg_body_gt = $this->input->post('collapse_'.($m+1).'_gt');
	// 			$serv_chk_id_gt = $this->input->post('collapse_'.($m+1).'_serv_chk_id_gt');
	// 			$type_gt = $this->input->post('collapse_'.($m+1).'_type_gt');
	// 			$gt_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_gt_box');
	// 			$gt_hidden_file_id = '';
	// 			if(isset($gt_hidden_file_id1) && !empty($gt_hidden_file_id1))
	// 			{$gt_hidden_file_id = implode(',',$gt_hidden_file_id1);}

	// 			$gt_file= array();
	// 	        $gt_file_name = "collapse_".($m+1)."_gt_file";
	// 	        if(isset($_FILES[$gt_file_name]['name']) && !empty($_FILES[$gt_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$gt_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$gt_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$gt_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$gt_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$gt_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$gt_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($gt_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $gt_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Timeline');
	// 	            }
	// 	        }

	// 			// $gt_file='';
	// 			// $gt_file_name='';
	// 			// $temp_gt_file_name = 'collapse_'.($m+1).'_gt_file'; /*'collapse_'.($m+1).'_gt_file'*/

	// 			// if(isset($_FILES[$temp_gt_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_gt_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_gt_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$gt_file = $logoData['file_name'];
	// 			// 		$gt_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $gt_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$gt_file = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name');
	// 			// 	$gt_file_name = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name_org');
	// 			// }

	// 			$gt_array = array('msg_body'=>$msg_body_gt,'to'=>$to_gt,'cc'=>$cc_mail_id_gt,'subject'=>$subject_gt,'client_id'=>$client_name_gt,'serv_chk_id'=>$serv_chk_id_gt,'type'=>$type_gt,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'gt_attachment'=>$gt_file,'w_send_mail_gt'=>$w_send_mail_gt,'gt_hidden_file_id'=>$gt_hidden_file_id);

	// 			$client_name_flow = $this->input->post('collapse_'.($m+1).'_client_name_flow');
	//        		$w_send_mail_flow = $this->input->post('collapse_'.($m+1).'_w_send_mail_flow');
	//        		$subject_flow = trim($this->input->post('collapse_'.($m+1).'_subject_flow'));
	//        		$to_flow = trim($this->input->post('collapse_'.($m+1).'_to_flow'));
	// 			$cc_mail_id_flow = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_flow'));
	// 			$msg_body_flow = $this->input->post('collapse_'.($m+1).'_flow');
	// 			$serv_chk_id_flow = $this->input->post('collapse_'.($m+1).'_serv_chk_id_flow');
	// 			$type_flow = $this->input->post('collapse_'.($m+1).'_type_flow');
	// 			$flow_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_flow_box');
	// 			$flow_hidden_file_id = '';
	// 			if(isset($flow_hidden_file_id1) && !empty($flow_hidden_file_id1))
	// 			{$flow_hidden_file_id = implode(',',$flow_hidden_file_id1);}

	// 			$flow_file= array();
	// 	        $flow_file_name = "collapse_".($m+1)."_flow_file";
	// 	        if(isset($_FILES[$flow_file_name]['name']) && !empty($_FILES[$flow_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$flow_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$flow_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$flow_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$flow_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$flow_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$flow_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($flow_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $flow_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Flow_Chart');
	// 	            }
	// 	        }

	// 			// $flow_file='';
	// 			// $flow_file_name='';
	// 			// $temp_flow_file_name = 'collapse_'.($m+1).'_flow_file'; /*'collapse_'.($m+1).'_flow_file'*/

	// 			// if(isset($_FILES[$temp_flow_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_flow_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_flow_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$flow_file = $logoData['file_name'];
	// 			// 		$flow_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $flow_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$flow_file = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name');
	// 			// 	$flow_file_name = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name_org');
	// 			// }

	// 			$flow_array = array('msg_body'=>$msg_body_flow,'to'=>$to_flow,'cc'=>$cc_mail_id_flow,'subject'=>$subject_flow,'client_id'=>$client_name_flow,'serv_chk_id'=>$serv_chk_id_flow,'type'=>$type_flow,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'flow_attachment'=>$flow_file,'w_send_mail_flow'=>$w_send_mail_flow,'flow_hidden_file_id'=>$flow_hidden_file_id);

	// 			$client_name_legal = $this->input->post('collapse_'.($m+1).'_client_name_legal');
	//        		$w_send_mail_legal = $this->input->post('collapse_'.($m+1).'_w_send_mail_legal');
	//        		$subject_legal = trim($this->input->post('collapse_'.($m+1).'_subject_legal'));
	//        		$to_legal = trim($this->input->post('collapse_'.($m+1).'_to_legal'));
	// 			$cc_mail_id_legal = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_legal'));
	// 			$msg_body_legal = $this->input->post('collapse_'.($m+1).'_legal');
	// 			$serv_chk_id_legal = $this->input->post('collapse_'.($m+1).'_serv_chk_id_legal');
	// 			$type_legal = $this->input->post('collapse_'.($m+1).'_type_legal');
	// 			$legal_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_legal_box');
	// 			$legal_hidden_file_id = '';
	// 			if(isset($legal_hidden_file_id1) && !empty($legal_hidden_file_id1))
	// 			{$legal_hidden_file_id = implode(',',$legal_hidden_file_id1);}

	// 			$legal_file= array();
	// 	        $legal_file_name = "collapse_".($m+1)."_legal_file";
	// 	        if(isset($_FILES[$legal_file_name]['name']) && !empty($_FILES[$legal_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$legal_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$legal_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$legal_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$legal_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$legal_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$legal_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($legal_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $legal_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Legal');
	// 	            }
	// 	        }

	// 			// $legal_file='';
	// 			// $legal_file_name='';
	// 			// $temp_legal_file_name = 'collapse_'.($m+1).'_legal_file'; /*'collapse_'.($m+1).'_legal_file'*/

	// 			// if(isset($_FILES[$temp_legal_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_legal_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_legal_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$legal_file = $logoData['file_name'];
	// 			// 		$legal_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $legal_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$legal_file = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name');
	// 			// 	$legal_file_name = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name_org');
	// 			// }

	// 			$legal_array = array('msg_body'=>$msg_body_legal,'to'=>$to_legal,'cc'=>$cc_mail_id_legal,'subject'=>$subject_legal,'client_id'=>$client_name_legal,'serv_chk_id'=>$serv_chk_id_legal,'type'=>$type_legal,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'legal_attachment'=>$legal_file,'w_send_mail_legal'=>$w_send_mail_legal,'legal_hidden_file_id'=>$legal_hidden_file_id);

	//        		/*$chk_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'checklist_file_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_compliance_upload_option($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $chk_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Checklist File','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}

	//        		$temp_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'template_file_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_compliance_upload_option($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $temp_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template File','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}

	//        		$print_trial_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'print_trial_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_upload_options_print_trial($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $print_trial_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Print Trial','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}*/

	//        		$checklist = $msg_body;
	//        		$template = $msg_body_t;
	// 			// print_r($template);
	//        		$printing_instruction = $msg_body_p;
	//        		$standard_qut = $msg_body_q;
	//        		$sop_body = $msg_body_so;
	//        		$do_body = $msg_body_do;
	//        		$law = $msg_body_law;
	//        		$faq = $msg_body_faq;
	//        		$gt_body = $msg_body_gt;
	//        		$flow = $msg_body_flow;
	//        		$legal = $msg_body_legal;
	//        		/*$temp_file = $template_file;
	//        		$temp_org_file = $template_file_name;*/

	//        		$single_array = array(
	//                    'city_id'=>$city_id[$m],
	//                    'sez_id'=>$sez_id[$m],
	//                    'type_of_client'=>$type_of_client[$m],
	//                    'client_unit'=>$client_unit[$m],
	//                    'checklist'=>$checklist,
	//                    'template'=>$template,
	//                    'printing_instruction'=>$printing_instruction,
	//                    'quotation'=>$standard_qut,
	//                    'sop'=>$sop_body,
	//                    'do'=>$do_body,
	//                    'law'=>$law,
	//                    'faq'=>$faq,
	//                    'gt_body'=>$gt_body,
	//                    'flow'=>$flow,
	//                    'legal'=>$legal,
	//                    'checklist_array'=>$checklist_array,
	//                    'template_array'=>$template_array,
	//                    'printing_array'=>$printing_array,
	//                    'quotation_array'=>$quotation_array,
	//                    'sop_array'=>$sop_array,
	//                    'do_array'=>$do_array,
	//                    'law_array'=>$law_array,
	//                    'faq_array'=>$faq_array,
	//                    'gt_array'=>$gt_array,
	//                    'flow_array'=>$flow_array,
	//                    'legal_array'=>$legal_array
	//                );
	//                $serv_check_data[] = $single_array;
	//        	}
	//      //  }

	//        	//exit();
	// 	// 	echo '<pre>';
	//        // print_r($serv_check_data); exit();
	// 	$new_activity=array('service_name'=>$service_name, 'sez_cost'=>$sez_cost,'service_type'=>$service_type,'tracker_type'=>$tracker_type,'type_of_activity'=>$type_of_activity,'dept_master_id'=>$department_name);


	// 	if(isset($service_id) && !empty($service_id) && ($service_id>0))
	// 	{
	//         $result = $this->approval_model->updateActivityData('tbl_services_master',$new_activity,$checklist_attachment,$template_attachment,$instruction_attachment,$sop_attachment,$goc_attachment,$rcl_attachment,$govt_attachment,$dd_attachment,$faq_attachment,$fc_attachment,$sq_attachment,$lar_attachment,$sub_attachment,$service_id,$hidden_attachment_id,$serv_check_data,$hidden_serv_chk_id);
	//         // echo $this->db->last_query();die;


	// 		if($result)
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>TRUE,
	// 				'msg'=>'<div class="alert modify alert-success"><strong></strong>Activity Details Updated Successfully!</div>',
	// 				'redirect'=>base_url().'service_activity'
	// 			));
	// 		}
	// 		else
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>FALSE,
	// 				'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Activity Details !</div>'
	// 			));
	// 		}
	// 	}
	// 	else
	// 	{	//print_r($serv_check_data); exit();

	// 		$result=$this->approval_model->addActivityData('tbl_services_master',$new_activity,$instruction_attachment,$sop_attachment,$goc_attachment,$rcl_attachment,$govt_attachment,$dd_attachment,$faq_attachment,$fc_attachment,$sq_attachment,$lar_attachment,$sub_attachment,$serv_check_data);
	// 		// echo 'add';die;
	// 		if($result)
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>TRUE,
	// 				'id'=>$result,
	// 				'msg'=>'<div class="alert modify alert-success"><strong></strong> Activity Details Saved Successfully!</div>',
	// 				'redirect'=>base_url().'service_activity'
	// 			));
	// 		}
	// 		else
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>FALSE,
	// 				'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Activity Details !</div>'
	// 			));
	// 		}
	// 	}
	// }

	public function save_new_approval()
	{

		$cityId = $this->input->post('city_id');
		// print_r($cityId);die;
		$hidden_serv_chk_id = $this->input->post('hidden_serv_chk_id');

		$service_id = $this->input->post('service_id');
		$this->load->model('common_model');
		$service_name = trim($this->input->post('service_name'));
		$sez_cost = $this->input->post('sez_cost');
		$service_type = $this->input->post('service_type');
		$tracker_type = $this->input->post('tracker_type');
		$department_name = $this->input->post('department_name');

		$hidden_attachment_id = $this->input->post('hidden_attachment_id');

		$checklist_hidden_images = $this->input->post('checklist_hidden_images');
		$checklist_hidden_orig_images = $this->input->post('checklist_hidden_orig_images');

		$template_hidden_images = $this->input->post('template_hidden_images');
		$template_hidden_orig_images = $this->input->post('template_hidden_orig_images');

		$instruction_hidden_images = $this->input->post('instruction_hidden_images');
		$instruction_hidden_orig_images = $this->input->post('instruction_hidden_orig_images');

		$sop_hidden_images = $this->input->post('sop_hidden_images');
		$sop_hidden_orig_images = $this->input->post('sop_hidden_orig_images');

		$goc_hidden_images = $this->input->post('goc_hidden_images');
		$goc_hidden_orig_images = $this->input->post('goc_hidden_orig_images');

		//rahul

		$rcl_hidden_images = $this->input->post('rcl_hidden_images');
		$rcl_hidden_orig_images = $this->input->post('rcl_hidden_orig_images');

		$govt_hidden_images = $this->input->post('govt_hidden_images');
		$govt_hidden_orig_images = $this->input->post('govt_hidden_orig_images');

		$dd_hidden_images = $this->input->post('dd_hidden_images');
		$dd_hidden_orig_images = $this->input->post('dd_hidden_orig_images');

		$faq_hidden_images = $this->input->post('faq_hidden_images');
		$faq_hidden_orig_images = $this->input->post('faq_hidden_orig_images');

		$fc_hidden_images = $this->input->post('fc_hidden_images');
		$fc_hidden_orig_images = $this->input->post('fc_hidden_orig_images');

		$sq_hidden_images = $this->input->post('sq_hidden_images');
		$sq_hidden_orig_images = $this->input->post('sq_hidden_orig_images');

		$lar_hidden_images = $this->input->post('lar_hidden_images');
		$lar_hidden_orig_images = $this->input->post('lar_hidden_orig_images');

		$sub_hidden_images = $this->input->post('sub_hidden_images');
		$sub_hidden_orig_images = $this->input->post('sub_hidden_orig_images');

		$type_of_activity = $this->input->post('type_of_activity');

		$serv_chk_id = $this->input->post('hidden_serv_chk_id');
		//end

		$checklist_attachment = array();
		if (isset($_FILES['checklist_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['checklist_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['checklist_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['checklist_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['checklist_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['checklist_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['checklist_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_checklist());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$checklist_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'Checklist File');
			}
		}
		// print_r($checklist_attachment);

		$template_attachment = array();
		if (isset($_FILES['template_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['template_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['template_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['template_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['template_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['template_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['template_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_template());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$template_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'Template File');
				// echo '<pre>';
				//  print_r($template_attachment);
			}
		}
		//  print_r($template_attachment);die;


		$instruction_attachment = array();
		if (isset($_FILES['instruction_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['instruction_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['instruction_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['instruction_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['instruction_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['instruction_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['instruction_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_instruction());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$instruction_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'Instruction File');
			}
		}

		$sop_attachment = array();
		if (isset($_FILES['sop_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['sop_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['sop_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['sop_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['sop_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['sop_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['sop_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_sop());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$sop_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'SOP File');
			}
		}
		// print_r($sop_attachment);die;
		$goc_attachment = array();
		if (isset($_FILES['goc_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['goc_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['goc_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['goc_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['goc_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['goc_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['goc_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_goc());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$goc_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'GOC File');
			}
		}


		//rahul

		$rcl_attachment = array();
		if (isset($_FILES['rcl_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['rcl_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['rcl_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['rcl_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['rcl_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['rcl_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['rcl_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_rcl());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$rcl_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'RCL File');
			}
		}

		$govt_attachment = array();
		if (isset($_FILES['govt_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['govt_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['govt_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['govt_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['govt_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['govt_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['govt_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_govt());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$govt_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'GOVT File');
			}
		}

		$dd_attachment = array();
		if (isset($_FILES['dd_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['dd_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['dd_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['dd_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['dd_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['dd_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['dd_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_dd());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$dd_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'DD File');
			}
		}
		// print_r($dd_attachment);die;

		$faq_attachment = array();
		if (isset($_FILES['faq_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['faq_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['faq_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['faq_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['faq_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['faq_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['faq_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_faq());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$faq_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'FAQ File');
			}
		}

		$fc_attachment = array();
		if (isset($_FILES['fc_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['fc_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['fc_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['fc_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['fc_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['fc_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['fc_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_fc());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$fc_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'FC File');
			}
		}

		$sq_attachment = array();
		if (isset($_FILES['sq_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['sq_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['sq_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['sq_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['sq_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['sq_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['sq_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_sq());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$sq_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'SQ File');
			}
		}

		$lar_attachment = array();
		if (isset($_FILES['lar_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['lar_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['lar_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['lar_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['lar_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['lar_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['lar_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_lar());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$lar_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'LAR File');
			}
		}

		$sub_attachment = array();
		if (isset($_FILES['sub_file_attachment']['name'])) {
			$files = $_FILES;
			$cpt = count($_FILES['sub_file_attachment']['name']);
			for ($i = 0; $i < $cpt; $i++) {
				$_FILES['userfile']['name'] = $files['sub_file_attachment']['name'][$i];
				$_FILES['userfile']['type'] = $files['sub_file_attachment']['type'][$i];
				$_FILES['userfile']['tmp_name'] = $files['sub_file_attachment']['tmp_name'][$i];
				$_FILES['userfile']['error'] = $files['sub_file_attachment']['error'][$i];
				$_FILES['userfile']['size'] = $files['sub_file_attachment']['size'][$i];
				$this->upload->initialize($this->set_upload_options_sub());
				$this->upload->do_upload();
				//echo $this->upload->display_errors();
				$data = $this->upload->data();
				$sub_attachment[] = array("file_name" => $data['file_name'], "file_org_name" => $data['orig_name'], "folder_type" => 'SS File');
			}
		}

		$hidden_serv_chk_id = $this->input->post('hidden_serv_chk_id');
		$city_id = $this->input->post('city_id');
		$sez_id = $this->input->post('sez_id');
		$type_of_client = $this->input->post('type_of_client');
		$client_unit = $this->input->post('client_unit');

		$serv_check_data = array();

		$checklist = '';
		$template = '';
		$printing_instruction = '';
		$standard_qut = '';
		$chk_rand = '';
		$temp_rand = '';
		$print_rand = '';
		// if (isset($city_id) && !empty($city_id)) {
		//echo count($city_id); exit();
		for ($m = 0; $m < count($city_id); $m++) {

			/*if (isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name = 'chk_hidden_'.($m+1);
										$checklist = $this->input->post($file_name);
									}

									if(isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name1 = 'temp_hidden_'.($m+1);
										$template = $this->input->post($file_name1);
									}

									if(isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name2 = 'print_hidden_'.($m+1);
										$printing_instruction = $this->input->post($file_name2);
									}*/

			/*if (isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name = 'chk_random_'.($m+1);
										$chk_rand = $this->input->post($file_name);
									}

									if(isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name1 = 'temp_random_'.($m+1);
										$temp_rand = $this->input->post($file_name1);
									}

									if(isset($city_id[$m]) && !empty($city_id[$m])){
										$file_name2 = 'print_random_'.($m+1);
										$print_rand = $this->input->post($file_name2);
									}*/


			$user_id = $this->session->userdata('user_id');
			$client_name_c = trim($this->input->post('collapse_' . ($m + 1) . '_client_name_c'));
			$w_send_mail_c = trim($this->input->post('collapse_' . ($m + 1) . '_w_send_mail_c'));
			$subject_c = trim($this->input->post('collapse_' . ($m + 1) . '_subject_c'));
			$to_c = trim($this->input->post('collapse_' . ($m + 1) . '_to_c'));
			$cc_mail_id_c = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_c'));
			$msg_body = $this->input->post('collapse_' . ($m + 1) . '_checklist');
			$serv_chk_id_c = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_c');
			$type_c = $this->input->post('collapse_' . ($m + 1) . '_type_c');
			$chk_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_chk_box');
			$chk_hidden_file_id = '';
			if (isset($chk_hidden_file_id1) && !empty($chk_hidden_file_id1)) {
				$chk_hidden_file_id = implode(',', $chk_hidden_file_id1);
			}
			//print_r($chk_hidden_file_id); exit();
			//$chk_random = $this->input->post('chk_random');

			// $chk_file='';
			// $chk_file_name='';
			// $temp_chk_file_name = 'collapse_'.($m+1).'_chk_file'; /*'collapse_'.($m+1).'_chk_file'*/

			// if(isset($_FILES[$temp_chk_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_chk_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_chk_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$chk_file = $logoData['file_name'];
			// 		$chk_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $chk_file;
			// }
			// else
			// {
			// 	$chk_file = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name');
			// 	$chk_file_name = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name_org');
			// }


			$chk_file = array();
			$chk_file_name = "collapse_" . ($m + 1) . "_chk_file";
			if (isset($_FILES[$chk_file_name]['name']) && !empty($_FILES[$chk_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$chk_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$chk_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$chk_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$chk_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$chk_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$chk_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($chk_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$chk_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Checklist');
				}
			}

			$checklist_array = array('msg_body' => $msg_body, 'to' => $to_c, 'cc' => $cc_mail_id_c, 'subject' => $subject_c, 'client_id' => $client_name_c, 'serv_chk_id' => $serv_chk_id_c, 'type' => $type_c, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'chk_attachment' => $chk_file, 'w_send_mail_c' => $w_send_mail_c, 'chk_hidden_file_id' => $chk_hidden_file_id);

			//  print_r($checklist_array); 
			// exit();
			$client_name_t = trim($this->input->post('collapse_' . ($m + 1) . '_client_name_t'));
			$w_send_mail_t = trim($this->input->post('collapse_' . ($m + 1) . '_w_send_mail_t'));
			$subject_t = trim($this->input->post('collapse_' . ($m + 1) . '_subject_t'));
			$to_t = trim($this->input->post('collapse_' . ($m + 1) . '_to_t'));
			$cc_mail_id_t = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_t'));
			$msg_body_t = $this->input->post('collapse_' . ($m + 1) . '_template');
			$serv_chk_id_t = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_t');
			$type_t = $this->input->post('collapse_' . ($m + 1) . '_type_t');
			$temp_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_temp_box');
			$temp_hidden_file_id = '';
			if (isset($temp_hidden_file_id1) && !empty($temp_hidden_file_id1)) {
				$temp_hidden_file_id = implode(',', $temp_hidden_file_id1);
			}
			//$chk_random = $this->input->post('chk_random');

			// $template_file='';
			// $template_file_name='';
			// $temp_file_name = 'collapse_'.($m+1).'_template_file'; /*'collapse_'.($m+1).'_template_file'*/

			// if(isset($_FILES[$temp_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$template_file = $logoData['file_name'];
			// 		$template_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $template_file;
			// }
			// else
			// {
			// 	$template_file = $this->input->post('hidden_collapse_'.($m+1).'_file_name');
			// 	$template_file_name = $this->input->post('hidden_collapse_'.($m+1).'_file_name_org');
			// }
			//exit();
			$template_file = array();
			$template_file_name = "collapse_" . ($m + 1) . "_temp_file";
			if (isset($_FILES[$template_file_name]['name']) && !empty($_FILES[$template_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$template_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$template_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$template_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$template_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$template_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$template_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($template_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$template_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Template');
				}
			}
			// $template_file= array();
			// $template_file_name = "collapse_".($m+1)."_temp_file";
			// if(isset($_FILES[$template_file_name]['name']) && !empty($_FILES[$template_file_name]['name']))
			// {
			//     $files = $_FILES;
			//     $cpt = count($_FILES[$template_file_name]['name']);
			//     for($i=0; $i<$cpt; $i++)
			//     {
			//         $_FILES['userfile']['name']= $files[$template_file_name]['name'][$i];
			//         $_FILES['userfile']['type']= $files[$template_file_name]['type'][$i];
			//         $_FILES['userfile']['tmp_name']= $files[$template_file_name]['tmp_name'][$i];
			//         $_FILES['userfile']['error']= $files[$template_file_name]['error'][$i];
			//         $_FILES['userfile']['size']= $files[$template_file_name]['size'][$i];
			//         $this->upload->initialize($this->set_upload_option($template_file_name));
			//         $this->upload->do_upload();
			//         echo $this->upload->display_errors();
			//         $data = $this->upload->data();
			//         $template_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template');
			//     }
			// }
			// print_r($template_file);die;
			// $checklist_array = array('msg_body'=>$msg_body,'to'=>$to_c,'cc'=>$cc_mail_id_c,'subject'=>$subject_c,'client_id'=>$client_name_c,'serv_chk_id'=>$serv_chk_id_c,'type'=>$type_c,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'chk_attachment'=>$checklist_attachment,'w_send_mail_c'=>$w_send_mail_c,'chk_hidden_file_id'=>$chk_hidden_file_id);

			$template_array = array('msg_body' => $msg_body_t, 'to' => $to_t, 'cc' => $cc_mail_id_t, 'subject' => $subject_t, 'client_id' => $client_name_t, 'serv_chk_id' => $serv_chk_id_t, 'type' => $type_t, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'temp_attachment' => $template_file, 'w_send_mail_t' => $w_send_mail_t, 'temp_hidden_file_id' => $temp_hidden_file_id);
			//  print_r($template_array);die;

			$client_name_p = trim($this->input->post('collapse_' . ($m + 1) . '_client_name_p'));
			$w_send_mail_p = trim($this->input->post('collapse_' . ($m + 1) . '_w_send_mail_p'));
			$subject_p = trim($this->input->post('collapse_' . ($m + 1) . '_subject_p'));
			$to_p = trim($this->input->post('collapse_' . ($m + 1) . '_to_p'));
			$cc_mail_id_p = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_p'));
			$msg_body_p = $this->input->post('collapse_' . ($m + 1) . '_print_instruct');
			$serv_chk_id_p = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_p');
			$type_p = $this->input->post('collapse_' . ($m + 1) . '_type_p');
			$print_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_print_box');
			$print_hidden_file_id = '';
			if (isset($print_hidden_file_id1) && !empty($print_hidden_file_id1)) {
				$print_hidden_file_id = implode(',', $print_hidden_file_id1);
			}

			$print_file = array();
			$print_file_name = "collapse_" . ($m + 1) . "_print_file";
			if (isset($_FILES[$print_file_name]['name']) && !empty($_FILES[$print_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$print_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$print_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$print_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$print_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$print_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$print_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($print_file_name));
					$this->upload->do_upload();
					// echo $this->upload->display_errors();
					$data = $this->upload->data();
					$print_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Printing');
				}
			}

			// $print_file='';
			// $print_file_name='';
			// $temp_print_file_name = 'collapse_'.($m+1).'_print_file'; /*'collapse_'.($m+1).'_print_file'*/
			// if(isset($_FILES[$temp_print_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_print_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_print_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$print_file = $logoData['file_name'];
			// 		$print_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $print_file;
			// }
			// else
			// {
			// 	$print_file = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name');
			// 	$print_file_name = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name_org');
			// }

			$printing_array = array('msg_body' => $msg_body_p, 'to' => $to_p, 'cc' => $cc_mail_id_p, 'subject' => $subject_p, 'client_id' => $client_name_p, 'serv_chk_id' => $serv_chk_id_p, 'type' => $type_p, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'print_attachment' => $print_file, 'w_send_mail_p' => $w_send_mail_p, 'print_hidden_file_id' => $print_hidden_file_id);
			// echo '<pre>';
			// print_r($printing_array);
			$client_name_q = $this->input->post('collapse_' . ($m + 1) . '_client_name_q');
			$w_send_mail_q = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_q');
			$subject_q = trim($this->input->post('collapse_' . ($m + 1) . '_subject_q'));
			$to_q = trim($this->input->post('collapse_' . ($m + 1) . '_to_q'));
			$cc_mail_id_q = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_q'));
			$msg_body_q = $this->input->post('collapse_' . ($m + 1) . '_quotation');
			$serv_chk_id_q = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_q');
			$type_q = $this->input->post('collapse_' . ($m + 1) . '_type_q');
			$qut_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_qut_box');
			$qut_hidden_file_id = '';
			if (isset($qut_hidden_file_id1) && !empty($qut_hidden_file_id1)) {
				$qut_hidden_file_id = implode(',', $qut_hidden_file_id1);
			}

			$qut_file = array();
			$qut_file_name = "collapse_" . ($m + 1) . "_qut_file";
			if (isset($_FILES[$qut_file_name]['name']) && !empty($_FILES[$qut_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$qut_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$qut_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$qut_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$qut_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$qut_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$qut_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($qut_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$qut_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Quotation');
				}
			}

			// $qut_file='';
			// $qut_file_name='';
			// $temp_qut_file_name = 'collapse_'.($m+1).'_qut_file'; /*'collapse_'.($m+1).'_qut_file'*/

			// if(isset($_FILES[$temp_qut_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_qut_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_qut_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$qut_file = $logoData['file_name'];
			// 		$qut_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $qut_file;
			// }
			// else
			// {
			// 	$qut_file = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name');
			// 	$qut_file_name = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name_org');
			// }

			$quotation_array = array('msg_body' => $msg_body_q, 'to' => $to_q, 'cc' => $cc_mail_id_q, 'subject' => $subject_q, 'client_id' => $client_name_q, 'serv_chk_id' => $serv_chk_id_q, 'type' => $type_q, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'qut_attachment' => $qut_file, 'w_send_mail_q' => $w_send_mail_q, 'qut_hidden_file_id' => $qut_hidden_file_id);


			$client_name_so = $this->input->post('collapse_' . ($m + 1) . '_client_name_so');
			$w_send_mail_so = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_so');
			$subject_so = trim($this->input->post('collapse_' . ($m + 1) . '_subject_so'));
			$to_so = trim($this->input->post('collapse_' . ($m + 1) . '_to_so'));
			$cc_mail_id_so = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_so'));
			$msg_body_so = $this->input->post('collapse_' . ($m + 1) . '_sop');
			$serv_chk_id_so = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_so');
			$type_so = $this->input->post('collapse_' . ($m + 1) . '_type_so');
			$sop_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_sop_box');
			$sop_hidden_file_id = '';
			if (isset($sop_hidden_file_id1) && !empty($sop_hidden_file_id1)) {
				$sop_hidden_file_id = implode(',', $sop_hidden_file_id1);
			}

			$sop_file = array();
			$sop_file_name = "collapse_" . ($m + 1) . "_sop_file";

			if (isset($_FILES[$sop_file_name]['name']) && !empty($_FILES[$sop_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$sop_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$sop_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$sop_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$sop_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$sop_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$sop_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($sop_file_name));
					$this->upload->do_upload();
					// echo $this->upload->display_errors();
					$data = $this->upload->data();
					$sop_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'SOP');
				}
			}

			// $sop_file='';
			// $sop_file_name='';
			// $temp_sop_file_name = 'collapse_'.($m+1).'_sop_file'; /*'collapse_'.($m+1).'_sop_file'*/

			// if(isset($_FILES[$temp_sop_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_sop_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_sop_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$sop_file = $logoData['file_name'];
			// 		$sop_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $sop_file;
			// }
			// else
			// {
			// 	$sop_file = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name');
			// 	$sop_file_name = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name_org');
			// }

			$sop_array = array('msg_body' => $msg_body_so, 'to' => $to_so, 'cc' => $cc_mail_id_so, 'subject' => $subject_so, 'client_id' => $client_name_so, 'serv_chk_id' => $serv_chk_id_so, 'type' => $type_so, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'sop_attachment' => $sop_file, 'w_send_mail_so' => $w_send_mail_so, 'sop_hidden_file_id' => $sop_hidden_file_id);


			$client_name_do = $this->input->post('collapse_' . ($m + 1) . '_client_name_do');
			$w_send_mail_do = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_do');
			$subject_do = trim($this->input->post('collapse_' . ($m + 1) . '_subject_do'));
			$to_do = trim($this->input->post('collapse_' . ($m + 1) . '_to_do'));
			$cc_mail_id_do = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_do'));
			$msg_body_do = $this->input->post('collapse_' . ($m + 1) . '_do');
			$serv_chk_id_do = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_do');
			$type_do = $this->input->post('collapse_' . ($m + 1) . '_type_do');
			$do_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_do_box');
			$do_hidden_file_id = '';
			if (isset($do_hidden_file_id1) && !empty($do_hidden_file_id1)) {
				$do_hidden_file_id = implode(',', $do_hidden_file_id1);
			}

			$do_file = array();
			$do_file_name = "collapse_" . ($m + 1) . "_do_file";
			// print_r($do_file_name);
			// if(isset($_FILES[$do_file_name]['name']) && !empty($_FILES[$do_file_name]['name']))
			// {
			//     $files = $_FILES;
			//     $cpt = count($_FILES[$do_file_name]['name']);
			//     for($i=0; $i<$cpt; $i++)
			//     {
			//         $_FILES['userfile']['name']= $files[$do_file_name]['name'][$i];
			//         $_FILES['userfile']['type']= $files[$do_file_name]['type'][$i];
			//         $_FILES['userfile']['tmp_name']= $files[$do_file_name]['tmp_name'][$i];
			//         $_FILES['userfile']['error']= $files[$do_file_name]['error'][$i];
			//         $_FILES['userfile']['size']= $files[$do_file_name]['size'][$i];
			//         $this->upload->initialize($this->set_upload_option($do_file_name));
			//         $this->upload->do_upload();
			//         echo $this->upload->display_errors();
			//         $data = $this->upload->data();
			//         $do_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'DO');
			//     }
			// }

			if (isset($_FILES[$do_file_name]['name']) && !empty($_FILES[$do_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$do_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$do_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$do_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$do_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$do_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$do_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($do_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$do_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'DO');
				}
			}
			//print_r($do_file);die;

			// $do_file='';
			// $do_file_name='';
			// $temp_do_file_name = 'collapse_'.($m+1).'_do_file'; /*'collapse_'.($m+1).'_do_file'*/

			// if(isset($_FILES[$temp_do_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_do_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_do_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$do_file = $logoData['file_name'];
			// 		$do_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $do_file;
			// }
			// else
			// {
			// 	$do_file = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name');
			// 	$do_file_name = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name_org');
			// }

			$do_array = array(
				'msg_body' => $msg_body_do,
				'to' => $to_do,
				'cc' => $cc_mail_id_do,
				'subject' => $subject_do,
				'client_id' => $client_name_do,
				'serv_chk_id' => $serv_chk_id_do,
				'type' => $type_do,
				'created_by' => $user_id,
				'created_on' => date('Y-m-d'),
				'do_attachment' => $do_file,
				'w_send_mail_do' => $w_send_mail_do,
				'do_hidden_file_id' => $do_hidden_file_id
			);

			//  print_r($do_array);die;
			$client_name_law = $this->input->post('collapse_' . ($m + 1) . '_client_name_law');
			$w_send_mail_law = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_law');
			$subject_law = trim($this->input->post('collapse_' . ($m + 1) . '_subject_law'));
			$to_law = trim($this->input->post('collapse_' . ($m + 1) . '_to_law'));
			$cc_mail_id_law = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_law'));
			$msg_body_law = $this->input->post('collapse_' . ($m + 1) . '_law');
			$serv_chk_id_law = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_law');
			$type_law = $this->input->post('collapse_' . ($m + 1) . '_type_law');
			$law_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_law_box');
			$law_hidden_file_id = '';
			if (isset($law_hidden_file_id1) && !empty($law_hidden_file_id1)) {
				$law_hidden_file_id = implode(',', $law_hidden_file_id1);
			}

			$law_file = array();
			$law_file_name = "collapse_" . ($m + 1) . "_law_file";
			if (isset($_FILES[$law_file_name]['name']) && !empty($_FILES[$law_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$law_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$law_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$law_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$law_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$law_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$law_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($law_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$law_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'LAW');
				}
			}

			// $law_file='';
			// $law_file_name='';
			// $temp_law_file_name = 'collapse_'.($m+1).'_law_file'; /*'collapse_'.($m+1).'_law_file'*/

			// if(isset($_FILES[$temp_law_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_law_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_law_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$law_file = $logoData['file_name'];
			// 		$law_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $law_file;
			// }
			// else
			// {
			// 	$law_file = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name');
			// 	$law_file_name = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name_org');
			// }

			$law_array = array('msg_body' => $msg_body_law, 'to' => $to_law, 'cc' => $cc_mail_id_law, 'subject' => $subject_law, 'client_id' => $client_name_law, 'serv_chk_id' => $serv_chk_id_law, 'type' => $type_law, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'law_attachment' => $law_file, 'w_send_mail_law' => $w_send_mail_law, 'law_hidden_file_id' => $law_hidden_file_id);

			$client_name_faq = $this->input->post('collapse_' . ($m + 1) . '_client_name_faq');
			$w_send_mail_faq = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_faq');
			$subject_faq = trim($this->input->post('collapse_' . ($m + 1) . '_subject_faq'));
			$to_faq = trim($this->input->post('collapse_' . ($m + 1) . '_to_faq'));
			$cc_mail_id_faq = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_faq'));
			$msg_body_faq = $this->input->post('collapse_' . ($m + 1) . '_faq');
			$serv_chk_id_faq = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_faq');
			$type_faq = $this->input->post('collapse_' . ($m + 1) . '_type_faq');
			$faq_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_faq_box');
			$faq_hidden_file_id = '';
			if (isset($faq_hidden_file_id1) && !empty($faq_hidden_file_id1)) {
				$faq_hidden_file_id = implode(',', $faq_hidden_file_id1);
			}

			$faq_file = array();
			$faq_file_name = "collapse_" . ($m + 1) . "_faq_file";
			if (isset($_FILES[$faq_file_name]['name']) && !empty($_FILES[$faq_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$faq_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$faq_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$faq_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$faq_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$faq_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$faq_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($faq_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$faq_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'FAQ');
				}
			}
			// print_r($faq_file);die;

			// $faq_file='';
			// $faq_file_name='';
			// $temp_faq_file_name = 'collapse_'.($m+1).'_faq_file'; /*'collapse_'.($m+1).'_faq_file'*/

			// if(isset($_FILES[$temp_faq_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_faq_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_faq_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$faq_file = $logoData['file_name'];
			// 		$faq_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $faq_file;
			// }
			// else
			// {
			// 	$faq_file = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name');
			// 	$faq_file_name = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name_org');
			// }

			$faq_array = array('msg_body' => $msg_body_faq, 'to' => $to_faq, 'cc' => $cc_mail_id_faq, 'subject' => $subject_faq, 'client_id' => $client_name_faq, 'serv_chk_id' => $serv_chk_id_faq, 'type' => $type_faq, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'faq_attachment' => $faq_file, 'w_send_mail_faq' => $w_send_mail_faq, 'faq_hidden_file_id' => $faq_hidden_file_id);
			// print_r($faq_array);die;

			$client_name_gt = $this->input->post('collapse_' . ($m + 1) . '_client_name_gt');
			$w_send_mail_gt = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_gt');
			$subject_gt = trim($this->input->post('collapse_' . ($m + 1) . '_subject_gt'));
			$to_gt = trim($this->input->post('collapse_' . ($m + 1) . '_to_gt'));
			$cc_mail_id_gt = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_gt'));
			$msg_body_gt = $this->input->post('collapse_' . ($m + 1) . '_gt');
			$serv_chk_id_gt = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_gt');
			$type_gt = $this->input->post('collapse_' . ($m + 1) . '_type_gt');
			$gt_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_gt_box');
			$gt_hidden_file_id = '';
			if (isset($gt_hidden_file_id1) && !empty($gt_hidden_file_id1)) {
				$gt_hidden_file_id = implode(',', $gt_hidden_file_id1);
			}

			$gt_file = array();
			$gt_file_name = "collapse_" . ($m + 1) . "_gt_file";
			if (isset($_FILES[$gt_file_name]['name']) && !empty($_FILES[$gt_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$gt_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$gt_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$gt_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$gt_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$gt_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$gt_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($gt_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$gt_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Timeline');
				}
			}

			// $gt_file='';
			// $gt_file_name='';
			// $temp_gt_file_name = 'collapse_'.($m+1).'_gt_file'; /*'collapse_'.($m+1).'_gt_file'*/

			// if(isset($_FILES[$temp_gt_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_gt_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_gt_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$gt_file = $logoData['file_name'];
			// 		$gt_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $gt_file;
			// }
			// else
			// {
			// 	$gt_file = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name');
			// 	$gt_file_name = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name_org');
			// }

			$gt_array = array('msg_body' => $msg_body_gt, 'to' => $to_gt, 'cc' => $cc_mail_id_gt, 'subject' => $subject_gt, 'client_id' => $client_name_gt, 'serv_chk_id' => $serv_chk_id_gt, 'type' => $type_gt, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'gt_attachment' => $gt_file, 'w_send_mail_gt' => $w_send_mail_gt, 'gt_hidden_file_id' => $gt_hidden_file_id);

			$client_name_flow = $this->input->post('collapse_' . ($m + 1) . '_client_name_flow');
			$w_send_mail_flow = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_flow');
			$subject_flow = trim($this->input->post('collapse_' . ($m + 1) . '_subject_flow'));
			$to_flow = trim($this->input->post('collapse_' . ($m + 1) . '_to_flow'));
			$cc_mail_id_flow = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_flow'));
			$msg_body_flow = $this->input->post('collapse_' . ($m + 1) . '_flow');
			$serv_chk_id_flow = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_flow');
			$type_flow = $this->input->post('collapse_' . ($m + 1) . '_type_flow');
			$flow_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_flow_box');
			$flow_hidden_file_id = '';
			if (isset($flow_hidden_file_id1) && !empty($flow_hidden_file_id1)) {
				$flow_hidden_file_id = implode(',', $flow_hidden_file_id1);
			}

			$flow_file = array();
			$flow_file_name = "collapse_" . ($m + 1) . "_flow_file";
			if (isset($_FILES[$flow_file_name]['name']) && !empty($_FILES[$flow_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$flow_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$flow_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$flow_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$flow_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$flow_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$flow_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($flow_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$flow_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Flow_Chart');
				}
			}

			// $flow_file='';
			// $flow_file_name='';
			// $temp_flow_file_name = 'collapse_'.($m+1).'_flow_file'; /*'collapse_'.($m+1).'_flow_file'*/

			// if(isset($_FILES[$temp_flow_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_flow_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_flow_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$flow_file = $logoData['file_name'];
			// 		$flow_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $flow_file;
			// }
			// else
			// {
			// 	$flow_file = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name');
			// 	$flow_file_name = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name_org');
			// }

			$flow_array = array('msg_body' => $msg_body_flow, 'to' => $to_flow, 'cc' => $cc_mail_id_flow, 'subject' => $subject_flow, 'client_id' => $client_name_flow, 'serv_chk_id' => $serv_chk_id_flow, 'type' => $type_flow, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'flow_attachment' => $flow_file, 'w_send_mail_flow' => $w_send_mail_flow, 'flow_hidden_file_id' => $flow_hidden_file_id);

			$client_name_legal = $this->input->post('collapse_' . ($m + 1) . '_client_name_legal');
			$w_send_mail_legal = $this->input->post('collapse_' . ($m + 1) . '_w_send_mail_legal');
			$subject_legal = trim($this->input->post('collapse_' . ($m + 1) . '_subject_legal'));
			$to_legal = trim($this->input->post('collapse_' . ($m + 1) . '_to_legal'));
			$cc_mail_id_legal = trim($this->input->post('collapse_' . ($m + 1) . '_cc_mail_id_legal'));
			$msg_body_legal = $this->input->post('collapse_' . ($m + 1) . '_legal');
			$serv_chk_id_legal = $this->input->post('collapse_' . ($m + 1) . '_serv_chk_id_legal');
			$type_legal = $this->input->post('collapse_' . ($m + 1) . '_type_legal');
			$legal_hidden_file_id1 = $this->input->post('draft_' . ($m + 1) . '_attach_legal_box');
			$legal_hidden_file_id = '';
			if (isset($legal_hidden_file_id1) && !empty($legal_hidden_file_id1)) {
				$legal_hidden_file_id = implode(',', $legal_hidden_file_id1);
			}

			$legal_file = array();
			$legal_file_name = "collapse_" . ($m + 1) . "_legal_file";
			if (isset($_FILES[$legal_file_name]['name']) && !empty($_FILES[$legal_file_name]['name'])) {
				$files = $_FILES;
				$cpt = count($_FILES[$legal_file_name]['name']);
				for ($i = 0; $i < $cpt; $i++) {
					$_FILES['userfile']['name'] = $files[$legal_file_name]['name'][$i];
					$_FILES['userfile']['type'] = $files[$legal_file_name]['type'][$i];
					$_FILES['userfile']['tmp_name'] = $files[$legal_file_name]['tmp_name'][$i];
					$_FILES['userfile']['error'] = $files[$legal_file_name]['error'][$i];
					$_FILES['userfile']['size'] = $files[$legal_file_name]['size'][$i];
					$this->upload->initialize($this->set_upload_option($legal_file_name));
					$this->upload->do_upload();
					//echo $this->upload->display_errors();
					$data = $this->upload->data();
					$legal_file[] = array('file_name' => $data['file_name'], 'file_org_name' => $data['orig_name'], 'folder_type' => 'Legal');
				}
			}

			// $legal_file='';
			// $legal_file_name='';
			// $temp_legal_file_name = 'collapse_'.($m+1).'_legal_file'; /*'collapse_'.($m+1).'_legal_file'*/

			// if(isset($_FILES[$temp_legal_file_name]['name']))
			// {	//echo base_url().'uploads/approval/';

			// 	$logo=$_FILES[$temp_legal_file_name]['name'];
			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
			// 			   'fieldname' => $temp_legal_file_name,
			// 			   'encrypt_name' => TRUE,
			// 			   'overwrite' => FALSE);

			// 	$logo_img = $this->imageupload->image_upload($logoImg);
			// 	if(isset($logo_img) && !empty($logo_img))
			// 	{
			// 		$logoData = $this->upload->data();
			// 		$legal_file = $logoData['file_name'];
			// 		$legal_file_name = $logoData['orig_name'];
			// 	}
			// 	// echo $legal_file;
			// }
			// else
			// {
			// 	$legal_file = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name');
			// 	$legal_file_name = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name_org');
			// }

			$legal_array = array('msg_body' => $msg_body_legal, 'to' => $to_legal, 'cc' => $cc_mail_id_legal, 'subject' => $subject_legal, 'client_id' => $client_name_legal, 'serv_chk_id' => $serv_chk_id_legal, 'type' => $type_legal, 'created_by' => $user_id, 'created_on' => date('Y-m-d'), 'legal_attachment' => $legal_file, 'w_send_mail_legal' => $w_send_mail_legal, 'legal_hidden_file_id' => $legal_hidden_file_id);

			/*$chk_attachment = array();
									if (isset($city_id[$m]) && !empty($city_id[$m])) {
										$file_name = 'checklist_file_attachment_'.($m+1);

										if(isset($_FILES[$file_name]))
										{
											$files = $_FILES;
											$cpt = count($_FILES[$file_name]['name']);
											for($i=0; $i<$cpt; $i++)
											{
												$_FILES['userfile']['name']= $files[$file_name]['name'][$i];
												$_FILES['userfile']['type']= $files[$file_name]['type'][$i];
												$_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
												$_FILES['userfile']['error']= $files[$file_name]['error'][$i];
												$_FILES['userfile']['size']= $files[$file_name]['size'][$i];
												$this->upload->initialize($this->set_compliance_upload_option($file_name));
												$this->upload->do_upload();
												echo $this->upload->display_errors();
												$data = $this->upload->data();
												$chk_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Checklist File','city_id'=>$city_id[$m]);
											}
										}
									}

									$temp_attachment = array();
									if (isset($city_id[$m]) && !empty($city_id[$m])) {
										$file_name = 'template_file_attachment_'.($m+1);

										if(isset($_FILES[$file_name]))
										{
											$files = $_FILES;
											$cpt = count($_FILES[$file_name]['name']);
											for($i=0; $i<$cpt; $i++)
											{
												$_FILES['userfile']['name']= $files[$file_name]['name'][$i];
												$_FILES['userfile']['type']= $files[$file_name]['type'][$i];
												$_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
												$_FILES['userfile']['error']= $files[$file_name]['error'][$i];
												$_FILES['userfile']['size']= $files[$file_name]['size'][$i];
												$this->upload->initialize($this->set_compliance_upload_option($file_name));
												$this->upload->do_upload();
												echo $this->upload->display_errors();
												$data = $this->upload->data();
												$temp_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template File','city_id'=>$city_id[$m]);
											}
										}
									}

									$print_trial_attachment = array();
									if (isset($city_id[$m]) && !empty($city_id[$m])) {
										$file_name = 'print_trial_attachment_'.($m+1);

										if(isset($_FILES[$file_name]))
										{
											$files = $_FILES;
											$cpt = count($_FILES[$file_name]['name']);
											for($i=0; $i<$cpt; $i++)
											{
												$_FILES['userfile']['name']= $files[$file_name]['name'][$i];
												$_FILES['userfile']['type']= $files[$file_name]['type'][$i];
												$_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
												$_FILES['userfile']['error']= $files[$file_name]['error'][$i];
												$_FILES['userfile']['size']= $files[$file_name]['size'][$i];
												$this->upload->initialize($this->set_upload_options_print_trial($file_name));
												$this->upload->do_upload();
												echo $this->upload->display_errors();
												$data = $this->upload->data();
												$print_trial_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Print Trial','city_id'=>$city_id[$m]);
											}
										}
									}*/

			$checklist = $msg_body;
			$template = $msg_body_t;
			// print_r($template);
			$printing_instruction = $msg_body_p;
			$standard_qut = $msg_body_q;
			$sop_body = $msg_body_so;
			$do_body = $msg_body_do;
			$law = $msg_body_law;
			$faq = $msg_body_faq;
			$gt_body = $msg_body_gt;
			$flow = $msg_body_flow;
			$legal = $msg_body_legal;
			/*$temp_file = $template_file;
									$temp_org_file = $template_file_name;*/

			$single_array = array(
				'city_id' => $city_id[$m],
				'sez_id' => $sez_id[$m],
				'type_of_client' => $type_of_client[$m],
				'client_unit' => $client_unit[$m],
				'checklist' => $checklist,
				'template' => $template,
				'printing_instruction' => $printing_instruction,
				'quotation' => $standard_qut,
				'sop' => $sop_body,
				'do' => $do_body,
				'law' => $law,
				'faq' => $faq,
				'gt_body' => $gt_body,
				'flow' => $flow,
				'legal' => $legal,
				'checklist_array' => $checklist_array,
				'template_array' => $template_array,
				'printing_array' => $printing_array,
				'quotation_array' => $quotation_array,
				'sop_array' => $sop_array,
				'do_array' => $do_array,
				'law_array' => $law_array,
				'faq_array' => $faq_array,
				'gt_array' => $gt_array,
				'flow_array' => $flow_array,
				'legal_array' => $legal_array
			);
			$serv_check_data[] = $single_array;
		}
		//  }

		//exit();
		// 	echo '<pre>';
		// print_r($serv_check_data); exit();
		$new_activity = array('service_name' => $service_name, 'sez_cost' => $sez_cost, 'service_type' => $service_type, 'tracker_type' => $tracker_type, 'type_of_activity' => $type_of_activity, 'dept_master_id' => $department_name);


		if (isset($service_id) && !empty($service_id) && ($service_id > 0)) {
			$result = $this->approval_model->updateActivityData('tbl_services_master', $new_activity, $checklist_attachment, $template_attachment, $instruction_attachment, $sop_attachment, $goc_attachment, $rcl_attachment, $govt_attachment, $dd_attachment, $faq_attachment, $fc_attachment, $sq_attachment, $lar_attachment, $sub_attachment, $service_id, $hidden_attachment_id, $serv_check_data, $hidden_serv_chk_id);
			// echo $this->db->last_query();die;


			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"><strong></strong>Activity Details Updated Successfully!</div>',
						'redirect' => base_url() . 'service_activity'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Activity Details !</div>'
					)
				);
			}
		} else { //print_r($serv_check_data); exit();

			$result = $this->approval_model->addActivityData('tbl_services_master', $new_activity, $instruction_attachment, $sop_attachment, $goc_attachment, $rcl_attachment, $govt_attachment, $dd_attachment, $faq_attachment, $fc_attachment, $sq_attachment, $lar_attachment, $sub_attachment, $serv_check_data);
			// echo 'add';die;
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'id' => $result,
						'msg' => '<div class="alert modify alert-success"><strong></strong> Activity Details Saved Successfully!</div>',
						'redirect' => base_url() . 'service_activity'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Activity Details !</div>'
					)
				);
			}
		}
	}

	public function new_approval($service_id = NULL)
	{
		//$service_id=$this->input->post('id');
		//$service_id = $this->uri->segment(2);
		$this->load->model('common_model');
		$data['city_data'] = $this->common_model->fetchDataFromTable_d('tbl_city', 'city_name');
		$data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['dept_data'] = $this->common_model->fetchDataFromTable_d('tbl_department_master', 'dept_master_name');
		if (isset($service_id) && !empty($service_id)) {
			$data['activity_attachment_data'] = $this->common_model->selectAllWhr('tbl_activity_attachment', 'service_id', $service_id);
			$data['single_service_data'] = $this->common_model->selectDetailsWhr('tbl_services_master', 'service_id', $service_id);
			$data['advance_received_data'] = $this->approval_model->fetchAllServiceData($service_id);
		}

		$data['trackerTypeData'] = $this->common_model->fetchDataFromTable('tbl_tracker_type', 'tracker_name');

		// $data['checklist_attachment_data'] = $this->approval_model->fetchDataFromActivityAttachment($service_id);
		$this->load->view('approval/add_new_activity', $data);
		//$this->json->jsonReturn(array('view'=>$view));
	}

	/*public function draft_view()
			 {
				 $type= $this->input->post('type');
				 $type_name= $this->input->post('type_name');
				 $serv_chk_id= $this->input->post('id');
				 //echo $serv_chk_id; exit();
				 $data['city_data'] = $this->common_model->fetchDataFromTable_d('tbl_city','city_name');
				 $data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez','sez_name');
				 $data['client_data']=$this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
				 $data['draft_data'] = $this->approval_model->fetch_chk_data($serv_chk_id);

				 //print_r($data['draft_data']); exit();
				 $rand = rand(10000,99999);
				 $data['type'] = $type;
				 $data['type_name'] = $type_name;
				 $data['serv_chk_id'] = $serv_chk_id;
				 $data['rand'] = $rand;
				 $view = $this->load->view('approval/draft_view',$data,TRUE);
				 $this->json->jsonReturn(array('view'=>$view,'rand'=>$rand));
			 }*/

	// public function save_new_approval()
	// {

	// 	$service_id=$this->input->post('service_id');
	// 	$this->load->model('common_model');
	// 	$service_name=trim($this->input->post('service_name'));
	// 	$sez_cost=$this->input->post('sez_cost');
	// 	$service_type=$this->input->post('service_type');
	// 	$tracker_type=$this->input->post('tracker_type');
	// 	$department_name = $this->input->post('department_name');

	// 	$hidden_attachment_id=$this->input->post('hidden_attachment_id');

	// 	$checklist_hidden_images=$this->input->post('checklist_hidden_images');
	// 	$checklist_hidden_orig_images=$this->input->post('checklist_hidden_orig_images');

	// 	$template_hidden_images=$this->input->post('template_hidden_images');
	// 	$template_hidden_orig_images=$this->input->post('template_hidden_orig_images');

	// 	$instruction_hidden_images=$this->input->post('instruction_hidden_images');
	// 	$instruction_hidden_orig_images=$this->input->post('instruction_hidden_orig_images');

	// 	$sop_hidden_images=$this->input->post('sop_hidden_images');
	// 	$sop_hidden_orig_images=$this->input->post('sop_hidden_orig_images');

	// 	$goc_hidden_images=$this->input->post('goc_hidden_images');
	// 	$goc_hidden_orig_images=$this->input->post('goc_hidden_orig_images');

	// 	//rahul

	// 	$rcl_hidden_images=$this->input->post('rcl_hidden_images');
	// 	$rcl_hidden_orig_images=$this->input->post('rcl_hidden_orig_images');

	// 	$govt_hidden_images=$this->input->post('govt_hidden_images');
	// 	$govt_hidden_orig_images=$this->input->post('govt_hidden_orig_images');

	// 	$dd_hidden_images=$this->input->post('dd_hidden_images');
	// 	$dd_hidden_orig_images=$this->input->post('dd_hidden_orig_images');

	// 	$faq_hidden_images=$this->input->post('faq_hidden_images');
	// 	$faq_hidden_orig_images=$this->input->post('faq_hidden_orig_images');

	// 	$fc_hidden_images=$this->input->post('fc_hidden_images');
	// 	$fc_hidden_orig_images=$this->input->post('fc_hidden_orig_images');

	// 	$sq_hidden_images=$this->input->post('sq_hidden_images');
	// 	$sq_hidden_orig_images=$this->input->post('sq_hidden_orig_images');

	// 	$lar_hidden_images=$this->input->post('lar_hidden_images');
	// 	$lar_hidden_orig_images=$this->input->post('lar_hidden_orig_images');

	// 	$sub_hidden_images=$this->input->post('sub_hidden_images');
	// 	$sub_hidden_orig_images=$this->input->post('sub_hidden_orig_images');

	// 	$type_of_activity=$this->input->post('type_of_activity');


	// 	//end

	// 	$checklist_attachment = array();
	//        if(isset($_FILES['checklist_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['checklist_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['checklist_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['checklist_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['checklist_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['checklist_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['checklist_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_checklist());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $checklist_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Checklist File');
	//            }
	//        }

	// 	$template_attachment = array();
	//        if(isset($_FILES['template_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['template_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['template_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['template_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['template_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['template_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['template_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_template());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $template_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Template File');
	//            }
	//        }


	//        $instruction_attachment = array();
	//        if(isset($_FILES['instruction_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['instruction_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['instruction_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['instruction_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['instruction_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['instruction_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['instruction_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_instruction());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $instruction_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'Instruction File');
	//            }
	//        }

	//        $sop_attachment = array();
	//        if(isset($_FILES['sop_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sop_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sop_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sop_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sop_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sop_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sop_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sop());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sop_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SOP File');
	//            }
	//        }

	//        $goc_attachment = array();
	//        if(isset($_FILES['goc_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['goc_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['goc_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['goc_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['goc_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['goc_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['goc_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_goc());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $goc_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'GOC File');
	//            }
	//        }


	//        //rahul

	//        $rcl_attachment = array();
	//        if(isset($_FILES['rcl_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['rcl_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['rcl_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['rcl_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['rcl_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['rcl_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['rcl_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_rcl());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $rcl_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'RCL File');
	//            }
	//        }

	//        $govt_attachment = array();
	//        if(isset($_FILES['govt_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['govt_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['govt_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['govt_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['govt_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['govt_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['govt_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_govt());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $govt_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'GOVT File');
	//            }
	//        }

	//        $dd_attachment = array();
	//        if(isset($_FILES['dd_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['dd_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['dd_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['dd_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['dd_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['dd_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['dd_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_dd());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $dd_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'DD File');
	//            }
	//        }

	//        $faq_attachment = array();
	//        if(isset($_FILES['faq_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['faq_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['faq_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['faq_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['faq_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['faq_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['faq_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_faq());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $faq_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'FAQ File');
	//            }
	//        }

	//        $fc_attachment = array();
	//        if(isset($_FILES['fc_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['fc_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['fc_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['fc_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['fc_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['fc_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['fc_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_fc());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $fc_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'FC File');
	//            }
	//        }

	//        $sq_attachment = array();
	//        if(isset($_FILES['sq_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sq_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sq_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sq_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sq_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sq_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sq_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sq());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sq_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SQ File');
	//            }
	//        }

	//        $lar_attachment = array();
	//        if(isset($_FILES['lar_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['lar_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['lar_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['lar_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['lar_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['lar_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['lar_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_lar());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $lar_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'LAR File');
	//            }
	//        }

	//        $sub_attachment = array();
	//        if(isset($_FILES['sub_file_attachment']['name']))
	//        {
	//            $files = $_FILES;
	//            $cpt = count($_FILES['sub_file_attachment']['name']);
	//            for($i=0; $i<$cpt; $i++)
	//            {
	//                $_FILES['userfile']['name']= $files['sub_file_attachment']['name'][$i];
	//                $_FILES['userfile']['type']= $files['sub_file_attachment']['type'][$i];
	//                $_FILES['userfile']['tmp_name']= $files['sub_file_attachment']['tmp_name'][$i];
	//                $_FILES['userfile']['error']= $files['sub_file_attachment']['error'][$i];
	//                $_FILES['userfile']['size']= $files['sub_file_attachment']['size'][$i];
	//                $this->upload->initialize($this->set_upload_options_sub());
	//                $this->upload->do_upload();
	//                echo $this->upload->display_errors();
	//                $data = $this->upload->data();
	//                $sub_attachment[] = array("file_name"=>$data['file_name'],"file_org_name"=>$data['orig_name'],"folder_type"=>'SS File');
	//            }
	//        }

	//        $hidden_serv_chk_id = $this->input->post('hidden_serv_chk_id');
	//        $city_id = $this->input->post('city_id');
	//        $sez_id = $this->input->post('sez_id');
	//        $type_of_client = $this->input->post('type_of_client');
	//        $client_unit = $this->input->post('client_unit');

	//        $serv_check_data = array();

	//        $checklist = '';
	// 	$template = '';
	// 	$printing_instruction = '';
	// 	$standard_qut = '';
	// 	$chk_rand = '';
	// 	$temp_rand = '';
	// 	$print_rand = '';
	//       // if (isset($city_id) && !empty($city_id)) {
	// 	//echo count($city_id); exit();
	//        	for ($m=0; $m < count($city_id); $m++)
	//        	{

	//        		/*if (isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name = 'chk_hidden_'.($m+1);
	//        			$checklist = $this->input->post($file_name);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name1 = 'temp_hidden_'.($m+1);
	//        			$template = $this->input->post($file_name1);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name2 = 'print_hidden_'.($m+1);
	//        			$printing_instruction = $this->input->post($file_name2);
	//        		}*/

	//        		/*if (isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name = 'chk_random_'.($m+1);
	//        			$chk_rand = $this->input->post($file_name);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name1 = 'temp_random_'.($m+1);
	//        			$temp_rand = $this->input->post($file_name1);
	//        		}

	//        		if(isset($city_id[$m]) && !empty($city_id[$m])){
	//        			$file_name2 = 'print_random_'.($m+1);
	//        			$print_rand = $this->input->post($file_name2);
	//        		}*/


	//        		$user_id = $this->session->userdata('user_id');
	//        		$client_name_c = trim($this->input->post('collapse_'.($m+1).'_client_name_c'));
	//        		$w_send_mail_c = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_c'));
	//        		$subject_c = trim($this->input->post('collapse_'.($m+1).'_subject_c'));
	//        		$to_c = trim($this->input->post('collapse_'.($m+1).'_to_c'));
	// 			$cc_mail_id_c = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_c'));
	// 			$msg_body = $this->input->post('collapse_'.($m+1).'_checklist');
	// 			$serv_chk_id_c = $this->input->post('collapse_'.($m+1).'_serv_chk_id_c');
	// 			$type_c = $this->input->post('collapse_'.($m+1).'_type_c');
	// 			$chk_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_chk_box');
	// 			$chk_hidden_file_id = '';
	// 			if(isset($chk_hidden_file_id1) && !empty($chk_hidden_file_id1))
	// 			{$chk_hidden_file_id = implode(',',$chk_hidden_file_id1);}
	// 			//print_r($chk_hidden_file_id); exit();
	// 			//$chk_random = $this->input->post('chk_random');

	// 			// $chk_file='';
	// 			// $chk_file_name='';
	// 			// $temp_chk_file_name = 'collapse_'.($m+1).'_chk_file'; /*'collapse_'.($m+1).'_chk_file'*/

	// 			// if(isset($_FILES[$temp_chk_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_chk_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_chk_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$chk_file = $logoData['file_name'];
	// 			// 		$chk_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $chk_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$chk_file = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name');
	// 			// 	$chk_file_name = $this->input->post('hidden_collapse_'.($m+1).'_chk_file_name_org');
	// 			// }


	// 	        $chk_file= array();
	// 	        $chk_file_name = "collapse_".($m+1)."_chk_file";
	// 	        if(isset($_FILES[$chk_file_name]['name']) && !empty($_FILES[$chk_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$chk_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$chk_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$chk_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$chk_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$chk_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$chk_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($chk_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $chk_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Checklist');
	// 	            }
	// 	        }

	// 			$checklist_array = array('msg_body'=>$msg_body,'to'=>$to_c,'cc'=>$cc_mail_id_c,'subject'=>$subject_c,'client_id'=>$client_name_c,'serv_chk_id'=>$serv_chk_id_c,'type'=>$type_c,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'chk_attachment'=>$checklist_attachment,'w_send_mail_c'=>$w_send_mail_c,'chk_hidden_file_id'=>$chk_hidden_file_id);

	// 			//print_r($checklist_array); exit();
	// 			$client_name_t = trim($this->input->post('collapse_'.($m+1).'_client_name_t'));
	//        		$w_send_mail_t = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_t'));
	//        		$subject_t = trim($this->input->post('collapse_'.($m+1).'_subject_t'));
	//        		$to_t = trim($this->input->post('collapse_'.($m+1).'_to_t'));
	// 			$cc_mail_id_t = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_t'));
	// 			$msg_body_t = $this->input->post('collapse_'.($m+1).'_template');
	// 			$serv_chk_id_t = $this->input->post('collapse_'.($m+1).'_serv_chk_id_t');
	// 			$type_t = $this->input->post('collapse_'.($m+1).'_type_t');
	// 			$temp_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_temp_box');
	// 			$temp_hidden_file_id = '';
	// 			if(isset($temp_hidden_file_id1) && !empty($temp_hidden_file_id1))
	// 			{$temp_hidden_file_id = implode(',',$temp_hidden_file_id1);}
	// 			//$chk_random = $this->input->post('chk_random');

	// 			// $template_file='';
	// 			// $template_file_name='';
	// 			// $temp_file_name = 'collapse_'.($m+1).'_template_file'; /*'collapse_'.($m+1).'_template_file'*/

	// 			// if(isset($_FILES[$temp_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$template_file = $logoData['file_name'];
	// 			// 		$template_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $template_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$template_file = $this->input->post('hidden_collapse_'.($m+1).'_file_name');
	// 			// 	$template_file_name = $this->input->post('hidden_collapse_'.($m+1).'_file_name_org');
	// 			// }
	// 			//exit();
	// 			$template_file= array();
	// 	        $template_file_name = "collapse_".($m+1)."_temp_file";
	// 	        if(isset($_FILES[$template_file_name]['name']) && !empty($_FILES[$template_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$template_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$template_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$template_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$template_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$template_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$template_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($template_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $template_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template');
	// 	            }
	// 	        }

	// 			$template_array = array('msg_body'=>$msg_body_t,'to'=>$to_t,'cc'=>$cc_mail_id_t,'subject'=>$subject_t,'client_id'=>$client_name_t,'serv_chk_id'=>$serv_chk_id_t,'type'=>$type_t,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'temp_attachment'=>$template_attachment,'w_send_mail_t'=>$w_send_mail_t,'temp_hidden_file_id'=>$temp_hidden_file_id);
	// 			//print_r($template_array); exit();

	// 			$client_name_p = trim($this->input->post('collapse_'.($m+1).'_client_name_p'));
	//        		$w_send_mail_p = trim($this->input->post('collapse_'.($m+1).'_w_send_mail_p'));
	//        		$subject_p = trim($this->input->post('collapse_'.($m+1).'_subject_p'));
	//        		$to_p = trim($this->input->post('collapse_'.($m+1).'_to_p'));
	// 			$cc_mail_id_p = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_p'));
	// 			$msg_body_p = $this->input->post('collapse_'.($m+1).'_print_instruct');
	// 			$serv_chk_id_p = $this->input->post('collapse_'.($m+1).'_serv_chk_id_p');
	// 			$type_p = $this->input->post('collapse_'.($m+1).'_type_p');
	// 			$print_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_print_box');
	// 			$print_hidden_file_id = '';
	// 			if(isset($print_hidden_file_id1) && !empty($print_hidden_file_id1))
	// 			{$print_hidden_file_id = implode(',',$print_hidden_file_id1);}

	// 			$print_file= array();
	// 	        $print_file_name = "collapse_".($m+1)."_print_file";
	// 	        if(isset($_FILES[$print_file_name]['name']) && !empty($_FILES[$print_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$print_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$print_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$print_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$print_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$print_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$print_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($print_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $print_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Printing');
	// 	            }
	// 	        }

	// 	        // $print_file='';
	// 			// $print_file_name='';
	// 			// $temp_print_file_name = 'collapse_'.($m+1).'_print_file'; /*'collapse_'.($m+1).'_print_file'*/
	// 			// if(isset($_FILES[$temp_print_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_print_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_print_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$print_file = $logoData['file_name'];
	// 			// 		$print_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $print_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$print_file = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name');
	// 			// 	$print_file_name = $this->input->post('hidden_collapse_'.($m+1).'_print_file_name_org');
	// 			// }

	// 			$printing_array = array('msg_body'=>$msg_body_p,'to'=>$to_p,'cc'=>$cc_mail_id_p,'subject'=>$subject_p,'client_id'=>$client_name_p,'serv_chk_id'=>$serv_chk_id_p,'type'=>$type_p,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'print_attachment'=>$print_file,'w_send_mail_p'=>$w_send_mail_p,'print_hidden_file_id'=>$print_hidden_file_id);


	// 			$client_name_q = $this->input->post('collapse_'.($m+1).'_client_name_q');
	//        		$w_send_mail_q = $this->input->post('collapse_'.($m+1).'_w_send_mail_q');
	//        		$subject_q = trim($this->input->post('collapse_'.($m+1).'_subject_q'));
	//        		$to_q = trim($this->input->post('collapse_'.($m+1).'_to_q'));
	// 			$cc_mail_id_q = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_q'));
	// 			$msg_body_q = $this->input->post('collapse_'.($m+1).'_quotation');
	// 			$serv_chk_id_q = $this->input->post('collapse_'.($m+1).'_serv_chk_id_q');
	// 			$type_q = $this->input->post('collapse_'.($m+1).'_type_q');
	// 			$qut_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_qut_box');
	// 			$qut_hidden_file_id = '';
	// 			if(isset($qut_hidden_file_id1) && !empty($qut_hidden_file_id1))
	// 			{$qut_hidden_file_id = implode(',',$qut_hidden_file_id1);}

	// 			$qut_file= array();
	// 	        $qut_file_name = "collapse_".($m+1)."_qut_file";
	// 	        if(isset($_FILES[$qut_file_name]['name']) && !empty($_FILES[$qut_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$qut_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$qut_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$qut_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$qut_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$qut_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$qut_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($qut_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $qut_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Quotation');
	// 	            }
	// 	        }

	// 			// $qut_file='';
	// 			// $qut_file_name='';
	// 			// $temp_qut_file_name = 'collapse_'.($m+1).'_qut_file'; /*'collapse_'.($m+1).'_qut_file'*/

	// 			// if(isset($_FILES[$temp_qut_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_qut_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_qut_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$qut_file = $logoData['file_name'];
	// 			// 		$qut_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $qut_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$qut_file = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name');
	// 			// 	$qut_file_name = $this->input->post('hidden_collapse_'.($m+1).'_qut_file_name_org');
	// 			// }

	// 			$quotation_array = array('msg_body'=>$msg_body_q,'to'=>$to_q,'cc'=>$cc_mail_id_q,'subject'=>$subject_q,'client_id'=>$client_name_q,'serv_chk_id'=>$serv_chk_id_q,'type'=>$type_q,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'qut_attachment'=>$qut_file,'w_send_mail_q'=>$w_send_mail_q,'qut_hidden_file_id'=>$qut_hidden_file_id);


	// 			$client_name_so = $this->input->post('collapse_'.($m+1).'_client_name_so');
	//        		$w_send_mail_so = $this->input->post('collapse_'.($m+1).'_w_send_mail_so');
	//        		$subject_so = trim($this->input->post('collapse_'.($m+1).'_subject_so'));
	//        		$to_so = trim($this->input->post('collapse_'.($m+1).'_to_so'));
	// 			$cc_mail_id_so = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_so'));
	// 			$msg_body_so = $this->input->post('collapse_'.($m+1).'_sop');
	// 			$serv_chk_id_so = $this->input->post('collapse_'.($m+1).'_serv_chk_id_so');
	// 			$type_so = $this->input->post('collapse_'.($m+1).'_type_so');
	// 			$sop_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_sop_box');
	// 			$sop_hidden_file_id = '';
	// 			if(isset($sop_hidden_file_id1) && !empty($sop_hidden_file_id1))
	// 			{$sop_hidden_file_id = implode(',',$sop_hidden_file_id1);}

	// 			$sop_file= array();
	// 	        $sop_file_name = "collapse_".($m+1)."_sop_file";
	// 	        if(isset($_FILES[$sop_file_name]['name']) && !empty($_FILES[$sop_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$sop_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$sop_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$sop_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$sop_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$sop_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$sop_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($sop_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $sop_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'SOP');
	// 	            }
	// 	        }

	// 			// $sop_file='';
	// 			// $sop_file_name='';
	// 			// $temp_sop_file_name = 'collapse_'.($m+1).'_sop_file'; /*'collapse_'.($m+1).'_sop_file'*/

	// 			// if(isset($_FILES[$temp_sop_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_sop_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_sop_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$sop_file = $logoData['file_name'];
	// 			// 		$sop_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $sop_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$sop_file = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name');
	// 			// 	$sop_file_name = $this->input->post('hidden_collapse_'.($m+1).'_sop_file_name_org');
	// 			// }

	// 			$sop_array = array('msg_body'=>$msg_body_so,'to'=>$to_so,'cc'=>$cc_mail_id_so,'subject'=>$subject_so,'client_id'=>$client_name_so,'serv_chk_id'=>$serv_chk_id_so,'type'=>$type_so,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'sop_attachment'=>$sop_file,'w_send_mail_so'=>$w_send_mail_so,'sop_hidden_file_id'=>$sop_hidden_file_id);


	// 			$client_name_do = $this->input->post('collapse_'.($m+1).'_client_name_do');
	//        		$w_send_mail_do = $this->input->post('collapse_'.($m+1).'_w_send_mail_do');
	//        		$subject_do = trim($this->input->post('collapse_'.($m+1).'_subject_do'));
	//        		$to_do = trim($this->input->post('collapse_'.($m+1).'_to_do'));
	// 			$cc_mail_id_do = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_do'));
	// 			$msg_body_do = $this->input->post('collapse_'.($m+1).'_do');
	// 			$serv_chk_id_do = $this->input->post('collapse_'.($m+1).'_serv_chk_id_do');
	// 			$type_do = $this->input->post('collapse_'.($m+1).'_type_do');
	// 			$do_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_do_box');
	// 			$do_hidden_file_id = '';
	// 			if(isset($do_hidden_file_id1) && !empty($do_hidden_file_id1))
	// 			{$do_hidden_file_id = implode(',',$do_hidden_file_id1);}

	// 			$do_file= array();
	// 	        $do_file_name = "collapse_".($m+1)."_do_file";
	// 	        if(isset($_FILES[$do_file_name]['name']) && !empty($_FILES[$do_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$do_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$do_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$do_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$do_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$do_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$do_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($do_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $do_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'DO');
	// 	            }
	// 	        }

	// 			// $do_file='';
	// 			// $do_file_name='';
	// 			// $temp_do_file_name = 'collapse_'.($m+1).'_do_file'; /*'collapse_'.($m+1).'_do_file'*/

	// 			// if(isset($_FILES[$temp_do_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_do_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_do_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$do_file = $logoData['file_name'];
	// 			// 		$do_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $do_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$do_file = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name');
	// 			// 	$do_file_name = $this->input->post('hidden_collapse_'.($m+1).'_do_file_name_org');
	// 			// }

	// 			$do_array = array('msg_body'=>$msg_body_do,'to'=>$to_do,'cc'=>$cc_mail_id_do,'subject'=>$subject_do,'client_id'=>$client_name_do,'serv_chk_id'=>$serv_chk_id_do,'type'=>$type_do,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'do_attachment'=>$do_file,'w_send_mail_do'=>$w_send_mail_do,
	// 				'do_hidden_file_id'=>$do_hidden_file_id);


	// 			$client_name_law = $this->input->post('collapse_'.($m+1).'_client_name_law');
	//        		$w_send_mail_law = $this->input->post('collapse_'.($m+1).'_w_send_mail_law');
	//        		$subject_law = trim($this->input->post('collapse_'.($m+1).'_subject_law'));
	//        		$to_law = trim($this->input->post('collapse_'.($m+1).'_to_law'));
	// 			$cc_mail_id_law = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_law'));
	// 			$msg_body_law = $this->input->post('collapse_'.($m+1).'_law');
	// 			$serv_chk_id_law = $this->input->post('collapse_'.($m+1).'_serv_chk_id_law');
	// 			$type_law = $this->input->post('collapse_'.($m+1).'_type_law');
	// 			$law_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_law_box');
	// 			$law_hidden_file_id = '';
	// 			if(isset($law_hidden_file_id1) && !empty($law_hidden_file_id1))
	// 			{$law_hidden_file_id = implode(',',$law_hidden_file_id1);}

	// 			$law_file= array();
	// 	        $law_file_name = "collapse_".($m+1)."_law_file";
	// 	        if(isset($_FILES[$law_file_name]['name']) && !empty($_FILES[$law_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$law_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$law_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$law_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$law_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$law_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$law_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($law_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $law_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'LAW');
	// 	            }
	// 	        }

	// 			// $law_file='';
	// 			// $law_file_name='';
	// 			// $temp_law_file_name = 'collapse_'.($m+1).'_law_file'; /*'collapse_'.($m+1).'_law_file'*/

	// 			// if(isset($_FILES[$temp_law_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_law_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_law_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$law_file = $logoData['file_name'];
	// 			// 		$law_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $law_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$law_file = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name');
	// 			// 	$law_file_name = $this->input->post('hidden_collapse_'.($m+1).'_law_file_name_org');
	// 			// }

	// 			$law_array = array('msg_body'=>$msg_body_law,'to'=>$to_law,'cc'=>$cc_mail_id_law,'subject'=>$subject_law,'client_id'=>$client_name_law,'serv_chk_id'=>$serv_chk_id_law,'type'=>$type_law,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'law_attachment'=>$law_file,'w_send_mail_law'=>$w_send_mail_law,'law_hidden_file_id'=>$law_hidden_file_id);

	// 			$client_name_faq = $this->input->post('collapse_'.($m+1).'_client_name_faq');
	//        		$w_send_mail_faq = $this->input->post('collapse_'.($m+1).'_w_send_mail_faq');
	//        		$subject_faq = trim($this->input->post('collapse_'.($m+1).'_subject_faq'));
	//        		$to_faq = trim($this->input->post('collapse_'.($m+1).'_to_faq'));
	// 			$cc_mail_id_faq = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_faq'));
	// 			$msg_body_faq = $this->input->post('collapse_'.($m+1).'_faq');
	// 			$serv_chk_id_faq = $this->input->post('collapse_'.($m+1).'_serv_chk_id_faq');
	// 			$type_faq = $this->input->post('collapse_'.($m+1).'_type_faq');
	// 			$faq_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_faq_box');
	// 			$faq_hidden_file_id = '';
	// 			if(isset($faq_hidden_file_id1) && !empty($faq_hidden_file_id1))
	// 			{$faq_hidden_file_id = implode(',',$faq_hidden_file_id1);}

	// 			$faq_file= array();
	// 	        $faq_file_name = "collapse_".($m+1)."_faq_file";
	// 	        if(isset($_FILES[$faq_file_name]['name']) && !empty($_FILES[$faq_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$faq_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$faq_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$faq_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$faq_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$faq_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$faq_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($faq_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $faq_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'FAQ');
	// 	            }
	// 	        }

	// 			// $faq_file='';
	// 			// $faq_file_name='';
	// 			// $temp_faq_file_name = 'collapse_'.($m+1).'_faq_file'; /*'collapse_'.($m+1).'_faq_file'*/

	// 			// if(isset($_FILES[$temp_faq_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_faq_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_faq_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$faq_file = $logoData['file_name'];
	// 			// 		$faq_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $faq_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$faq_file = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name');
	// 			// 	$faq_file_name = $this->input->post('hidden_collapse_'.($m+1).'_faq_file_name_org');
	// 			// }

	// 			$faq_array = array('msg_body'=>$msg_body_faq,'to'=>$to_faq,'cc'=>$cc_mail_id_faq,'subject'=>$subject_faq,'client_id'=>$client_name_faq,'serv_chk_id'=>$serv_chk_id_faq,'type'=>$type_faq,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'faq_attachment'=>$faq_file,'w_send_mail_faq'=>$w_send_mail_faq,'faq_hidden_file_id'=>$faq_hidden_file_id);

	// 			$client_name_gt = $this->input->post('collapse_'.($m+1).'_client_name_gt');
	//        		$w_send_mail_gt = $this->input->post('collapse_'.($m+1).'_w_send_mail_gt');
	//        		$subject_gt = trim($this->input->post('collapse_'.($m+1).'_subject_gt'));
	//        		$to_gt = trim($this->input->post('collapse_'.($m+1).'_to_gt'));
	// 			$cc_mail_id_gt = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_gt'));
	// 			$msg_body_gt = $this->input->post('collapse_'.($m+1).'_gt');
	// 			$serv_chk_id_gt = $this->input->post('collapse_'.($m+1).'_serv_chk_id_gt');
	// 			$type_gt = $this->input->post('collapse_'.($m+1).'_type_gt');
	// 			$gt_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_gt_box');
	// 			$gt_hidden_file_id = '';
	// 			if(isset($gt_hidden_file_id1) && !empty($gt_hidden_file_id1))
	// 			{$gt_hidden_file_id = implode(',',$gt_hidden_file_id1);}

	// 			$gt_file= array();
	// 	        $gt_file_name = "collapse_".($m+1)."_gt_file";
	// 	        if(isset($_FILES[$gt_file_name]['name']) && !empty($_FILES[$gt_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$gt_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$gt_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$gt_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$gt_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$gt_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$gt_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($gt_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $gt_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Timeline');
	// 	            }
	// 	        }

	// 			// $gt_file='';
	// 			// $gt_file_name='';
	// 			// $temp_gt_file_name = 'collapse_'.($m+1).'_gt_file'; /*'collapse_'.($m+1).'_gt_file'*/

	// 			// if(isset($_FILES[$temp_gt_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_gt_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_gt_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$gt_file = $logoData['file_name'];
	// 			// 		$gt_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $gt_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$gt_file = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name');
	// 			// 	$gt_file_name = $this->input->post('hidden_collapse_'.($m+1).'_gt_file_name_org');
	// 			// }

	// 			$gt_array = array('msg_body'=>$msg_body_gt,'to'=>$to_gt,'cc'=>$cc_mail_id_gt,'subject'=>$subject_gt,'client_id'=>$client_name_gt,'serv_chk_id'=>$serv_chk_id_gt,'type'=>$type_gt,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'gt_attachment'=>$gt_file,'w_send_mail_gt'=>$w_send_mail_gt,'gt_hidden_file_id'=>$gt_hidden_file_id);

	// 			$client_name_flow = $this->input->post('collapse_'.($m+1).'_client_name_flow');
	//        		$w_send_mail_flow = $this->input->post('collapse_'.($m+1).'_w_send_mail_flow');
	//        		$subject_flow = trim($this->input->post('collapse_'.($m+1).'_subject_flow'));
	//        		$to_flow = trim($this->input->post('collapse_'.($m+1).'_to_flow'));
	// 			$cc_mail_id_flow = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_flow'));
	// 			$msg_body_flow = $this->input->post('collapse_'.($m+1).'_flow');
	// 			$serv_chk_id_flow = $this->input->post('collapse_'.($m+1).'_serv_chk_id_flow');
	// 			$type_flow = $this->input->post('collapse_'.($m+1).'_type_flow');
	// 			$flow_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_flow_box');
	// 			$flow_hidden_file_id = '';
	// 			if(isset($flow_hidden_file_id1) && !empty($flow_hidden_file_id1))
	// 			{$flow_hidden_file_id = implode(',',$flow_hidden_file_id1);}

	// 			$flow_file= array();
	// 	        $flow_file_name = "collapse_".($m+1)."_flow_file";
	// 	        if(isset($_FILES[$flow_file_name]['name']) && !empty($_FILES[$flow_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$flow_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$flow_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$flow_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$flow_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$flow_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$flow_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($flow_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $flow_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Flow_Chart');
	// 	            }
	// 	        }

	// 			// $flow_file='';
	// 			// $flow_file_name='';
	// 			// $temp_flow_file_name = 'collapse_'.($m+1).'_flow_file'; /*'collapse_'.($m+1).'_flow_file'*/

	// 			// if(isset($_FILES[$temp_flow_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_flow_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_flow_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$flow_file = $logoData['file_name'];
	// 			// 		$flow_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $flow_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$flow_file = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name');
	// 			// 	$flow_file_name = $this->input->post('hidden_collapse_'.($m+1).'_flow_file_name_org');
	// 			// }

	// 			$flow_array = array('msg_body'=>$msg_body_flow,'to'=>$to_flow,'cc'=>$cc_mail_id_flow,'subject'=>$subject_flow,'client_id'=>$client_name_flow,'serv_chk_id'=>$serv_chk_id_flow,'type'=>$type_flow,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'flow_attachment'=>$flow_file,'w_send_mail_flow'=>$w_send_mail_flow,'flow_hidden_file_id'=>$flow_hidden_file_id);

	// 			$client_name_legal = $this->input->post('collapse_'.($m+1).'_client_name_legal');
	//        		$w_send_mail_legal = $this->input->post('collapse_'.($m+1).'_w_send_mail_legal');
	//        		$subject_legal = trim($this->input->post('collapse_'.($m+1).'_subject_legal'));
	//        		$to_legal = trim($this->input->post('collapse_'.($m+1).'_to_legal'));
	// 			$cc_mail_id_legal = trim($this->input->post('collapse_'.($m+1).'_cc_mail_id_legal'));
	// 			$msg_body_legal = $this->input->post('collapse_'.($m+1).'_legal');
	// 			$serv_chk_id_legal = $this->input->post('collapse_'.($m+1).'_serv_chk_id_legal');
	// 			$type_legal = $this->input->post('collapse_'.($m+1).'_type_legal');
	// 			$legal_hidden_file_id1 = $this->input->post('draft_'.($m+1).'_attach_legal_box');
	// 			$legal_hidden_file_id = '';
	// 			if(isset($legal_hidden_file_id1) && !empty($legal_hidden_file_id1))
	// 			{$legal_hidden_file_id = implode(',',$legal_hidden_file_id1);}

	// 			$legal_file= array();
	// 	        $legal_file_name = "collapse_".($m+1)."_legal_file";
	// 	        if(isset($_FILES[$legal_file_name]['name']) && !empty($_FILES[$legal_file_name]['name']))
	// 	        {
	// 	            $files = $_FILES;
	// 	            $cpt = count($_FILES[$legal_file_name]['name']);
	// 	            for($i=0; $i<$cpt; $i++)
	// 	            {
	// 	                $_FILES['userfile']['name']= $files[$legal_file_name]['name'][$i];
	// 	                $_FILES['userfile']['type']= $files[$legal_file_name]['type'][$i];
	// 	                $_FILES['userfile']['tmp_name']= $files[$legal_file_name]['tmp_name'][$i];
	// 	                $_FILES['userfile']['error']= $files[$legal_file_name]['error'][$i];
	// 	                $_FILES['userfile']['size']= $files[$legal_file_name]['size'][$i];
	// 	                $this->upload->initialize($this->set_upload_option($legal_file_name));
	// 	                $this->upload->do_upload();
	// 	                echo $this->upload->display_errors();
	// 	                $data = $this->upload->data();
	// 	                $legal_file[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Legal');
	// 	            }
	// 	        }

	// 			// $legal_file='';
	// 			// $legal_file_name='';
	// 			// $temp_legal_file_name = 'collapse_'.($m+1).'_legal_file'; /*'collapse_'.($m+1).'_legal_file'*/

	// 			// if(isset($_FILES[$temp_legal_file_name]['name']))
	// 			// {	//echo base_url().'uploads/approval/';

	// 			// 	$logo=$_FILES[$temp_legal_file_name]['name'];
	// 			// 	$logoImg = array('upload_path' =>'./uploads/approval/',
	// 			// 			   'fieldname' => $temp_legal_file_name,
	// 			// 			   'encrypt_name' => TRUE,
	// 			// 			   'overwrite' => FALSE);

	// 			// 	$logo_img = $this->imageupload->image_upload($logoImg);
	// 			// 	if(isset($logo_img) && !empty($logo_img))
	// 			// 	{
	// 			// 		$logoData = $this->upload->data();
	// 			// 		$legal_file = $logoData['file_name'];
	// 			// 		$legal_file_name = $logoData['orig_name'];
	// 			// 	}
	// 			// 	// echo $legal_file;
	// 			// }
	// 			// else
	// 			// {
	// 			// 	$legal_file = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name');
	// 			// 	$legal_file_name = $this->input->post('hidden_collapse_'.($m+1).'_legal_file_name_org');
	// 			// }

	// 			$legal_array = array('msg_body'=>$msg_body_legal,'to'=>$to_legal,'cc'=>$cc_mail_id_legal,'subject'=>$subject_legal,'client_id'=>$client_name_legal,'serv_chk_id'=>$serv_chk_id_legal,'type'=>$type_legal,'created_by'=>$user_id,'created_on'=>date('Y-m-d'),'legal_attachment'=>$legal_file,'w_send_mail_legal'=>$w_send_mail_legal,'legal_hidden_file_id'=>$legal_hidden_file_id);

	//        		/*$chk_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'checklist_file_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_compliance_upload_option($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $chk_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Checklist File','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}

	//        		$temp_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'template_file_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_compliance_upload_option($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $temp_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Template File','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}

	//        		$print_trial_attachment = array();
	//        		if (isset($city_id[$m]) && !empty($city_id[$m])) {
	//        			$file_name = 'print_trial_attachment_'.($m+1);

	//        			if(isset($_FILES[$file_name]))
	//                 {
	//                     $files = $_FILES;
	//                     $cpt = count($_FILES[$file_name]['name']);
	//                     for($i=0; $i<$cpt; $i++)
	//                     {
	//                         $_FILES['userfile']['name']= $files[$file_name]['name'][$i];
	//                         $_FILES['userfile']['type']= $files[$file_name]['type'][$i];
	//                         $_FILES['userfile']['tmp_name']= $files[$file_name]['tmp_name'][$i];
	//                         $_FILES['userfile']['error']= $files[$file_name]['error'][$i];
	//                         $_FILES['userfile']['size']= $files[$file_name]['size'][$i];
	//                         $this->upload->initialize($this->set_upload_options_print_trial($file_name));
	//                         $this->upload->do_upload();
	//                         echo $this->upload->display_errors();
	//                         $data = $this->upload->data();
	//                         $print_trial_attachment[] = array('file_name'=>$data['file_name'],'file_org_name'=>$data['orig_name'],'folder_type'=>'Print Trial','city_id'=>$city_id[$m]);
	//                     }
	//                 }
	//        		}*/

	//        		$checklist = $msg_body;
	//        		$template = $msg_body_t;
	//        		$printing_instruction = $msg_body_p;
	//        		$standard_qut = $msg_body_q;
	//        		$sop_body = $msg_body_so;
	//        		$do_body = $msg_body_do;
	//        		$law = $msg_body_law;
	//        		$faq = $msg_body_faq;
	//        		$gt_body = $msg_body_gt;
	//        		$flow = $msg_body_flow;
	//        		$legal = $msg_body_legal;
	//        		/*$temp_file = $template_file;
	//        		$temp_org_file = $template_file_name;*/

	//        		$single_array = array(
	//                    'city_id'=>$city_id[$m],
	//                    'sez_id'=>$sez_id[$m],
	//                    'type_of_client'=>$type_of_client[$m],
	//                    'client_unit'=>$client_unit[$m],
	//                    'checklist'=>$checklist,
	//                    'template'=>$template,
	//                    'printing_instruction'=>$printing_instruction,
	//                    'quotation'=>$standard_qut,
	//                    'sop'=>$sop_body,
	//                    'do'=>$do_body,
	//                    'law'=>$law,
	//                    'faq'=>$faq,
	//                    'gt_body'=>$gt_body,
	//                    'flow'=>$flow,
	//                    'legal'=>$legal,
	//                    'checklist_array'=>$checklist_array,
	//                    'template_array'=>$template_array,
	//                    'printing_array'=>$printing_array,
	//                    'quotation_array'=>$quotation_array,
	//                    'sop_array'=>$sop_array,
	//                    'do_array'=>$do_array,
	//                    'law_array'=>$law_array,
	//                    'faq_array'=>$faq_array,
	//                    'gt_array'=>$gt_array,
	//                    'flow_array'=>$flow_array,
	//                    'legal_array'=>$legal_array
	//                );
	//                $serv_check_data[] = $single_array;
	//        	}
	//      //  }

	//        	//exit();
	//        //print_r($serv_check_data); exit();
	// 	$new_activity=array('service_name'=>$service_name, 'sez_cost'=>$sez_cost,'service_type'=>$service_type,'tracker_type'=>$tracker_type,'type_of_activity'=>$type_of_activity,'dept_master_id'=>$department_name);


	// 	if(isset($service_id) && !empty($service_id) && ($service_id>0))
	// 	{
	//         $result = $this->approval_model->updateActivityData('tbl_services_master',$new_activity,$instruction_attachment,$sop_attachment,$goc_attachment,$rcl_attachment,$govt_attachment,$dd_attachment,$faq_attachment,$fc_attachment,$sq_attachment,$lar_attachment,$sub_attachment,$service_id,$hidden_attachment_id,$serv_check_data,$hidden_serv_chk_id);
	//         // echo $this->db->last_query();


	// 		if($result)
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>TRUE,
	// 				'msg'=>'<div class="alert modify alert-success"><strong></strong>Activity Details Updated Successfully!</div>',
	// 				'redirect'=>base_url().'service_activity'
	// 			));
	// 		}
	// 		else
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>FALSE,
	// 				'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Activity Details !</div>'
	// 			));
	// 		}
	// 	}
	// 	else
	// 	{	//print_r($serv_check_data); exit();

	// 		$result=$this->approval_model->addActivityData('tbl_services_master',$new_activity,$instruction_attachment,$sop_attachment,$goc_attachment,$rcl_attachment,$govt_attachment,$dd_attachment,$faq_attachment,$fc_attachment,$sq_attachment,$lar_attachment,$sub_attachment,$serv_check_data);
	// 		if($result)
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>TRUE,
	// 				'id'=>$result,
	// 				'msg'=>'<div class="alert modify alert-success"><strong></strong> Activity Details Saved Successfully!</div>',
	// 				'redirect'=>base_url().'service_activity'
	// 			));
	// 		}
	// 		else
	// 		{
	// 			$this->json->jsonReturn(array(
	// 				'valid'=>FALSE,
	// 				'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Activity Details !</div>'
	// 			));
	// 		}
	// 	}
	// }

	public function delete_chk_attach()
	{
		$attach_id = $this->input->post('id');

		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails('tbl_activity_attachment', 'activity_attachment_id', $attach_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong></strong> Attachment Removed Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Attachment Removing !</div>'
				)
			);
		}

	}

	public function set_compliance_upload_option($fieldname)
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = $fieldname;
		$config['allowed_types'] = '*';
		$config['max_size'] = '0'; // 1000 mb
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	public function set_upload_option($fieldname)
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = $fieldname;
		$config['allowed_types'] = '*';
		$config['max_size'] = '0'; // 1000 mb
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	public function DownloadChecklistFile()
	{

		$file_id = $this->uri->segment(2);
		$file_data = $this->common_model->selectDetailsWhr('tbl_activity_attachment', 'service_id', $file_id);

		$path = $file_data->file_name;

		$data = file_get_contents("./uploads/approval/" . $path); // Read the file's contents
		$name = $file_data->file_org_name;

		force_download($name, $data);
	}

	private function set_upload_options_checklist()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'checklist_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_print_trial()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'print_trial_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_template()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'template_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_instruction()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'instruction_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	//rahul

	private function set_upload_options_sop()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'sop_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_goc()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'goc_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_rcl()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'rcl_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_govt()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'govt_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_dd()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'dd_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_faq()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'faq_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_fc()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'fc_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_sq()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'sq_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_lar()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'lar_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	private function set_upload_options_sub()
	{
		//  upload an image options
		$config = array();
		$config['upload_path'] = './uploads/approval/';
		$config['fieldname'] = 'sub_file_attachment';
		$config['allowed_types'] = '*';
		$config['max_size'] = '640000';
		$config['encrypt_name'] = TRUE;
		return $config;
	}

	//end


	public function edit_approval()
	{
		$shipment_id = $this->input->post('id');
		$data['user_data'] = $this->st_model_r->fetchuserlist();
		$data['gist_data'] = $this->approval_model->fetchGistOfContract();
		$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer', 'officer_id');
		$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer', 'assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
		//$data['quotation_data']=$this->common_model->fetchDataFromTable('tbl_quotation', 'job_number');
		$data['single_shipment_data'] = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $shipment_id);
		//echo $this->db->last_query();
		// print_r($data['single_shipment_data']);
		// exit();
		//$data['sez_data'] = $this->approval_model->fetchsezclient($shipment_id);
		$data['activity_data'] = $this->approval_model->fetchservicesData();
		$data['remark_data'] = $this->common_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$this->load->view('approval/approval', $data);
	}

	public function fetch_by_client_app()
	{
		$client_name = $this->input->post('client_name');
		$sezdata = $this->approval_model->fetchsezclient($client_name);


		$this->json->jsonReturn(
			array(
				'valid' => TRUE,
				'sez_name' => (isset($sezdata->sez_name) && !empty($sezdata->sez_name)) ? $sezdata->sez_name : '',
			)
		);

	}

	public function delete_approval()
	{
		$shipment_id = $this->input->post('id');
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Details Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Details !</div>'
				)
			);
		}
	}

	public function active_approval_tab()
	{
		$shipment_id = $this->input->post('id');

		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array('display' => 'Y');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Details Active Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Active Approval Details !</div>'
				)
			);
		}
	}
	/******************************End Step-1**************************************/

	/***************************Start Complete Approval Details*************************/
	public function comp_approval()
	{
		$this->session->set_userdata("shipment_type", 'approval');
		$data['shipment_data'] = $this->approval_model->completed_approval_data();
		$this->load->view('approval/comp_shipment', $data);
	}

	public function reallocate_approval()
	{
		$shipment_id = $this->input->post('id');
		$status = $this->input->post('status');
		$empty = '';

		$result = $this->common_model->updateDetails('tbl_approval', 'shipment_id', $this->input->post('id'), array('invoice_applicable' => $empty, 'status' => 'Status 12'));


		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Re-open Successfully!</div>',
					'redirect' => base_url() . 'approval_dashboard'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Re-open Approval!</div>'
				)
			);
		}
	}
	/***************************End Complete Approval Details*************************/

	/****************************Start Step-2*******************************/


	// public function approval_status1_updation()
	// {
	// 	$shipment_id = $this->input->post('id');
	// 	$data['user_data']=$this->st_model_r->fetchuserlist();
	// 	$data['gist_data']=$this->approval_model->fetchGistOfContract();
	// 	$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer','officer_id');
	// 	$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer','assistant_officer_id');
	// 	$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related','work_related_id');
	// 	$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office','zonal_office_id');
	// 	$data['client_data']=$this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
	// 	$data['sez_data']=$this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
	// 	$data['single_shipment_data'] = $this->common_model->selectDetailsWhr('tbl_approval','shipment_id',$shipment_id);
	// 	//$data['single_sez_data'] = $this->approval_model->fetchsezclient($shipment_id);
	// 	$data['activity_data']=$this->approval_model->fetchservicesData();
	// 	$data['remark_data'] = $this->common_model->selectAllWhr('tbl_approval_remark','shipment_id',$shipment_id);

	// 	$view = $this->load->view('approval/status_1_model',$data,TRUE);
	// 	$this->json->jsonReturn(array('view'=>$view));
	// }

	public function approval_status2_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		//$data['pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_pending_document','shipment_id',$shipment_id);
		$view = $this->load->view('approval/status_2_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_2()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$checklist_sent = trim($this->input->post('checklist_sent'));
		$date_of_sent_checklist1 = trim($this->input->post('date_of_sent_checklist'));
		$date_of_sent_checklist = date('Y-m-d', strtotime($date_of_sent_checklist1));
		$file_number = $this->input->post('file_number');

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage3; //get number of days to be added
		$step2_update_date = date('Y-m-d'); //current date
		$step3_target_date = $this->model_k->fetchDateExceptHoliday($step2_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array('checker_maker_2' => 'Approved', 'checklist_sent' => $checklist_sent, 'date_of_sent_checklist' => $date_of_sent_checklist, 'file_number' => $file_number, 'skip_2' => '0');
		} else {
			$status_details = array('checker_maker_2' => 'Approved', 'checklist_sent' => $checklist_sent, 'date_of_sent_checklist' => $date_of_sent_checklist, 'file_number' => $file_number, 'status' => 'Status 2', 'step2_update_date' => $step2_update_date, 'step3_target_date' => $step3_target_date, 'skip_2' => '0');
		}

		//Remark Details Multiple array
		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->update_approval_status_step2($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 2 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 2 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 2 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 2 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status2_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array('checklist_sent' => 'No', 'date_of_sent_checklist' => $empty, 'status' => 'Status 1', 'checker_maker_2' => 'Pending');

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 2 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 2 !</div>'
				)
			);
		}
	}
	/****************************End Step-2*******************************/

	/****************************Start Step-3*******************************/
	public function approval_status3_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		//$data['pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_pending_document','shipment_id',$shipment_id);

		$view = $this->load->view('approval/status_3_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_3()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$date_of_receipt_approval1 = trim($this->input->post('date_of_receipt_approval'));
		$date_of_receipt_approval = date('Y-m-d', strtotime($date_of_receipt_approval1));
		$date_of_sent_checklist_to_client1 = trim($this->input->post('date_of_sent_checklist_to_client'));
		$date_of_sent_checklist_to_client = date('Y-m-d', strtotime($date_of_sent_checklist_to_client1));

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);
		//pending Details Multiple array

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage4; //get number of days to be added
		$step3_update_date = date('Y-m-d'); //current date
		$step4_target_date = $this->model_k->fetchDateExceptHoliday($step3_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array('checker_maker_3' => 'Approved', 'date_of_receipt_approval' => $date_of_receipt_approval, 'date_of_sent_checklist_to_client' => $date_of_sent_checklist_to_client, 'skip_3' => '0');

		} else {
			$status_details = array('checker_maker_3' => 'Approved', 'date_of_receipt_approval' => $date_of_receipt_approval, 'date_of_sent_checklist_to_client' => $date_of_sent_checklist_to_client, 'skip_3' => '0', 'status' => 'Status 3', 'step3_update_date' => $step3_update_date, 'step4_target_date' => $step4_target_date);
		}


		//Remark Details Multiple array
		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->approval_update_status_10($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 3 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 3 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 3 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 3 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status3_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$approvalData = array('date_of_receipt_approval' => $empty, 'date_of_sent_checklist_to_client' => $empty, 'status' => 'Status 2', 'checker_maker_3' => 'Pending');

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $approvalData);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 3 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 3 !</div>'
				)
			);
		}
	}
	/****************************End Step-3*******************************/

	/****************************Start Step-4*******************************/
	public function approval_status4_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$data['pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_pending_document', 'shipment_id', $shipment_id);
		$view = $this->load->view('approval/status_4_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}



	public function save_approval_status_4()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$document_receive = trim($this->input->post('document_receive'));

		$pending_doc_name = $this->input->post('pending_doc_name');
		$pending_doc_id = $this->input->post('pending_document_id');
		$pending_doc_count = count($pending_doc_name);

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);
		//pending Details Multiple array
		$pending_doc_details = array();
		if (isset($pending_doc_name) && !empty($pending_doc_name)) {
			for ($i = 0; $i < $pending_doc_count; $i++) {
				if (isset($pending_doc_name[$i]) && !empty($pending_doc_name[$i])) {
					$pending_doc_details[] = array('shipment_id' => $shipment_id, 'pending_doc_name' => $pending_doc_name[$i]);
				}
			}
		}

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage5; //get number of days to be added
		$step4_update_date = date('Y-m-d'); //current date
		$step5_target_date = $this->model_k->fetchDateExceptHoliday($step4_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array();
			if ($document_receive == "No") {
				$result = $this->approval_model->delete_doc_receive_step4($shipment_id);
				$status_details = array('checker_maker_3' => 'Approved', 'document_receive' => $document_receive, 'skip_4' => '0');
			} else {
				$status_details = array('checker_maker_3' => 'Approved', 'document_receive' => $document_receive, 'skip_4' => '0');
			}
		} else {
			if ($document_receive == "Yes" && count($pending_doc_details) == 0) {
				$status_details = array('checker_maker_5' => 'Approved', 'document_receive' => $document_receive, 'status' => 'Status 5', 'step4_update_date' => $step4_update_date, 'step5_target_date' => $step5_target_date, 'skip_4' => '0');
			} else if ($document_receive == "No") {
				$result = $this->approval_model->delete_doc_receive_step4($shipment_id);
				$status_details = array('checker_maker_3' => 'Approved', 'document_receive' => $document_receive, 'status' => 'Status 3', 'skip_3' => '0');
			} else {
				$status_details = array('checker_maker_3' => 'Approved', 'document_receive' => $document_receive, 'status' => 'Status 3', 'skip_3' => '0');
			}
		}


		//Remark Details Multiple array
		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}


		$result = $this->approval_model->update_approval_status_step4($status_details, $remark_details, $shipment_id, $remark_id, $pending_doc_details, $pending_doc_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 4 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 4 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 4 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 4 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status4_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$approvalData = array('document_receive' => 'No', 'status' => 'Status 3', 'checker_maker_4' => 'Pending');

		$result = $this->approval_model->delete_approval_status_step4($approvalData, $shipment_id);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 2 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 2 !</div>'
				)
			);
		}
	}

	public function delete_pending_document()
	{
		$pending_document_id = $this->input->post('id');
		$tableName = 'tbl_pending_document';
		$uniqueField = 'pending_document_id';
		$data = array('display' => 'N');

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $pending_document_id, $data);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Pending Document Deleted Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Deleting Pending Document !</div>'
				)
			);
		}
	}

	public function delete_sign_pending_document()
	{
		$pending_document_id = $this->input->post('id');
		$tableName = 'tbl_sign_pending_document';
		$uniqueField = 'sign_pending_document_id';
		$data = array('display' => 'N');

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $pending_document_id, $data);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Sign Pending Document Deleted Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Deleting Sign Pending Document !</div>'
				)
			);
		}
	}

	public function delete_approval_remark()
	{
		$remark_id = $this->input->post('id');
		$tableName = 'tbl_approval_remark';
		$uniqueField = 'remark_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $remark_id, $data);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Remark Deleted Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Deleting Approval Remark !</div>'
				)
			);
		}
	}
	/****************************End Step-4*******************************/

	/****************************Start Step-5*******************************/
	public function approval_status5_updation()
	{
		$shipment_id = $this->input->post('id');

		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_5_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_5()
	{

		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');


		$date_of_sent_of_draft_appl_to_client1 = trim($this->input->post('date_of_sent_of_draft_appl_to_client'));
		$date_of_sent_of_draft_appl_to_client = date('Y-m-d', strtotime($date_of_sent_of_draft_appl_to_client1));

		$confirmation_received_from_client_or_not = trim($this->input->post('confirmation_received_from_client_or_not'));


		$approval_received_or_not = trim($this->input->post('approval_received_or_not'));

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage6; //get number of days to be added
		$step5_update_date = date('Y-m-d'); //current date
		$step6_target_date = $this->model_k->fetchDateExceptHoliday($step5_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {

			$status_details = array(
				'checker_maker_6' => 'Approved',
				'date_of_sent_of_draft_appl_to_client' => $date_of_sent_of_draft_appl_to_client,
				'confirmation_received_from_client_or_not' => $confirmation_received_from_client_or_not,
				'skip_6' => '0'
			);

		} else {

			$status_details = array(
				'checker_maker_6' => 'Approved',
				'date_of_sent_of_draft_appl_to_client' => $date_of_sent_of_draft_appl_to_client,
				'confirmation_received_from_client_or_not' => $confirmation_received_from_client_or_not,
				'skip_6' => '0',
				'status' => 'Status 6'
			);

		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->update_approval_status_step5($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 5 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 5 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 5 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 5 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status5_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'date_of_sent_of_appl_to_mgt' => $empty,
			'approval_received_or_not' => 'NO',
			'status' => 'Status 4'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 5 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 5 !</div>'
				)
			);
		}
	}
	/****************************End Step-5*******************************/

	/****************************Start Step-6*******************************/
	public function approval_status6_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_6_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_6()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$date_of_sent_of_draft_appl_to_client1 = trim($this->input->post('date_of_sent_of_draft_appl_to_client'));
		$date_of_sent_of_draft_appl_to_client = date('Y-m-d', strtotime($date_of_sent_of_draft_appl_to_client1));
		$confirmation_received_from_client_or_not = trim($this->input->post('confirmation_received_from_client_or_not'));
		$sign_doc = $this->input->post('sign_doc');

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage7; //get number of days to be added
		$step6_update_date = date('Y-m-d'); //current date
		$step7_target_date = $this->model_k->fetchDateExceptHoliday($step6_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array(
				'checker_maker_6' => 'Approved',
				'date_of_sent_of_draft_appl_to_client' => $date_of_sent_of_draft_appl_to_client,
				'confirmation_received_from_client_or_not' => $confirmation_received_from_client_or_not,
				'sign_doc' => $sign_doc,
				'skip_6' => '0'
			);
		} else {
			$status_details = array(
				'checker_maker_6' => 'Approved',
				'date_of_sent_of_draft_appl_to_client' => $date_of_sent_of_draft_appl_to_client,
				'confirmation_received_from_client_or_not' => $confirmation_received_from_client_or_not,
				'sign_doc' => $sign_doc,
				'skip_6' => '0',
				'status' => 'Status 6',
				'step6_update_date' => $step6_update_date,
				'step7_target_date' => $step7_target_date
			);
		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->approval_update_status_10($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 6 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 6 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 6 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 6 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status6_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'date_of_sent_of_draft_appl_to_client' => $empty,
			'confirmation_received_from_client_or_not' => 'No',
			'status' => 'Status 5',
			'checker_maker_6' => 'Pending'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 3 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 3 !</div>'
				)
			);
		}
	}
	/****************************End Step-6*******************************/

	/****************************Start Step-7*******************************/
	public function approval_status7_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$data['sign_pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_sign_pending_document', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_7_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_7()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$sign_document_receive = trim($this->input->post('sign_document_receive'));

		$sign_pending_doc_name = $this->input->post('sign_pending_doc_name');
		$sign_pending_doc_id = $this->input->post('sign_pending_document_id');
		$sign_pending_doc_count = count($sign_pending_doc_name);

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage8; //get number of days to be added
		$step7_update_date = date('Y-m-d'); //current date
		$step8_target_date = $this->model_k->fetchDateExceptHoliday($step7_update_date, $daysToAdd); //passing current date and days to add in current date

		//sign pending Details Multiple array
		$sign_pending_doc_details = array();
		if (isset($sign_pending_doc_name) && !empty($sign_pending_doc_name)) {
			for ($i = 0; $i < $sign_pending_doc_count; $i++) {
				if (isset($sign_pending_doc_name[$i]) && !empty($sign_pending_doc_name[$i])) {
					$sign_pending_doc_details[] = array('shipment_id' => $shipment_id, 'sign_pending_doc_name' => $sign_pending_doc_name[$i]);
				}
			}
		}

		//Remark Details Multiple array
		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		if ($update) {
			$status_details = array('status' => 'Status 7');
			if ($sign_document_receive == "No") {
				$result = $this->approval_model->delete_sign_document_step7($shipment_id);
				$status_details = array('sign_document_receive' => $sign_document_receive, 'checker_maker_7' => 'Approved', 'skip_7' => '0');
			} else {
				$status_details = array('sign_document_receive' => $sign_document_receive, 'checker_maker_7' => 'Approved', 'skip_7' => '0');
			}

		} else {
			if ($sign_document_receive == "Yes") {
				$status_details = array('sign_document_receive' => $sign_document_receive, 'status' => 'Status 7', 'checker_maker_7' => 'Approved', 'skip_7' => '0', 'step7_update_date' => $step7_update_date, 'step8_target_date' => $step8_target_date);
			} else if ($sign_document_receive == "No") {
				$result = $this->approval_model->delete_sign_document_step7($shipment_id);
				$status_details = array('sign_document_receive' => $sign_document_receive, 'checker_maker_7' => 'Approved', 'status' => 'Status 6', 'skip_6' => '0');
			} else {
				$status_details = array('sign_document_receive' => $sign_document_receive, 'checker_maker_7' => 'Approved', 'status' => 'Status 6', 'skip_6' => '0');
			}
		}

		$result = $this->approval_model->update_approval_status_step6($status_details, $remark_details, $shipment_id, $remark_id, $sign_pending_doc_details, $sign_pending_doc_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 7 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 7 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 7 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 7 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status7_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$approvalData = array('sign_document_receive' => 'No', 'status' => 'status 6');


		$result = $this->approval_model->delete_approval_status_step7($approvalData, $shipment_id);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 7 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 7 !</div>'
				)
			);
		}
	}
	/****************************End Step-7*******************************/

	/****************************Start Step-8*******************************/
	public function approval_status8_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_8_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}


	public function save_approval_status_8()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$date_of_online_submission1 = trim($this->input->post('date_of_online_submission'));
		$date_of_online_submission = date('Y-m-d', strtotime($date_of_online_submission1));

		$request_id = trim($this->input->post('request_id'));

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage9; //get number of days to be added
		$step8_update_date = date('Y-m-d'); //current date
		$step9_target_date = $this->model_k->fetchDateExceptHoliday($step8_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array(
				'date_of_online_submission' => $date_of_online_submission,
				'request_id' => $request_id,
				'skip_8' => '0',
				'checker_maker_8' => 'Approved',
				'checker_maker_9' => 'Approved'
			);
		} else {
			$status_details = array(
				'date_of_online_submission' => $date_of_online_submission,
				'request_id' => $request_id,
				'status' => 'Status 9',
				'step8_update_date' => $step8_update_date,
				'step9_target_date' => $step9_target_date,
				'skip_8' => '0',
				'checker_maker_8' => 'Approved',
				'checker_maker_9' => 'Approved'
			);
		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->approval_update_status_10($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 8 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 8 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 8 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 8 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status8_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'date_of_online_submission' => $empty,
			'date_of_online_submission_aid' => $empty,
			'request_id' => $empty,
			'status' => 'Status 7',
			'checker_maker_8' => 'Pending'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 4 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 4 !</div>'
				)
			);
		}
	}
	/****************************End Step-8*******************************/

	/****************************Start Step-9*******************************/
	public function approval_status9_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_9_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_9()
	{

		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$office_or_person_name = $this->input->post('office_or_person_name');
		$dispatched_submission = $this->input->post('dispatched_submission');
		$mode_of_handover = $this->input->post('mode_of_handover');
		$couier_name = $this->input->post('couier_name');
		$pod_no = $this->input->post('pod_no');
		$handover_name = $this->input->post('handover_name');
		$vehical_no = $this->input->post('vehical_no');
		$vehical_type = $this->input->post('vehical_type');
		$docket_no = $this->input->post('docket_no');
		$driver_no = $this->input->post('driver_no');
		$file_kept_our_record = $this->input->post('file_kept_our_record');
		$file_to_client_date = $this->input->post('file_to_client_date');
		if ($file_to_client_date != NULL) {
			$file_to_client_date = date('Y-m-d', strtotime($file_to_client_date));
		}

		$courier_date = $this->input->post('courier_date');
		if ($courier_date != NULL) {
			$courier_date = date('Y-m-d', strtotime($courier_date));
		}

		$client_file_ack = '';
		$client_file_ack_name = '';
		if (isset($_FILES['client_file_ack']['name'])) {

			$logo = $_FILES['client_file_ack']['name'];
			$logoImg = array(
				'upload_path' => './uploads/approval/',
				'fieldname' => 'client_file_ack',
				'encrypt_name' => TRUE,
				'overwrite' => FALSE
			);
			$logo_img = $this->imageupload->image_upload($logoImg);
			if (isset($logo_img) && !empty($logo_img)) {
				$logoData = $this->upload->data();
				$client_file_ack = $logoData['file_name'];
				$client_file_ack_name = $logoData['orig_name'];
			}
		} else {
			$client_file_ack = $this->input->post('hidden_client_file_ack');
			$client_file_ack_name = $this->input->post('hidden_client_file_ack_name');
		}

		$handover_remark = $this->input->post('handover_remark');
		$taxi_remark = $this->input->post('taxi_remark');

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage10; //get number of days to be added
		$step9_update_date = date('Y-m-d'); //current date
		$step10_target_date = $this->model_k->fetchDateExceptHoliday($step9_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$approval_details = array(
				'office_or_person_name' => $office_or_person_name,
				'dispatched_submission' => $dispatched_submission,
				'mode_of_handover' => $mode_of_handover,
				'couier_name' => $couier_name,
				'pod_no' => $pod_no,
				'handover_name' => $handover_name,
				'vehical_no' => $vehical_no,
				'vehical_type' => $vehical_type,
				'docket_no' => $docket_no,
				'driver_no' => $driver_no,
				'courier_date' => $courier_date,
				'handover_remark' => (isset($handover_remark) && !empty($handover_remark)) ? $handover_remark : $taxi_remark,
				'client_file_ack' => $client_file_ack,
				'client_file_ack_name' => $client_file_ack_name,
				'file_kept_our_record' => $file_kept_our_record,
				'file_to_client_date' => $file_to_client_date,
				'skip_9' => '0'
			);
			if ($dispatched_submission == "No") {
				$result = $this->approval_model->delete_courier_document_step9($shipment_id);
			}
		} else {
			$approval_details = array(
				'office_or_person_name' => $office_or_person_name,
				'dispatched_submission' => $dispatched_submission,
				'mode_of_handover' => $mode_of_handover,
				'couier_name' => $couier_name,
				'pod_no' => $pod_no,
				'handover_name' => $handover_name,
				'vehical_no' => $vehical_no,
				'vehical_type' => $vehical_type,
				'docket_no' => $docket_no,
				'driver_no' => $driver_no,
				'courier_date' => $courier_date,
				'handover_remark' => (isset($handover_remark) && !empty($handover_remark)) ? $handover_remark : $taxi_remark,
				'client_file_ack' => $client_file_ack,
				'client_file_ack_name' => $client_file_ack_name,
				'file_kept_our_record' => $file_kept_our_record,
				'file_to_client_date' => $file_to_client_date,
				'status' => 'Status 9',
				'skip_9' => '0',
				'step9_update_date' => $step9_update_date,
				'step10_target_date' => $step10_target_date
			);

		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->approval_update_status_10($approval_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			if ($update) {
				if ($result) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 9 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 9 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 9 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 9 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status9_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'office_or_person_name' => $empty,
			'dispatched_submission' => 'No',
			'mode_of_handover' => $empty,
			'couier_name' => $empty,
			'pod_no' => $empty,
			'handover_name' => $empty,
			'vehical_no' => $empty,
			'vehical_type' => $empty,
			'docket_no' => $empty,
			'driver_no' => $empty,
			'courier_date' => $empty,
			'handover_remark' => $empty,
			'status' => 'Status 8'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 9 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 9 !</div>'
				)
			);
		}
	}
	/****************************End Step-9*******************************/

	/****************************Start Step-10*******************************/
	public function approval_status10_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->get_approval_details($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_10_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_10()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$whether_submitted_or_not = trim($this->input->post('whether_submitted_or_not'));
		$acknowledgement_copy_received = trim($this->input->post('acknowledgement_copy_received'));
		$letter_sent_so = trim($this->input->post('letter_sent_so'));
		$confirmaion_letter = trim($this->input->post('confirmaion_letter'));
		$pending_approval = trim($this->input->post('pending_approval'));


		//$decision=trim($this->input->post('decision'));

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$acknowledgement_receipt_no = $this->input->post('acknowledgement_receipt_no');
		$receipt_acknowledgement_date1 = $this->input->post('receipt_acknowledgement_date');
		$receipt_acknowledgement_date = date('Y-m-d', strtotime($receipt_acknowledgement_date1));
		$remarkcount = count($remark);

		$upload_acknowledgement = '';
		$org_name_acknowledgement = '';
		if (isset($_FILES['upload_acknowledgement']['name'])) {
			$logo = $_FILES['upload_acknowledgement']['name'];
			$logoImg = array(
				'upload_path' => './uploads/approval/',
				'fieldname' => 'upload_acknowledgement',
				'encrypt_name' => TRUE,
				'overwrite' => FALSE
			);

			$logo_img = $this->imageupload->image_upload($logoImg);
			if (isset($logo_img) && !empty($logo_img)) {
				$logoData = $this->upload->data();
				$upload_acknowledgement = $logoData['file_name'];
				$org_name_acknowledgement = $logoData['orig_name'];
			}
		} else {
			$upload_acknowledgement = $this->input->post('hidden_upload_acknowledgement');
			$org_name_acknowledgement = $this->input->post('hidden_upload_acknowledgement_name');
		}

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage11; //get number of days to be added
		$step10_update_date = date('Y-m-d'); //current date
		$step11_target_date = $this->model_k->fetchDateExceptHoliday($step10_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array(
				'whether_submitted_or_not' => $whether_submitted_or_not,
				'acknowledgement_copy_received' => $acknowledgement_copy_received,
				'acknowledgement_receipt_no' => $acknowledgement_receipt_no,
				'receipt_acknowledgement_date' => $receipt_acknowledgement_date,
				'pending_approval' => $pending_approval,
				'org_name_acknowledgement' => $org_name_acknowledgement,
				'upload_acknowledgement' => $upload_acknowledgement,
				'skip_10' => '0',
				'checker_maker_10' => 'Approved'
			);
		} else {
			$status_details = array(
				'whether_submitted_or_not' => $whether_submitted_or_not,
				'acknowledgement_copy_received' => $acknowledgement_copy_received,
				'status' => 'Status 10',
				'step10_update_date' => $step10_update_date,
				'step11_target_date' => $step11_target_date,
				'acknowledgement_receipt_no' => $acknowledgement_receipt_no,
				'receipt_acknowledgement_date' => $receipt_acknowledgement_date,
				'pending_approval' => $pending_approval,
				'org_name_acknowledgement' => $org_name_acknowledgement,
				'upload_acknowledgement' => $upload_acknowledgement,
				'skip_10' => '0',
				'checker_maker_10' => 'Approved'
			);
		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		if ($letter_sent_so == "YES") {
			$status_details['letter_sent_so'] = $letter_sent_so;
		}


		if ($confirmaion_letter == "YES") {
			$status_details['confirmaion_letter'] = $confirmaion_letter;
		}

		$result = $this->approval_model->approval_update_status_10($status_details, $remark_details, $shipment_id, $remark_id);

		if (!$update) {
			if ($letter_sent_so == "YES") {
				$this->approval_model->create_job_1($shipment_id);
			}

			if ($confirmaion_letter == "YES") {
				$this->approval_model->create_job_2($shipment_id);
			}
		}

		if ($result) {
			if ($update) {
				if ($result) {
					/*$this->load->model('st_model_g');
																 $this->st_model_g->sendReceivedMail($shipment_id);*/
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 10 Details Updated Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 10 Details !</div>'
						)
					);
				}
			} else {
				if (true) {
					$this->json->jsonReturn(
						array(
							'valid' => TRUE,
							'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 10 Details Updated & Send Mail Successfully!</div>'
						)
					);
				} else {
					$this->json->jsonReturn(
						array(
							'valid' => FALSE,
							'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 10 & Sending Mail Details !</div>'
						)
					);
				}
			}
		}
	}

	public function approval_status10_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'whether_submitted_or_not' => 'No',
			'acknowledgement_copy_received' => 'No',
			'acknowledgement_receipt_no' => $empty,
			'receipt_acknowledgement_date' => $empty,
			'pending_approval' => $empty,
			'org_name_acknowledgement' => $empty,
			'upload_acknowledgement' => $empty,
			'status' => 'Status 9',
			'checker_maker_10' => 'Pending'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 5 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 5!</div>'
				)
			);
		}
	}
	/****************************End Step-10*******************************/

	/****************************Start Step-11*******************************/
	public function approval_status11_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/status_11_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_approval_status_11()
	{
		$shipment_id = $this->input->post('id');
		$update = $this->input->post('update');

		$approval = trim($this->input->post('approval'));

		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		$select_opt1 = $this->input->post('select_opt1');
		$select_opt2 = $this->input->post('select_opt2');
		$select_opt3 = $this->input->post('select_opt3');



		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage12; //get number of days to be added
		$step11_update_date = date('Y-m-d'); //current date
		$step12_target_date = $this->model_k->fetchDateExceptHoliday($step11_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($update) {
			$status_details = array('approval_status' => $approval, 'select_opt1' => $select_opt1, 'select_opt2' => $select_opt2, 'select_opt3' => $select_opt3, 'skip_11' => '0', 'checker_maker_11' => 'Approved');

		} else {
			$status_details = array(
				'approval_status' => $approval,
				'select_opt1' => $select_opt1,
				'select_opt2' => $select_opt2,
				'select_opt3' => $select_opt3,
				'status' => 'Status 11',
				'step11_update_date' => $step11_update_date,
				'step12_target_date' => $step12_target_date,
				'skip_11' => '0',
				'checker_maker_11' => 'Approved'
			);

		}

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->approval_update_status_for_step11($status_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Status 11 Details Updated Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Status 11 Details !</div>'
				)
			);
		}
	}

	public function approval_status11_deletion()
	{
		$shipment_id = $this->input->post('id');
		$empty = "";
		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		$data = array(
			'approval_status' => $empty,
			'status' => 'Status 10',
			'checker_maker_11' => 'Pending'
		);

		$result = $this->approval_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 6 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 6!</div>'
				)
			);
		}
	}
	/****************************End Step-11*******************************/

	/****************************Start Step-12*******************************/
	public function approval_status12_updation()
	{
		$shipment_id = $this->uri->segment(2);
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$unit_id = $data['approval_model_data']->client_name;
		$data['shipment_data'] = $this->approval_model->approval_unitdata($unit_id);
		$data['unit_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['unit_data'] = $this->common_model->fetchDataFromTable('tbl_ship_client', 'client_name');
		$this->load->view('approval/status_12_model', $data);
	}

	public function approval_save_status_12()
	{
		$shipment_id = $this->input->post('id');
		$rwc_invoice_no = $this->input->post('rwc_invoice_no');
		$rwc_invoice_date1 = $this->input->post('rwc_invoice_date');
		$rwc_invoice_date = date('Y-m-d', strtotime($rwc_invoice_date1));
		$invoice_prepared = $this->input->post('invoice_prepared');
		$invoice_applicable = $this->input->post('invoice_applicable');

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage13; //get number of days to be added
		$step12_update_date = date('Y-m-d'); //current date
		$step13_target_date = $this->model_k->fetchDateExceptHoliday($step12_update_date, $daysToAdd); //passing current date and days to add in current date

		if (isset($invoice_applicable) && !empty($invoice_applicable) && $invoice_applicable == 'Yes') {
			$data = array('rwc_invoice_no' => $rwc_invoice_no, 'rwc_invoice_date' => $rwc_invoice_date, 'invoice_prepared' => $invoice_prepared, 'invoice_applicable' => $invoice_applicable, 'skip_12' => '0', 'status' => 'Status 12', 'step12_update_date' => date('Y-m-d'), 'step13_target_date' => $step13_target_date, 'checker_maker_12' => 'Approved');
		} else {
			$data = array('invoice_applicable' => $invoice_applicable, 'status' => 'Status 12', 'step12_update_date' => $step12_update_date, 'step13_target_date' => $step13_target_date, 'skip_12' => '0', 'checker_maker_12' => 'Approved');
		}

		$result = $this->common_model->updateDetails('tbl_approval', 'shipment_id', $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Status 12 Details Updated Successfully!</div>',
					'redirect' => base_url() . 'approval_dashboard'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Status 12 Details !</div>'
				)
			);
		}
	}

	public function approval_status12_deletion()
	{
		$empty = '';
		if ($this->approval_model->updateDetails('tbl_approval', 'shipment_id', $this->input->post('id'), array('rwc_invoice_no' => $empty, 'rwc_invoice_date' => $empty, 'invoice_prepared' => $empty, 'invoice_applicable' => $empty, 'status' => 'Status 11', 'checker_maker_12' => 'Pending'))) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 12 Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Approval Status 12!</div>'
				)
			);
		}
	}
	/****************************End Step-12*******************************/

	/****************************Start Step-13*******************************/
	public function approval_status13_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$view = $this->load->view('approval/status_13_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function approval_save_status_13()
	{
		$shipment_id = $this->input->post('id');
		$online_submission_date1 = $this->input->post('online_submission_date');
		$online_submission_date = date('Y-m-d', strtotime($online_submission_date1));

		$select_opt1 = $this->input->post('select_opt1');
		$select_opt2 = $this->input->post('select_opt2');
		$select_opt3 = $this->input->post('select_opt3');

		if (isset($select_opt1) && !empty($select_opt1) && isset($select_opt2) && !empty($select_opt2) && isset($select_opt3) && !empty($select_opt3)) {
			$data = array('checker_maker_13' => 'Approved', 'status' => 'Status 13', 'select_opt1' => $select_opt1, 'select_opt2' => $select_opt2, 'select_opt3' => $select_opt3, 'step13_update_date' => date('Y-m-d'), 'on_sub_date' => $online_submission_date);
		} else {
			$data = array('checker_maker_13' => 'Approved', 'status' => 'Status 12', 'select_opt1' => $select_opt1, 'select_opt2' => $select_opt2, 'select_opt3' => $select_opt3, 'step13_update_date' => date('Y-m-d'), 'on_sub_date' => $online_submission_date);
		}


		$result = $this->common_model->updateDetails('tbl_approval', 'shipment_id', $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Status 13 Details Updated Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Status 13 Details !</div>'
				)
			);
		}
	}
	/****************************End Step-13*******************************/

	// public function approval_fetch_by_unit()
	// {
	// 	$unit_id = $this->input->post('id'); // get id
	// 	$shipment_id = $this->input->post('shipment_id');
	// 	$data['shipment_id'] = $shipment_id;
	// 	$data['shipment_data']=$this->approval_model->approval_unitdata($unit_id);
	// 	$view = $this->load->view('approval/fetch_by_unit',$data,TRUE);
	// 	$this->json->jsonReturn(array('view'=>$view));
	// }

	public function delete_remark()
	{
		$remark_id = $this->input->post('id');
		$tableName = 'tbl_ship_remark';
		$uniqueField = 'remark_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $remark_id, $data);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Remark Deleted Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Deleting Remark !</div>'
				)
			);
		}
	}

	public function approval_report()
	{
		$data['clientData'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['user_data'] = $this->st_model_r->fetchuserlist();
		$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer', 'officer_id');
		$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer', 'assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable" action="' . base_url() . 'get_approval_table">');
		$this->table->set_template($tmpl);

		$this->table->set_heading('Job Number', 'Name of Client', 'Type of Activity', 'Checklist Sent or not? ', 'Approval Date from Mgmt', 'Request ID', 'Remark', 'Pending Days', 'Approval Status', 'Status', 'Moon Invoice No', 'Moon Invoice Date', 'Despatch of Document For Submission Ack', 'Submission of Document Ack');

		$this->load->view('report/approval_report', $data);
	}

	public function fetch_approval_report()
	{
		$activity_name = $this->input->post('unit_name');
		$status = $this->input->post('status');

		$data['unit_name'] = $this->input->post('unit_name');
		$data['status'] = $this->input->post('status');
		$data['asst_owner'] = $this->input->post('asst_owner');
		$data['owner_name'] = $this->input->post('owner_name');
		$data['asst_followup'] = $this->input->post('asst_followup');
		$data['head_followup'] = $this->input->post('head_followup');
		$data['asst_officer'] = $this->input->post('asst_officer');
		$data['officer'] = $this->input->post('officer');
		$data['work_related_to'] = $this->input->post('work_related_to');
		$data['zonal_office'] = $this->input->post('zonal_office');

		$unit = $data['unit_name'];
		$status1 = $data['status'];
		$asst_owner = $data['asst_owner'];
		$owner_name = $data['owner_name'];
		$asst_followup = $data['asst_followup'];
		$head_followup = $data['head_followup'];
		$asst_officer = $data['asst_officer'];
		$officer = $data['officer'];
		$work_related_to = $data['work_related_to'];
		$zonal_office = $data['zonal_office'];

		//Remove Multiple Spaces From String
		// $status1 = $status;
		if (isset($status) && !empty($status))
			$status = preg_replace('/\\s+/', ' ', implode(",", $status));
		else
			$status = 0;
		$unit = preg_replace('/\\s+/', ' ', $unit);

		if (isset($asst_owner) && !empty($asst_owner))
			$asst_owner = preg_replace('/\\s+/', ' ', $asst_owner);
		else
			$asst_owner = 0;

		if (isset($owner_name) && !empty($owner_name))
			$owner_name = preg_replace('/\\s+/', ' ', $owner_name);
		else
			$owner_name = 0;

		if (isset($asst_followup) && !empty($asst_followup))
			$asst_followup = preg_replace('/\\s+/', ' ', $asst_followup);
		else
			$asst_followup = 0;

		if (isset($head_followup) && !empty($head_followup))
			$head_followup = preg_replace('/\\s+/', ' ', $head_followup);
		else
			$head_followup = 0;
		//$asst_officer= preg_replace('/\\s+/', ' ',$asst_officer);
		//$officer= preg_replace('/\\s+/', ' ',$officer);
		$work_related_to = preg_replace('/\\s+/', ' ', $work_related_to);
		$zonal_office = preg_replace('/\\s+/', ' ', $zonal_office);

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable" action="' . base_url() . 'get_approval_table/' . $unit . '/' . $status . '/' . $asst_owner . '/' . $owner_name . '/' . $asst_followup . '/' . $head_followup . '/' . $work_related_to . '/' . $zonal_office . '">');

		$this->table->set_template($tmpl);

		$this->table->set_heading('Job Number', 'Name of Client', 'Type of Activity', 'Checklist Sent or not? ', 'Approval Date from Mgmt', 'Request ID', 'Remark', 'Pending Days', 'Approval Status', 'Status', 'Moon Invoice No', 'Moon Invoice Date', 'Despatch of Document For Submission Ack', 'Submission of Document Ack');

		$view = $this->load->view('report/fetch_approval_report', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	//function to handle callbacks

	public function get_approval_table($unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL)
	{
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		//$asst_officer=urldecode($asst_officer);
		//$officer=urldecode($officer);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);

		$this->datatables->select("tsh.job_number,tsh.client_name,tun.service_name,tsh.checklist_sent,tsh.date_of_receipt_approval,tsh.request_id, if((tr.user_id = 0), group_concat(tr.remark), concat(concat('<b>',te.salutation,' ',te.firstname,' ',te.lastname,' - ','</b>'),' ',group_concat(tr.remark))) AS rem, DATEDIFF(curdate(),tsh.status_change_date) AS pending_day,tsh.approval_status,if(tsh.status='Status 11' AND tsh.rwc_invoice_no is not null,'Status 12',tsh.status) as status,if(isnull(tsh.rwc_invoice_no),'',CONCAT('<a href=\"print_invoice_by_invoice_no/',replace(tsh.rwc_invoice_no,'/','_'),'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.rwc_invoice_no,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i>',tsh.rwc_invoice_no,'</a>')),DATE_FORMAT(tsh.rwc_invoice_date,'%d-%m-%Y'),if(tsh.client_file_ack='0' or ISNULL(tsh.client_file_ack),'',CONCAT('<a href=\"./uploads/approval/',tsh.client_file_ack,'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.client_file_ack,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i></a>')),if(tsh.upload_acknowledgement='0' or ISNULL(tsh.upload_acknowledgement),'',CONCAT('<a href=\"./uploads/approval/',tsh.upload_acknowledgement,'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.upload_acknowledgement,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i></a>'))")
			->from('tbl_approval AS tsh')
			->join('tbl_services_master AS tun', 'tsh.type_activity_name=tun.service_id', '')
			->join('tbl_approval_remark tr', 'tr.shipment_id = tsh.shipment_id AND tr.display = "Y"', 'LEFT')
			->join('tbl_employee_personal_details te', 'te.user_id = tr.user_id AND te.display = "Y"', 'LEFT');
		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tsh.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);
			$status2 = "'" . implode("','", $status1) . "'";
			$data = $data . 'tsh.status IN (' . $status2 . ') AND ';
			// if($status=='P')
			// {
			// 	$data=$data.'(tsh.status != "Status 13" AND (tsh.status!="Status 12" OR isnull(tsh.rwc_invoice_no))) AND (tsh.approval_status!="Query Raised" OR tsh.approval_status="" OR isnull(tsh.approval_status)) AND ';
			// }
			// else if($status=='C')
			// {
			// 	$data=$data.'(tsh.status="Status 13" OR  (tsh.status="Status 12" AND tsh.rwc_invoice_no is not null)) AND ';
			// }
			// else if($status=='QR')
			// {
			// 	$data=$data.'tsh.approval_status="Query Raised" AND ';
			// }
			// else if ($status=='Status 1') {
			// 	$data=$data.'tsh.status = "Status 1" AND ';
			// }
			// else if ($status=='Status 2') {
			// 	$data=$data.'tsh.status = "Status 2" AND ';
			// }
			// else if ($status=='Status 3') {
			// 	$data=$data.'tsh.status = "Status 3" AND ';
			// }
			// else if ($status=='Status 4') {
			// 	$data=$data.'tsh.status = "Status 4" AND ';
			// }
			// else if ($status=='Status 5') {
			// 	$data=$data.'tsh.status = "Status 5" AND ';
			// }
			// else if ($status=='Status 6') {
			// 	$data=$data.'tsh.status = "Status 6" AND ';
			// }
			// else if ($status=='Status 7') {
			// 	$data=$data.'tsh.status = "Status 7" AND ';
			// }
			// else if ($status=='Status 8') {
			// 	$data=$data.'tsh.status = "Status 8" AND ';
			// }
			// else if ($status=='Status 9') {
			// 	$data=$data.'tsh.status = "Status 9" AND ';
			// }
			// else if ($status=='Status 10') {
			// 	$data=$data.'tsh.status = "Status 10" AND ';
			// }
			// else if ($status=='Status 11') {
			// 	$data=$data.'(tsh.status = "Status 11" AND isnull(tsh.rwc_invoice_no)) AND ';
			// }
			// else if ($status=='Status 12') {
			// 	$data=$data.'(tsh.status = "Status 12" OR  (tsh.status="Status 11" AND tsh.rwc_invoice_no is not null)) AND ';
			// }
		}

		/*  if(isset($asst_owner) AND !empty($asst_owner))
					  {
						  $data=$data.'tsh.asst_owner LIKE "%'.$asst_owner.'%" AND ';
					  }

					  if(isset($owner_name) AND !empty($owner_name))
					  {
						  $data=$data.'tsh.owner_name LIKE "%'.$owner_name.'%" AND ';
					  }

					  if(isset($asst_followup) AND !empty($asst_followup))
					  {
						  $data=$data.'tsh.asst_followup LIKE "%'.$asst_followup.'%" AND ';
					  }

					  if(isset($head_followup) AND !empty($head_followup))
					  {
						  $data=$data.'tsh.head_followup LIKE "%'.$head_followup.'%" AND ';
					  }*/

		/*  if(isset($asst_officer) AND !empty($asst_officer))
					  {
						  $data=$data.'tsh.asst_officer LIKE "%'.$asst_officer.'%" AND ';
					  }

					  if(isset($officer) AND !empty($officer))
					  {
						  $data=$data.'tsh.officer LIKE "%'.$officer.'%" AND ';
					  }*/

		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "%' . $work_related_to . '%" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			$data = $data . 'tsh.zonal_office LIKE "%' . $zonal_office . '%" AND ';
		}

		$data = $data . 'tsh.display = "Y" AND (tsh.approval_status != "Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status = " "))';
		//print_r($data);
		$this->datatables->where($data);
		$this->datatables->group_by('tsh.shipment_id');
		////exit();
		echo $this->datatables->generate();
	}


	function fetchAllUnitBySEZ()
	{
		$sez_id = $this->input->post('cid');
		$this->load->model('common_model');
		$stateDetails = $this->common_model->selectAllWhr('tbl_unit', 'sez_id', $sez_id);
		$cnt = '<option value="">Select</option>';
		if (isset($stateDetails) && !empty($stateDetails)) {
			foreach ($stateDetails as $key) {
				$cnt = $cnt . '<option value="' . $key->unit_id . '">' . $key->unit_name . '</option>';
			}
		}
		$this->json->jsonReturn($cnt);
	}

	/****************************** Excel Report******************************************/
	public function export_approval_report()
	{
		$this->load->library('excel');
		$unit_name = $this->uri->segment(2); // get id
		$status = $this->uri->segment(3); // get id
		$asst_owner = $this->uri->segment(4);
		$owner_name = $this->uri->segment(5);
		$asst_followup = $this->uri->segment(6);
		$head_followup = $this->uri->segment(7);
		$asst_officer = $this->uri->segment(8);
		$officer = $this->uri->segment(9);
		$work_related_to = $this->uri->segment(10);
		$zonal_office = $this->uri->segment(11);

		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$asst_officer = urldecode($asst_officer);
		$officer = urldecode($officer);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$report_data = $this->approval_model->approval_report_data($unit_name, $status, $asst_owner, $owner_name, $asst_followup, $head_followup, $asst_officer, $officer, $work_related_to, $zonal_office);
		/*print_r($report_data);
						  exit();*/
		$this->excel->generate_approval_report($report_data);
	}
	/****************************** Excel Report*******************************************/

	/****************************** PDF Report******************************************/
	public function export_zonal_report()
	{
		ini_set('memory_limit', -1);

		$unit_name = $this->uri->segment(2); // get id
		$status = $this->uri->segment(3); // get id
		$asst_owner = $this->uri->segment(4);
		$owner_name = $this->uri->segment(5);
		$asst_followup = $this->uri->segment(6);
		$head_followup = $this->uri->segment(7);
		$asst_officer = $this->uri->segment(8);
		$officer = $this->uri->segment(9);
		$work_related_to = $this->uri->segment(10);
		$zonal_office = $this->uri->segment(11);

		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$asst_officer = urldecode($asst_officer);
		$officer = urldecode($officer);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);

		$data['report_data'] = $this->approval_model->approval_zonal_data($unit_name, $status, $asst_owner, $owner_name, $asst_followup, $head_followup, $asst_officer, $officer, $work_related_to, $zonal_office);
		/*print_r($data['report_data']);
						  exit();*/
		$data['rem'] = 'show_remark';
		$pdfname = 'Zonal Wise Pending Report';
		$html = $this->load->view('approval/zonal_pending_pdf', $data, TRUE);

		$this->report_creation->create_mpdf($html, $pdfname);
	}

	public function export_zonal_report_without_rem()
	{
		ini_set('memory_limit', -1);

		$unit_name = $this->uri->segment(2); // get id
		$status = $this->uri->segment(3);
		$work_related_to = $this->uri->segment(8);
		$zonal_office = $this->uri->segment(9);

		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);

		$data['report_data'] = $this->approval_model->approval_zonal_data($unit_name, $status, $work_related_to, $zonal_office);
		$data['rem'] = 'hide_remark';
		$pdfname = 'Zonal Wise Pending Report';
		$html = $this->load->view('approval/zonal_pending_pdf', $data, TRUE);

		$this->report_creation->create_mpdf($html, $pdfname);
	}
	/****************************** PDF Report*******************************************/

	/****************************** Start Download upload file ****************************/
	public function approvalDownload_checklist()
	{

		$file_id = $this->uri->segment(2);
		$file_data = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $file_id);

		$path = $file_data->creation_file;


		$data = file_get_contents("./uploads/approval/" . $path); // Read the file's contents
		$name = $file_data->creation_file_name;

		force_download($name, $data);
	}

	public function approvalDownload_template()
	{

		$file_id = $this->uri->segment(2);
		$file_data = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $file_id);

		$path = $file_data->template_file;


		$data = file_get_contents("./uploads/approval/" . $path); // Read the file's contents
		$name = $file_data->template_file_name;

		force_download($name, $data);
	}
	/****************************** ENd Download upload file *****************************/

	/**************** Start Activity ******************/
	public function service_activity()
	{
		$this->session->set_userdata("shipment_type", 'services');
		//$data['service_data']=$this->approval_model->fetchDataFromMoreTable();
		//$data['master_service_data'] = $this->approval_model->fetchmasterservices();
		//$data['other_service_data']=$this->approval_model->fetchOtherDataFromMoreTable();
		$data['authority_data'] = $this->common_model->fetchDataFromTable('tbl_work_related', 'work_related_name');
		$data['dept_data'] = $this->common_model->fetchDataFromTable_d('tbl_department_master', 'dept_master_name');

		$this->load->view('approval/activity', $data);
	}

	public function get_all_services()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$user_data = $this->CI->role_config->user_data($user_id);
		$show_edit = '';
		if (isset($user_data->knowledge_services_edit) && $user_data->knowledge_services_edit == 'Y') {
			$show_edit = $user_data->knowledge_services_edit;
		}
		$show_delete = '';
		if (isset($user_data->knowledge_services_delete) && $user_data->knowledge_services_delete == 'Y') {
			$show_delete = $user_data->knowledge_services_delete;
		}
		$this->datatables->select("ts.service_name,tdm.dept_master_name,ts.tracker_type,
			CONCAT(if(\"" . $show_edit . "\" = \"Y\",CONCAT('<a target=\"_blank\" style=\"cursor: pointer; align:center;\" class=\"tooltips\" data-placement=\"top\" href=\"new_approval/',ts.service_id,'\" >
                <i class=\"fa fa-edit\"></i>
            </a>'),''),if(\"" . $show_delete . "\" = \"Y\",CONCAT('&nbsp<span style=\"cursor: pointer; align:center;\" class=\"tooltips deleteServices\" data-tburl=\"\" rev=\"delete_activity\" rel=\"',ts.service_id,'\" data-original-title=\"Delete\" data-placement=\"top\">
                <i class=\"fa fa-trash-o\"></i>
            </span>'),CONCAT('')))")
			->from('tbl_services_master ts')
			->join('tbl_department_master tdm', 'tdm.dept_master_id=ts.dept_master_id AND tdm.display="Y"', 'LEFT')
			->where('ts.service_type!="other"')
			->where('ts.display = "Y"')
			->where('(ts.dept_master_id="" OR ts.dept_master_id IS NULL)');

		echo $this->datatables->generate();
	}

	public function get_other_services()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$user_data = $this->CI->role_config->user_data($user_id);
		$show_edit = '';
		if (isset($user_data->knowledge_services_edit) && $user_data->knowledge_services_edit == 'Y') {
			$show_edit = $user_data->knowledge_services_edit;
		}
		$show_delete = '';
		if (isset($user_data->knowledge_services_delete) && $user_data->knowledge_services_delete == 'Y') {
			$show_delete = $user_data->knowledge_services_delete;
		}

		$this->datatables->select("ts.service_name,tdm.dept_master_name,ts.tracker_type,

			 CONCAT(if(\"" . $show_edit . "\" = \"Y\",CONCAT('<a target=\"_blank\" style=\"cursor: pointer; align:center;\" class=\"tooltips\" data-placement=\"top\" href=\"new_approval/',ts.service_id,'\" >
                <i class=\"fa fa-edit\"></i>
            </a>'),''),if(\"" . $show_delete . "\" = \"Y\",CONCAT('&nbsp<span style=\"cursor: pointer; align:center;\" class=\"tooltips deleteServices\" data-tburl=\"\" rev=\"delete_activity\" rel=\"',ts.service_id,'\" data-original-title=\"Delete\" data-placement=\"top\">
                <i class=\"fa fa-trash-o\"></i>
            </span>'),CONCAT('')))
            ")
			->from('tbl_services_master ts')
			->join('tbl_department_master tdm', 'tdm.dept_master_id=ts.dept_master_id AND tdm.display="Y"', 'LEFT')
			->where('ts.service_type="other"')
			->where('ts.display = "Y"');

		echo $this->datatables->generate();
	}

	public function get_master_services()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$user_data = $this->CI->role_config->user_data($user_id);
		$show_edit = '';
		if (isset($user_data->knowledge_services_edit) && $user_data->knowledge_services_edit == 'Y') {
			$show_edit = $user_data->knowledge_services_edit;
		}
		$show_delete = '';
		if (isset($user_data->knowledge_services_delete) && $user_data->knowledge_services_delete == 'Y') {
			$show_delete = $user_data->knowledge_services_delete;
		}
		$this->datatables->select("ts.service_id,ts.service_name,tdm.dept_master_name,ts.tracker_type,

			 CONCAT(if(\"" . $show_edit . "\" = \"Y\",CONCAT('<a target=\"_blank\" style=\"cursor: pointer; align:center;\" class=\"tooltips\" data-placement=\"top\" href=\"new_approval/',ts.service_id,'\" >
                <i class=\"fa fa-edit\"></i>
            </a>'),''),if(\"" . $show_delete . "\" = \"Y\",CONCAT('&nbsp<span style=\"cursor: pointer; align:center;\" class=\"tooltips deleteServices\" data-tburl=\"\" rev=\"delete_activity\" rel=\"',ts.service_id,'\" data-original-title=\"Delete\" data-placement=\"top\">
                <i class=\"fa fa-trash-o\"></i>
            </span>'),CONCAT('')))")
			->from('tbl_services_master ts')
			->join('tbl_department_master tdm', 'tdm.dept_master_id=ts.dept_master_id AND tdm.display="Y"', 'LEFT')
			->where('ts.display = "Y"')
			->where('(ts.dept_master_id!="" OR ts.dept_master_id IS NOT NULL)')
			->unset_column('ts.service_id');

		echo $this->datatables->generate();
	}



	public function service_presentation_activity()
	{
		$this->session->set_userdata("shipment_type", 'services_presentaion');
		$service_activity = $this->input->post('service_activity');
		$data['service_activity'] = $service_activity;
		$data['service_activity_data'] = $this->approval_model->fetchDataAttachment();
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['service_data'] = $this->approval_model->fetchDataFromMoreTable();
		$data['other_service_data'] = $this->approval_model->fetchOtherDataFromMoreTable();
		$data['total_service_data'] = $this->approval_model->fetchTotalDataFromMoreTable();
		$data['authority_data'] = $this->common_model->fetchDataFromTable('tbl_work_related', 'work_related_name');
		$data['service_data_email'] = $this->approval_model->fetchDataFromemail();
		$this->load->view('approval/service_presentation_activity', $data);
	}

	public function service_presentation_details()
	{
		$this->session->set_userdata("shipment_type", 'services_presentaion');
		$service_activity = $this->input->post('service_activity');
		$data['service_activity'] = $service_activity;
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['service_activity_data'] = $this->approval_model->fetchDataAttachment();
		$data['service_data'] = $this->approval_model->fetchDataFromMoreTable();
		$data['other_service_data'] = $this->approval_model->fetchOtherDataFromMoreTable();
		$data['total_service_data'] = $this->approval_model->fetchTotalDataFromMoreTable();
		$data['authority_data'] = $this->common_model->fetchDataFromTable('tbl_work_related', 'work_related_name');
		$data['service_data_email_spo'] = $this->approval_model->fetchDataFromemailsop();
		$data['service_data_email_dd'] = $this->approval_model->fetchDataFromemaildd();
		$data['service_data_email_checklist'] = $this->approval_model->fetchDataFromemailchecklist();
		$data['service_data_email_Template'] = $this->approval_model->fetchDataFromemailTemplate();
		$data['service_data_email_Instruction'] = $this->approval_model->fetchDataFromemailInstruction();
		$data['service_data_email_RCL'] = $this->approval_model->fetchDataFromemailRCL();
		$data['service_data_email_GOVT'] = $this->approval_model->fetchDataFromemailGOVT();
		$data['service_data_email_FAQ'] = $this->approval_model->fetchDataFromemailFAQ();
		$data['service_data_email_FC'] = $this->approval_model->fetchDataFromemailFC();
		$data['service_data_email_SQ'] = $this->approval_model->fetchDataFromemailSQ();
		$data['service_data_email_LAR'] = $this->approval_model->fetchDataFromemailLAR();
		$data['service_data_email_SS'] = $this->approval_model->fetchDataFromemailSS();

		if ($service_activity == 'GOC File') {
			$view = $this->load->view('approval/presentation_activity_table', $data, TRUE);
		}
		if ($service_activity == 'SOP File') {
			$view = $this->load->view('approval/sop_activity_table', $data, TRUE);
		}
		if ($service_activity == 'DD File') {
			$view = $this->load->view('approval/dosdont_activity_table', $data, TRUE);
		}
		if ($service_activity == 'Checklist File') {
			$view = $this->load->view('approval/checklist_activity_table', $data, TRUE);
		}
		if ($service_activity == 'Template File') {
			$view = $this->load->view('approval/template_activity_table', $data, TRUE);
		}
		if ($service_activity == 'Instruction File') {
			$view = $this->load->view('approval/instruction_activity_table', $data, TRUE);
		}
		if ($service_activity == 'RCL File') {
			$view = $this->load->view('approval/rcl_activity_table', $data, TRUE);
		}
		if ($service_activity == 'GOVT File') {
			$view = $this->load->view('approval/government_activity_table', $data, TRUE);
		}
		if ($service_activity == 'FAQ File') {
			$view = $this->load->view('approval/faq_activity_table', $data, TRUE);
		}
		if ($service_activity == 'FC File') {
			$view = $this->load->view('approval/fc_activity_table', $data, TRUE);
		}
		if ($service_activity == 'SQ File') {
			$view = $this->load->view('approval/sq_activity_table', $data, TRUE);
		}
		if ($service_activity == 'LAR File') {
			$view = $this->load->view('approval/lar_activity_table', $data, TRUE);
		}
		if ($service_activity == 'SS File') {
			$view = $this->load->view('approval/ss_activity_table', $data, TRUE);
		}
		$this->json->jsonReturn(array('view' => $view));
	}


	public function fetch_client_emaildata()
	{
		$client_name = $this->input->post('client_name');
		$client_data = $this->common_model->selectDetailsWhr('tbl_client_master', 'client_id', $client_name);
		$to_email = $client_data->email;
		$cc_email = $client_data->mail_cc;
		$this->json->jsonReturn(array('to_email' => $to_email, 'cc_email' => $cc_email));
	}
	public function service_sop_activity()
	{
		$this->session->set_userdata("shipment_type", 'services_sop');
		$data['service_data'] = $this->approval_model->fetchDataFromMoreTable();
		$data['other_service_data'] = $this->approval_model->fetchOtherDataFromMoreTable();
		$data['authority_data'] = $this->common_model->fetchDataFromTable('tbl_work_related', 'work_related_name');
		$this->load->view('approval/service_sop_activity', $data);
	}
	public function service_dosdont_activity()
	{
		$this->session->set_userdata("shipment_type", 'services_dos_dont');
		$data['service_data'] = $this->approval_model->fetchDataFromMoreTable();
		$data['other_service_data'] = $this->approval_model->fetchOtherDataFromMoreTable();
		$data['authority_data'] = $this->common_model->fetchDataFromTable('tbl_work_related', 'work_related_name');
		$this->load->view('approval/service_dosdont_activity', $data);
	}


	public function send_mail_presenation_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchPresentationAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$service_type = '';
		$to[] = $to_email;
		//$to[] ="sahadeo.ghogare@sezindia.co.in";


		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}


		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Presentation Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';
		$msg = $this->load->view('mailer/presentation_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);

		$html = $this->load->view('mailer/presentation_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_sop_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchSopAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}

		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);
		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$service_type = '';
		$to[] = $to_email;

		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}


		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'SOP Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';

		$msg = $this->load->view('mailer/sop_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);

		$html = $this->load->view('mailer/sop_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);


		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_dd_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchDdAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";

		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}


		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Dos And Dont Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';

		$msg = $this->load->view('mailer/dd_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		//$cc[] = "kam@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/dd_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}


	public function send_mail_checklist_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchchecklistAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}


		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Checklist For Documentation Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/checklist_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		//$cc[] = "kam@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/checklist_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}


	public function send_mail_template_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchtemplateAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);


		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Documentation Template Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/template_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		//$cc[] = "kam@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/template_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_instruction_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchinstructionAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Printing & Signing Instruction Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';

		$msg = $this->load->view('mailer/instruction_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/instruction_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_rcl_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchRclAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Relevent Creation Law & Circular Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';

		$msg = $this->load->view('mailer/rcl_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		//$cc[] = "kam@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/rcl_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);



		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_govt_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchGovtAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);


		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Government Timeline Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';

		$msg = $this->load->view('mailer/government_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		//$cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/government_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);


		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_faq_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchFaqAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);


		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'FAQ Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/faq_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// // $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/faq_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}


	public function send_mail_fc_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchFcAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);


		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Flow Chart Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/fc_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// // $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);

		$html = $this->load->view('mailer/fc_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_sq_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchSqAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Standard Quotation Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/sq_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// // $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";

		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/sq_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_lar_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchLarAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Legal & Approval Reference Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/lar_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/lar_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function send_mail_ss_attachment()
	{
		ini_set('max_execution_time', 600000);
		$user_id = $this->session->userdata('user_id');
		$send_mail_on = date('Y-m-d h:i:sa');
		$to_email = $this->input->post('to_email');
		$client_name = $this->input->post('client_name');
		$cc_mailid = $this->input->post('cc_mailid');
		$checkbox_attachment = $this->input->post('checkbox_attachment');
		$presentation_attachment = $this->approval_model->fetchSSAttachment($checkbox_attachment);
		$data['presentation_attachment'] = $presentation_attachment;
		$service_id = array();
		$service_type = '';
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				$service_id[] = $key->service_id;
				foreach ($attachment as $atch) {
					$service_type = $atch->folder_type;
				}
			}
			$serv_id = implode(',', $service_id);
		}
		$present_array = array('user_id' => $user_id, 'send_mail_on' => $send_mail_on, 'client_id' => $client_name, 'service_id' => $serv_id, 'service_type' => $service_type);

		$result = $this->common_model->addData('tbl_presentation_tracker_report', $present_array);
		$presentation_id = $this->db->insert_id();
		$presentation_all_data = $this->approval_model->fetchPresentationalldata($presentation_id);

		$to = array();
		$attachment_file = array();
		$to[] = $to_email;
		//$to = "shubhangi.shinde@sezindia.co.in";
		$midn_data = array('tracker_type' => 'Presentation Tracker', 'user_id' => $user_id);
		$midn_data['tracker_id'] = $presentation_all_data->presentation_id;
		$service_id = $presentation_all_data->service_id;
		$client_name_1 = $presentation_all_data->client_name;
		$this->db->insert('tbl_midn_no1', $midn_data);
		$midn_no = $this->db->insert_id();
		if (!empty($midn_no)) {
			$midn_no = 'MIDN No.-' . str_pad(($midn_no), 10, '0', STR_PAD_LEFT);
		} else {
			$midn_no = 'MIDN No.-' . str_pad(1, 10, '0', STR_PAD_LEFT);
		}

		$presentation_id_1 = 'Presentation ID-' . $presentation_id;

		$subject = 'Scrutiny Sheet For Submission  Attachment Details:' . $client_name_1 . ' (' . $presentation_id_1 . ' / ' . $midn_no . ')';


		$msg = $this->load->view('mailer/ss_attachment_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		if (isset($presentation_attachment) && !empty($presentation_attachment)) {
			foreach ($presentation_attachment as $row) {
				$key = $row['key'];
				$attachment = $row['attachment'];
				foreach ($attachment as $attach) {
					if (file_exists('./uploads/approval/' . $attach->file_name)) {
						$attachment_file[] = './uploads/approval/' . $attach->file_name;
					}
				}
			}

		} else {
			$attachment_file = '';
		}
		$cc = array();
		$cc[] = "";
		$cc[] = $cc_mailid;
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// // $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$cc[] = "shubhangi.shinde@sezindia.co.in";
		$bcc = '';
		$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
		$html = $this->load->view('mailer/ss_attachment_mailer', $data, TRUE);
		$pdfname = $client_name_1 . '_' . $presentation_id_1 . "_Presentation_Details";
		$mail = $this->report_creation->save_presentation_email_pdf($html, $pdfname);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Email Sent Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Sending Email !</div>'
				)
			);
		}
	}

	public function presentation_service_report()
	{
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['service_activity_data'] = $this->approval_model->fetchDataAttachment();
		$data['presentation_data'] = $this->approval_model->presenation_service_data();
		$this->load->view('approval/presentation_service_report', $data);
	}


	public function fetch_presentation_service_report()
	{
		$client_name = $this->input->post('client_name');
		$service_type = $this->input->post('service_type');
		$start_date = $this->input->post('start_date');
		$end_date = $this->input->post('end_date');

		$data['client_name'] = $this->input->post('client_name');
		$data['service_type'] = $this->input->post('service_type');
		$data['start_date'] = $this->input->post('start_date');
		$data['end_date'] = $this->input->post('end_date');

		$client = $data['client_name'];
		$service_type = $data['service_type'];
		$start_date = $data['start_date'];
		$end_date = $data['end_date'];

		$data['presentation_data'] = $this->approval_model->presenation_service_data($client_name, $service_type, $start_date, $end_date);
		$view = $this->load->view('approval/fetch_presentation_service_report', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function export_presenation_service_report()
	{

		$this->load->library('excel');
		$client_name = $this->uri->segment(2); // get id
		$service_type = $this->uri->segment(3); // get id
		$start_date = $this->uri->segment(4); // get id
		$end_date = $this->uri->segment(5);


		$report_data = $this->approval_model->presenation_service_data($client_name, $service_type, $start_date, $end_date);
		$this->excel->generate_presenation_service_report_excel($report_data);
	}

	public function save_authority()
	{
		$work_related_name = $this->input->post('work_related_name');
		$service_id = $this->input->post('id');
		$data = array('approval_authority' => $work_related_name);
		//print_r($data); exit();
		$uniqueField = 'service_id';
		$tableName = 'tbl_services_master';

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $service_id, $data);


		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<strong>Well Done!</strong> Approval Authority Added Successfully!'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<strong>Error!</strong> While Approval Authority Details Added!'
				)
			);
		}

	}

	/*public function edit_activity()
			 {
				 $shipment_id = $this->input->post('id');
				 $data['single_activity_data'] = $this->common_model->selectDetailsWhr('tbl_activity','activity_id',$shipment_id);
				 $this->load->view('approval/add_new_activity',$data);
				 //$this->json->jsonReturn(array('view'=>$view));
			 }*/

	public function delete_activity()
	{
		$service_id = $this->input->post('id');

		$tableName = 'tbl_services_master';
		$uniqueField = 'service_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $service_id, $data);

		if ($result) {
			$result = $this->approval_model->delete_activity_attachment($service_id);
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Services Details Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Services Details !</div>'
				)
			);
		}
	}


	public function service_approval()
	{
		$data['service_data'] = $this->approval_model->serviceapproval();
		$this->load->view('master/service_approval_master', $data);
	}

	public function update_approval_service()
	{
		$service_id = $this->input->post('id');
		$tableName = 'tbl_services_master';
		$uniqueField = 'service_id';
		$data = array('services_status' => 'Approved');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $service_id, $data);
		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => ' <strong>Approved service Successfully</strong>.'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => ' <strong>Error!</strong> While Approving service Details ! '
				)
			);
		}
	}

	public function services_report()
	{
		//$data['services_data'] = $this->common_model->fetchDataFromTable('tbl_services_master','service_name');
		$data['services_data'] = $this->common_model->fetch_serviceS();
		//print_r($data['services_data']);exit();
		//$data['city_data'] = $this->common_model->fetchDataFromTable_d('tbl_city','city_name');
		$this->load->view('approval/services_report', $data);
	}

	/**************** End Activity *****************/
	/************Approval Common Remark***********/
	public function approval_common_remark_updation()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['remark_data'] = $this->approval_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$view = $this->load->view('approval/common_remark_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}


	public function save_approval_common_remark()
	{
		$shipment_id = $this->input->post('id');

		$remark = $this->input->post('remark');
		$id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}
		$tbl_name = 'tbl_approval_remark';
		$remark_id = 'remark_id';

		$result = $this->approval_model->update_common_remark($remark_details, $id, $tbl_name, $remark_id);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Remark Added Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Remark Details !</div>'
				)
			);
		}
	}
	/************End Approval Common Remark***********/

	/************ Start Approval Zonal Office Remark***********/
	// public function zonal_remark_updation()
	// {
	// 	$remark = $this->input->post('remark');
	// 	$shipment_id=$this->input->post('id');
	// 	$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
	// 	$data['zonal_office_data'] = $this->common_model->selectDetailsWhr('tbl_zonal_office','zonal_office_name',$data['approval_model_data']->zonal_office);
	// 	$data['singlezonaldata'] = $this->common_model->selectAllWhr('tbl_zonal_office_remark','zonal_office_id',$remark);
	// 	$view = $this->load->view('approval/zonal_remark_model',$data,TRUE);
	// 	$this->json->jsonReturn(array('view'=>$view));
	// }

	// public function save_zonal_remark()
	// {
	// 	$zonal_office_remark_id = $this->input->post('zonal_office_remark_id');
	// 	$zonal_id=$this->input->post('zonal_id');
	// 	$zonal_rem=$this->input->post('zonal_rem');
	// 	$zone_remark_date_time=date('Y-m-d h:i:sa');

	// 	$data = array();
	//        $zonal_rem_count=count($zonal_rem);
	//        if(isset($zonal_rem_count) && !empty($zonal_rem_count))
	//        {
	//            for($i=0;$i<$zonal_rem_count;$i++)
	//            {
	//                $data[] = array('zonal_office_id'=>$zonal_id,'zonal_office_desc'=>$zonal_rem[$i],'zone_remark_date_time'=>$zone_remark_date_time);
	//            }
	//        }

	// 	$result=$this->approval_model->addRemarkData('tbl_zonal_office_remark',$zonal_office_remark_id,$data);

	// 	if($result)
	// 	{
	// 		$this->json->jsonReturn(array(
	// 			'valid'=>TRUE,
	// 			'id'=>$result,
	// 			'msg'=>'<div class="alert modify alert-success"><strong></strong> Zonal Office Details Saved Successfully!</div>'
	// 		));
	// 	}
	// 	else
	// 	{
	// 		$this->json->jsonReturn(array(
	// 			'valid'=>FALSE,
	// 			'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Zonal Office Details !</div>'
	// 		));
	// 	}
	// }

	public function zonal_remark_updation()
	{
		$remark = $this->input->post('remark');

		$data['remark'] = $this->input->post('remark');
		$shipment_id = $this->input->post('id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['zonal_office_data'] = $this->common_model->selectAllWhr('tbl_zonal_office', 'zonal_office_name', $data['approval_model_data']->zonal_office);
		if (isset($remark) && !empty($remark) && $remark != 0) {
			$data['singlezonaldata'] = $this->approval_model->fetch_zonal_remark($remark);
		} else {

			$zonal_office_data = $data['zonal_office_data'];

			if (isset($zonal_office_data) && !empty($zonal_office_data)) {
				foreach ($zonal_office_data as $key) {
					$key->zonal_office_id;
					$data['singlezonaldata'] = $this->approval_model->fetch_zonal_remark($key->zonal_office_id);
				}
			}


		}
		$view = $this->load->view('approval/zonal_remark_model', $data, TRUE);

		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_zonal_remark()
	{
		$user_id = $this->session->userdata('user_id');
		$zonal_office_remark_id = $this->input->post('zonal_office_remark_id');
		$zonal_office = $this->input->post('zonal_office');
		$client_name = $this->input->post('client_name');
		$shipment_id = $this->input->post('shipment_id');
		$zonal_id = $this->input->post('zonal_id');
		$zonal_office_id = $this->input->post('remark');

		$zonal_rem = $this->input->post('zonal_rem');
		$zone_remark_date_time = date('Y-m-d h:i:sa');
		$zonal_office_data = $this->common_model->selectDetailsWhr('tbl_zonal_office', 'zonal_office_id', $zonal_office);


		$zonalData = array(
				'zonal_office' => $zonal_office_data->zonal_office_name
			);


		$zonal_rem_count = count($zonal_rem);
		if (isset($zonal_rem_count) && !empty($zonal_rem_count)) {
			for ($i = 0; $i < $zonal_rem_count; $i++) {
				$zonalDataRemark[] = array('zonal_office_id' => $zonal_office, 'zonal_office_desc' => $zonal_rem[$i], 'zone_remark_date_time' => $zone_remark_date_time, 'user_id' => $user_id);
			}
		}	

		// $result = $this->approval_model->addRemarkData('tbl_zonal_office_remark', $zonal_office, $zonalDataRemark);
		$zonal_data = $this->approval_model->update_approval_zonal_office($zonalData, $shipment_id);
		
		// if ($result) {
		// 	$this->json->jsonReturn(
		// 		array(
		// 			'valid' => TRUE,
		// 			'id' => $result,
		// 			'msg' => '<div class="alert modify alert-success"><strong></strong> Zonal Office Details Saved Successfully!</div>'
		// 		)
		// 	);
		// } else {
		// 	$this->json->jsonReturn(
		// 		array(
		// 			'valid' => FALSE,
		// 			'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Zonal Office Details !</div>'
		// 		)
		// 	);
		// }
		if ($zonal_data) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong></strong> Zonal Office Details Saved Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Saving Zonal Office Details !</div>'
				)
			);
		}
	}

	public function delete_zonal_remark()
	{
		$zonal_office_remark_id = $this->input->post('id');

		$tableName = 'tbl_zonal_office_remark';
		$uniqueField = 'zonal_office_remark_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $zonal_office_remark_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Zonal Remark Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Zonal Remark !</div>'
				)
			);
		}
	}

	public function delete_zonal_remark_master()
	{
		$zonal_office_remark_id = $this->input->post('id');
		$tableName = 'tbl_zonal_office_remark';
		$uniqueField = 'zonal_office_remark_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $zonal_office_remark_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Zonal Remark Remove Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing Zonal Remark !</div>'
				)
			);
		}
	}

	public function fetchZonalDesc()
	{
		$zonal_office_id = $this->input->post('zonal_office_id');
		$singlezonaldata = $this->approval_model->fetch_zonal_remark($zonal_office_id);
		
		$req_opt = '<input class="form-control" name="zonal_rem[]" value="">';


		if (isset($singlezonaldata) && !empty($singlezonaldata)) {
			foreach ($singlezonaldata as $key) {
				$zonal_office_desc = $key->zonal_office_desc;
				if (isset($zonal_office_desc) && !empty($zonal_office_desc)) {
					$req_opt = $req_opt . '<input class="form-control" value="' . $zonal_office_desc . '">';
				} 
			}
		}else {
			$req_opt = $req_opt . '<input class="form-control" name="zonal_rem[]" value="">';
		}
		
		$this->json->jsonReturn(array('zonal' => $req_opt));

	}
	/************End Approval Common Remark***********/

	public function ackDownload()
	{

		$file_id = $this->uri->segment(2);
		$file_data = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $file_id);

		$path = $file_data->client_file_ack;


		$data = file_get_contents("./uploads/approval/" . $path); // Read the file's contents
		$name = $file_data->client_file_ack_name;

		force_download($name, $data);
	}

	// Cron Mail For Pending For Bill And GOC Preparation
	public function approval_cron_mail()
	{
		$data['goc_and_invoice_count_data'] = $this->approval_model->fetchGOCAndInvoiceDelayCount();

		if (isset($data['goc_and_invoice_count_data']) && !empty($data['goc_and_invoice_count_data'])) {
			$to = array();
			$to[] = 'radhika.patel@sezindia.co.in';
			$subject = 'Approval Pending For GOC And Invoice Preparation';
			$msg = $this->load->view('mailer/welcome/approval_cron_mailer', $data, TRUE);
			$from = "approval@sezindia.co.in";
			$fromname = "Approval Tracker";
			$attachment_file = '';
			$cc = array();
			$cc[] = "kam@sezindia.co.in";
			$cc[] = "ashish1@sezindia.co.in";
			$cc[] = "mahima.moondra@sezindia.co.in";
			// $cc[] = "sumayya.sayyad@sezindia.co.in";
			// // $cc[] = "kam@sezindia.co.in";
			$cc[] = "itsupport@sezindia.co.in";
			$cc[] = "snehali.ganjare@sezindia.co.in";
			$bcc = 'audit@sezindia.co.in';
			//$result = $this->sendMail($to,$cc,$bcc,$subject,$msg,$from,$fromname,$attachment_file);
			$to_data = array(158, 120, 451, 454, 190, 95, 96, 380, 347, 275);

			for ($i = 0; $i < count($to_data); $i++) {
				$mail_data = array('msg_for' => $to_data[$i], 'msg' => $msg, 'short_text' => $fromname . ' ' . $subject);
				// $result = $this->db->insert('tbl_notification_message',$mail_data);

			}

			if ($result) {
				return true;
			} else {
				return false;
			}
		}
	}

	// Crone Mail For Pending Job Activity Wise
	public function activity_wise_pending_cron()
	{
		$data['activitywise_approval_pending_data'] = $this->approval_model->fetchActivityWisePendingJob();
		$data['data_for'] = 'activity';
		if (isset($data['activitywise_approval_pending_data']) && !empty($data['activitywise_approval_pending_data'])) {
			$to = array();
			$to[] = 'radhika.patel@sezindia.co.in';
			//$to[] = 'rahul.shinde@sezindia.co.in';
			$subject = 'Activity Wise Pending Approval';
			$msg = $this->load->view('mailer/welcome/activity_cron_mailer', $data, TRUE);
			// print_r($msg);
			// exit();
			$from = "approval@sezindia.co.in";
			$fromname = "Moon Group (Approval Team)";
			$attachment_file = '';
			$cc = array();
			$cc[] = "kam@sezindia.co.in";
			$cc[] = "ashish1@sezindia.co.in";
			$cc[] = "mahima.moondra@sezindia.co.in";
			// $cc[] = "sumayya.sayyad@sezindia.co.in";
			// // $cc[] = "kam@sezindia.co.in";
			$cc[] = "itsupport@sezindia.co.in";
			$cc[] = "snehali.ganjare@sezindia.co.in";
			$bcc = 'audit@sezindia.co.in';
			$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);


			if ($result) {
				return true;
			} else {
				return false;
			}
		}
	}

	// Crone Mail For Pending Job Zonal office Wise
	public function zone_wise_pending_cron()
	{
		$data['activitywise_approval_pending_data'] = $this->approval_model->fetchZoneWisePendingJob();
		$data['data_for'] = 'zone';
		if (isset($data['activitywise_approval_pending_data']) && !empty($data['activitywise_approval_pending_data'])) {
			$to = array();
			$to[] = 'radhika.patel@sezindia.co.in';
			//$to[] = 'rahul.shinde@sezindia.co.in';
			$subject = 'Zonal office Wise Pending Approval';
			$msg = $this->load->view('mailer/welcome/activity_cron_mailer', $data, TRUE);
			// print_r($msg);
			// exit();
			$from = "approval@sezindia.co.in";
			$fromname = "Moon Group (Approval Team)";
			$attachment_file = '';
			$cc = array();
			$cc[] = "ashish1@sezindia.co.in";
			$cc[] = "mahima.moondra@sezindia.co.in";
			// $cc[] = "sumayya.sayyad@sezindia.co.in";
			// // $cc[] = "kam@sezindia.co.in";
			$cc[] = "itsupport@sezindia.co.in";
			$cc[] = "snehali.ganjare@sezindia.co.in";
			$bcc = 'audit@sezindia.co.in';
			$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
			$to_data2 = array(158, 120, 451, 454, 190, 95, 96, 380, 347, 275);

			for ($i = 0; $i < count($to_data2); $i++) {
				$mail_data = array('msg_for' => $to_data2[$i], 'msg' => $msg, 'short_text' => $fromname . ' ' . $subject);
				// $result = $this->db->insert('tbl_notification_message',$mail_data);

			}

			if ($result) {
				return true;
			} else {
				return false;
			}
		}
	}


	// Crone mail zone to zone pending status data
	public function zone_wise_pending_status_cron()
	{
		ini_set('max_execution_time', 600000);
		$data['zonewise_pending_status_data'] = $this->approval_model->fetchZoneWisePendingStatusdata();
		$to = array();
		$to[] = 'radhika.patel@sezindia.co.in';
		$subject = 'Zonal Wise Pending Approval';
		$msg = $this->load->view('mailer/zone_pending_cron_mailer', $data, TRUE);
		$from = "approval@sezindia.co.in";
		$fromname = "Approval Tracker";
		$attachment_file = '';
		$cc = array();
		$cc[] = "kam@sezindia.co.in";
		$cc[] = "ashish1@sezindia.co.in";
		$cc[] = "mahima.moondra@sezindia.co.in";
		// $cc[] = "sumayya.sayyad@sezindia.co.in";
		// $cc[] = "kam@sezindia.co.in";
		$cc[] = "itsupport@sezindia.co.in";
		$result = $this->sendMail($to, $cc, $subject, $msg, $from, $fromname, $attachment_file);
	}


	//single crone mail zone to zone pending status data
	public function single_zone_wise_pending_status_cron()
	{
		$this->db->select('zonal_office As zonal_name');
		$this->db->from('tbl_approval');
		$this->db->where('display', 'Y');

		$this->db->where('zonal_office IS NOT NULL');
		$this->db->where('zonal_office !=""');

		$this->db->group_by('zonal_office');

		$query = $this->db->get();

		if ($query->num_rows() > 0) {
			foreach ($query->result() as $key) {
				$data['zonal_name'] = $key->zonal_name;
				$data['zonewise_pending_status_data'] = $this->approval_model->fetchSingleZoneWisePendingStatusdata($key->zonal_name);
				if (isset($data['zonewise_pending_status_data']) && !empty($data['zonewise_pending_status_data'])) {
					$to = array();
					$to[] = 'radhika.patel@sezindia.co.in';
					$subject = 'Zonal Wise Pending Approval';
					$msg = $this->load->view('mailer/single_zone_pending_cron_mailer', $data, TRUE);
					$from = "approval@sezindia.co.in";
					$fromname = "Moon Group (Approval Team)";
					$attachment_file = '';
					$cc = array();
					$cc[] = "kam@sezindia.co.in";
					$cc[] = "ashish1@sezindia.co.in";
					$cc[] = "mahima.moondra@sezindia.co.in";
					// $cc[] = "sumayya.sayyad@sezindia.co.in";
					// // $cc[] = "kam@sezindia.co.in";
					$cc[] = "itsupport@sezindia.co.in";

					$result = $this->sendMail($to, $cc, $subject, $msg, $from, $fromname, $attachment_file);
				}

			}
		}

	}

	public function single_sez_wise_pending_status_cron()
	{
		$this->db->select('*');
		$this->db->from('tbl_sez');
		$this->db->where('display', 'Y');
		//$this->db->limit('2');

		$query = $this->db->get();

		if ($query->num_rows() > 0) {
			foreach ($query->result() as $key) {
				$sez_id = $key->sez_id;

				// $this->db->simple_query('SET SESSION group_concat_max_len=150000000');
				$q1 = $this->db->query('SELECT cm.client_name,
					GROUP_CONCAT(distinct d.request_id SEPARATOR "<br/>") dta_pending,
					GROUP_CONCAT(distinct d_q.request_id SEPARATOR "<br/>") dta_query,
					GROUP_CONCAT(distinct tsh.request_id SEPARATOR "<br/>") boe_pending,
					GROUP_CONCAT(distinct goc.request_id SEPARATOR "<br/>") goc_pending,
					GROUP_CONCAT(distinct s.request_id SEPARATOR "<br/>") softex_pending,
					GROUP_CONCAT(distinct s_scrutiny.request_id SEPARATOR "<br/>") s_scrutiny_pending,
					GROUP_CONCAT(distinct s_cond.request_id SEPARATOR "<br/>") s_cond_pending,
					GROUP_CONCAT(distinct r.request_id SEPARATOR "<br/>") removal_pending ,

					count(distinct d.request_id) cnt_dta_pending,
					count(distinct d_q.request_id) cnt_dta_query,
					count(distinct tsh.request_id) cnt_boe_pending,
					count(distinct goc.request_id) cnt_goc_pending,
					count(distinct s.request_id) cnt_softex_pending,
					count(distinct s_scrutiny.request_id) cnt_s_scrutiny_pending,
					count(distinct s_cond.request_id) cnt_s_cond_pending,
					count(distinct r.request_id) cnt_removal_pending

					FROM  tbl_client_master cm
					LEFT JOIN tbl_dta d ON d.client_id=cm.client_id AND d.display="Y" AND (d.date_of_out_charge="" OR ISNULL(d.date_of_out_charge) OR d.date_of_out_charge="1970-01-01")
					LEFT JOIN tbl_dta d_q ON d_q.client_id=cm.client_id AND d_q.display="Y" AND d_q.status!="Status 6" AND d_q.query_status="deactive"
					LEFT JOIN tbl_shipment tsh ON tsh.client_id=cm.client_id AND tsh.display="Y"  AND (tsh.boe_assessed_date="" OR ISNULL(tsh.boe_assessed_date) OR tsh.boe_assessed_date="1970-01-01") AND tsh.status !="Status 10" AND (tsh.status!="Status 9" OR isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no="")
					LEFT JOIN tbl_softex goc ON goc.client_id=cm.client_id AND goc.display="Y" AND goc.soft_type="GOC" AND goc.status!="Status 8"
					LEFT JOIN tbl_softex s ON s.client_id=cm.client_id AND s.display="Y" AND s.soft_type="Softex" AND s.softex_condonation="No" AND s.softex_scrutiny="No" AND s.status!="Status 8" AND (s.status!="Status 7" OR isnull(s.rwc_invoice_no) OR s.rwc_invoice_no="")
					LEFT JOIN tbl_softex s_scrutiny ON s_scrutiny.client_id=cm.client_id AND s_scrutiny.display="Y" AND s_scrutiny.soft_type="Softex" AND s_scrutiny.softex_condonation="No" AND s_scrutiny.softex_scrutiny="Yes" AND s_scrutiny.status!="Status 8" AND (s_scrutiny.status!="Status 7" OR isnull(s_scrutiny.rwc_invoice_no) OR s_scrutiny.rwc_invoice_no="")
					LEFT JOIN tbl_softex s_cond ON s_cond.client_id=cm.client_id AND s_cond.display="Y" AND s_cond.soft_type="Softex" AND s_cond.softex_condonation="Yes" AND s_cond.softex_scrutiny="No" AND s_cond.status!="Status 8" AND (s_cond.status!="Status 7" OR isnull(s_cond.rwc_invoice_no) OR s_cond.rwc_invoice_no="")
					LEFT JOIN tbl_sez_removal r ON r.client_id=cm.client_id AND r.status!="Status 9" AND r.display="Y" WHERE cm.sez_id=? GROUP BY cm.client_id

					HAVING (cnt_dta_pending >0 OR cnt_dta_query>0 OR cnt_boe_pending>0 OR cnt_goc_pending>0 OR cnt_softex_pending>0  OR cnt_s_scrutiny_pending>0 OR  cnt_s_cond_pending>0 OR cnt_removal_pending>0 )', array($sez_id));


				if ($q1->num_rows() > 0) {

					$data['sez_name'] = $key->sez_name;
					$data['pending'] = $q1->result();
					$to = array();
					//$to[] = 'itsupport@sezindia.co.in';
					$to[] = 'kam@sezindia.co.in';
					$subject = 'SEZ Wise Pending Work-' . $key->sez_name;
					echo $msg = $this->load->view('mailer/single_sez_pending_cron_mailer', $data, TRUE);
					$from = "approval@sezindia.co.in";
					$fromname = "Moon Group (Approval Team)";
					$attachment_file = '';
					$cc = array();
					$cc[] = "ashish1@sezindia.co.in";
					$cc[] = "gyan1@sezindia.co.in";
					$cc[] = "namita@sezindia.co.in";
					$cc[] = "itsupport@sezindia.co.in";
					// // $cc[] = "kam@sezindia.co.in";

					$result = $this->sendApprovalMail($to, $cc, $subject, $msg, $from, $fromname, $attachment_file);
				}

			}
		}

	}

	public function sendApprovalMail($to, $cc, $subject, $msg, $from, $fromname, $attachment_file)
	{
		$config = array(
			'protocol' => 'smtp',
			'smtp_host' => 'ssl://smtp.sendgrid.net',
			'smtp_port' => 465,
			'smtp_user' => 'apikey',
			'smtp_pass' => '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',
		);

		// $config = array('protocol' => 'smtp',
		//                 'smtp_host' => 'ssl://smtp.sendgrid.net',
		//                 'smtp_port' => 465,
		//                 'smtp_user' => 'apikey',
		//                 'smtp_pass' => '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'

		$this->load->library('email', $config);
		$this->email->set_mailtype("html");
		$this->email->reply_to('approval@sezindia.co.in', 'Moon Group (Approval Team)');

		if (isset($attachment_file) && !empty($attachment_file)) {
			for ($i = 0; $i < count($attachment_file); $i++) {
				$this->email->attach($attachment_file[$i]);
			}
		}

		$this->email->set_newline("\r\n");
		$this->email->from($from, $fromname); // change it to yours
		$this->email->to($to); // change it to yours
		$this->email->cc($cc);
		$this->email->subject($subject);
		$this->email->message($msg);
		if ($this->email->send()) {
			$this->email->clear(TRUE);
			return true;
		} else {
			$this->email->clear(TRUE);
			show_error($this->email->print_debugger());
			return false;
		}
	}

	// Crone Mail For Pending Job related  Wise
	public function related_wise_pending_cron()
	{
		$data['activitywise_approval_pending_data'] = $this->approval_model->fetchrelatedWisePendingJob();
		$data['data_for'] = 'related';

		if (isset($data['activitywise_approval_pending_data']) && !empty($data['activitywise_approval_pending_data'])) {
			$to = array();
			$to[] = 'radhika.patel@sezindia.co.in';
			//$to[] = 'rahul.shinde@sezindia.co.in';
			$subject = 'Related office wise Pending Approval';
			$msg = $this->load->view('mailer/welcome/activity_cron_mailer', $data, TRUE);
			// print_r($msg);
			// exit();
			$from = "approval@sezindia.co.in";
			$fromname = "Moon Group (Approval Team)";
			$attachment_file = '';
			$cc = array();
			$cc[] = "kam@sezindia.co.in";
			$cc[] = "ashish1@sezindia.co.in";
			$cc[] = "mahima.moondra@sezindia.co.in";
			// $cc[] = "sumayya.sayyad@sezindia.co.in";
			// // $cc[] = "kam@sezindia.co.in";
			$cc[] = "snehali.ganjare@sezindia.co.in";
			$cc[] = "itsupport@sezindia.co.in";
			$bcc = 'audit@sezindia.co.in';
			$result = $this->sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file);
			$to_data3 = array(158, 120, 451, 454, 190, 95, 96, 380, 347, 275);

			for ($i = 0; $i < count($to_data3); $i++) {
				$mail_data = array('msg_for' => $to_data3[$i], 'msg' => $msg, 'short_text' => $fromname . ' ' . $subject);
				// $result = $this->db->insert('tbl_notification_message',$mail_data);

			}

			if ($result) {
				return true;
			} else {
				return false;
			}
		}
	}

	// Send Mail
	public function sendMail($to, $cc, $bcc, $subject, $msg, $from, $fromname, $attachment_file)
	{
		/*$config = array(
									'protocol' => 'smtp',
									'smtp_host' => 'ssl://smtp.googlemail.com',
									'smtp_port' => 465,
								   'smtp_user' => 'apikey',
									'smtp_pass' => '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'
									);*/

		$config = array(
			'protocol' => 'smtp',
			'smtp_host' => 'ssl://smtp.sendgrid.net',
			'smtp_port' => 465,
			'smtp_user' => 'apikey',
			'smtp_pass' => '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'
		);

		$this->load->library('email', $config);
		$this->email->set_mailtype("html");
		$this->email->reply_to('approval@sezindia.co.in', 'Moon Group (Approval Team)');

		if (isset($attachment_file) && !empty($attachment_file)) {
			for ($i = 0; $i < count($attachment_file); $i++) {
				$this->email->attach($attachment_file[$i]);
			}
		}

		$this->email->set_newline("\r\n");
		$this->email->from($from, $fromname); // change it to yours
		$this->email->to($to); // change it to yours
		$this->email->cc($cc);
		$this->email->bcc($bcc, 1);
		$this->email->subject($subject);
		$this->email->message($msg);
		if ($this->email->send()) {
			$this->email->clear(TRUE);
			return true;
		} else {
			$this->email->clear(TRUE);
			show_error($this->email->print_debugger());
			return false;
		}
	}

	public function skip_stages()
	{
		$id = $this->input->post('id');
		$status = $this->input->post('status');

		if ($status == 'Status 2') {
			$skip = array('skip_2' => '1', 'status' => 'Status 2');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 3') {
			$skip = array('skip_3' => '1', 'status' => 'Status 3');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 4') {
			$skip = array('skip_4' => '1', 'status' => 'Status 4');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 5') {
			$skip = array('skip_5' => '1', 'status' => 'Status 5');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 6') {
			$skip = array('skip_6' => '1', 'status' => 'Status 6');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 7') {
			$skip = array('skip_7' => '1', 'status' => 'Status 7');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 8') {
			$skip = array('skip_8' => '1', 'status' => 'Status 8');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 9') {
			$skip = array('skip_9' => '1', 'status' => 'Status 9');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 10') {
			$skip = array('skip_10' => '1', 'status' => 'Status 10');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 11') {
			$skip = array('skip_11' => '1', 'status' => 'Status 11');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		} else if ($status == 'Status 12') {
			$skip = array('skip_12' => '1', 'status' => 'Status 12');
			$result = $this->common_model->updateDetails("tbl_approval", "shipment_id", $id, $skip);
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<div class="alert modify alert-success"> Approval Details Skipped Successfully!</div>'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Skip Approval Details !</div>'
					)
				);
			}
		}
	}

	//All Stage Pending Approval Function

	public function pending_stages_approval()
	{
		$this->session->set_userdata("shipment_type", 'approval');
		$data['shipment_data'] = $this->approval_model->approval_data();
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable" action="' . base_url() . 'get_approval_pending_stage_dashboard_1">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'Name of Client', 'Type of Activity', 'Quotation Number', 'Gist OF Contarct', 'Approval Authority', 'Zonal Office', 'Action');
		$this->load->view('approval/approval_stage_1', $data);

	}

	public function get_approval_pending_stage_dashboard_1()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,ta.service_name AS activity_name,tsh.quotation_number,tsh.goc_number,tsh.work_related_to,tsh.zonal_office,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 1\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', '')
			->join('tbl_services_master AS ta', 'ta.service_id=tsh.type_activity_name', '')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->where('tsh.status = "Status 1"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_1="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_2()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.checklist_sent,
			if((tsh.date_of_sent_checklist !='1970-01-01'),DATE_FORMAT(tsh.date_of_sent_checklist,'%d-%m-%Y'),''),tsh.file_number,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 2\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 2"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_2="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_3()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.date_of_receipt_approval,tsh.date_of_sent_checklist_to_client,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 3\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 3"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_3="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_4()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.document_receive,tpd.pending_doc_name,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 4\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('(tsh.status = "Status 4")' or '(tsh.status="Status 5")')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_4="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_5()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.date_of_sent_of_appl_to_mgt,tsh.approval_received_or_not,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 5\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')

			->where('tsh.status = "Status 5"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_5="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_6()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.date_of_sent_of_draft_appl_to_client,tsh.confirmation_received_from_client_or_not,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 6\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')

			->where('tsh.status = "Status 6"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_6="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_7()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.sign_document_receive,tspd.sign_pending_doc_name,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 7\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 7"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_7="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_8()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.date_of_online_submission,tsh.request_id,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 8\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('(tsh.status = "Status 8")' or '(tsh.status="Status 9")')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_8="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_9()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.office_or_person_name,tsh.dispatched_submission,tsh.file_to_client_date,tsh.client_file_ack_name,tsh.file_kept_our_record,tsh.mode_of_handover,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 9\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 9"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_9="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_10()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.whether_submitted_or_not,tsh.acknowledgement_copy_received,if((tsh.receipt_acknowledgement_date !='1970-01-01'),DATE_FORMAT(tsh.receipt_acknowledgement_date,'%d-%m-%Y'),''),
			tsh.acknowledgement_receipt_no,
			IF(ISNULL(tsh.org_name_acknowledgement) OR tsh.org_name_acknowledgement = \"0\",'',
			CONCAT('<span>
		                <i style=\"color: green;\"> ',substr(tsh.org_name_acknowledgement, 1, 10),'...&nbsp;</i>
		            </span>
            <span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"Download\" data-placement=\"top\">
                <a href=\"approval_stage_10_download/',tsh.shipment_id,'\" >
                <i style=\"color: green;\" class=\"fa fa-download\"> </i>
                </a>
            </span>')),

			tsh.pending_approval,a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 10\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 10"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_10="Pending"');

		echo $this->datatables->generate();
	}

	public function approval_stage_10_download()
	{
		$file_id = $this->uri->segment(2);

		$file_data = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $file_id);
		$path = $file_data->upload_acknowledgement;
		$data = file_get_contents("./uploads/approval/" . $path); // Read the file's contents
		$name = $file_data->org_name_acknowledgement;

		force_download($name, $data);
	}

	public function get_approval_pending_stage_dashboard_11()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.approval_status,IF((tsh.select_opt1='0'),'',tsh.select_opt1),IF((tsh.select_opt2='0'),'',tsh.select_opt2),IF((tsh.select_opt3='0'),'',tsh.select_opt3),a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 11\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 11"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_11="Pending"');

		echo $this->datatables->generate();
	}

	public function get_approval_pending_stage_dashboard_13()
	{
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.client_name,tsh.on_sub_date,IF((tsh.select_opt1='0'),'',tsh.select_opt1),IF((tsh.select_opt2='0'),'',tsh.select_opt2),IF((tsh.select_opt3='0'),'',tsh.select_opt3),a.zonal_office_desc,
			 concat('<a class=\"btn green chacker_1\" rev=\"approval_stage_cheker_1\" id=\"approve_inward\" rel=\"',tsh.shipment_id,'\" data-status=\"Stage 13\" href=\"javascript:void(0);\">
                                            <i class=\"fa fa-plus-square\"></i> Approve
                                        </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('tbl_pending_document tpd', 'tpd.shipment_id = tsh.shipment_id AND tpd.display="Y"', 'left')
			->join('tbl_sign_pending_document tspd', 'tspd.shipment_id = tsh.shipment_id AND tspd.display="Y"', 'left')
			->join('tbl_approval_remark tar', 'tar.shipment_id = tsh.shipment_id AND tar.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->where('tsh.status = "Status 13"')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->where('tsh.checker_maker_13="Pending"');

		echo $this->datatables->generate();
	}

	public function approval_stage_cheker_1()
	{
		$shipment_id = $this->input->post('id');
		$status = $this->input->post('status');

		$tableName = 'tbl_approval';
		$uniqueField = 'shipment_id';
		if ($status == 'Stage 1') {
			$data = array('checker_maker_1' => 'Approved');
		} elseif ($status == 'Stage 2') {
			$data = array('checker_maker_2' => 'Approved');
		} elseif ($status == 'Stage 3') {
			$data = array('checker_maker_3' => 'Approved');
		} elseif ($status == 'Stage 4') {
			$data = array('checker_maker_4' => 'Approved');
		} elseif ($status == 'Stage 5') {
			$data = array('checker_maker_5' => 'Approved');
		} elseif ($status == 'Stage 6') {
			$data = array('checker_maker_6' => 'Approved');
		} elseif ($status == 'Stage 7') {
			$data = array('checker_maker_7' => 'Approved');
		} elseif ($status == 'Stage 8') {
			$data = array('checker_maker_8' => 'Approved');
		} elseif ($status == 'Stage 9') {
			$data = array('checker_maker_9' => 'Approved');
		} elseif ($status == 'Stage 10') {
			$data = array('checker_maker_10' => 'Approved');
		} elseif ($status == 'Stage 11') {
			$data = array('checker_maker_11' => 'Approved');
		} elseif ($status == 'Stage 13') {
			$data = array('checker_maker_13' => 'Approved');
		}

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $shipment_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Stage Approved Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Stage Approved Details !</div>'
				)
			);
		}
	}

	// Start Inward Approval Attachment
	public function inward_approval()
	{
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable1" action="' . base_url() . 'get_inward_approval">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Inward Job Number', 'Name of Client', 'Handover To', 'Created On', 'Approval Job Number', 'Quotation Number', 'Type of Activity', 'Status', 'Scan File', 'Whatsapp File', 'Actions');
		$this->load->view('approval/inward_approval');
	}

	public function get_inward_approval()
	{
		$this->datatables->select("ti.job_number as inward_number, tsh.client_name, CONCAT(tep.salutation,' ',tep.firstname,' ',tep.lastname) as handover_name, ti.created_on, tsh.job_number as approval_number, tsh.quotation_number, if(ts.display='Y',ts.service_name,CONCAT('(old)',ts.service_name)) AS service_name, tsh.status, tioa.scan_attachment, tioa1.whatsapp_file,
			CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips inward_approval\" rev=\"check_inward_approval_attachment\" rel=\"',tsh.shipment_id,'\" data-type=\"',if(isnull(tioa.attach_type),tioa1.attach_type,tioa.attach_type),'\" data-inward=\"',ti.inward_reg_id,'\" data-original-title=\"Update\" data-placement=\"top\">
		                <i class=\"fa fa-edit\"></i>
		            </span>')")
			->from('tbl_approval AS tsh')
			->join('tbl_inward_reg ti', 'tsh.job_number = SUBSTRING(ti.tracker_job_number FROM 1 FOR 13) AND ti.display="Y" AND ti.tracker_type = "Approval"')
			->join('tbl_services_master ts', 'ts.service_id = tsh.type_activity_name OR tsh.type_activity_name = "0"')
			->join('tbl_employee_personal_details tep', 'tep.user_id = ti.handover_to AND tep.display = "Y"', 'LEFT')
			->join("(SELECT   GROUP_CONCAT(distinct '
             <span>
                <i style=\"color: green;\"> ',substr(tioa.upload_scan_file_org, 1, 10),'...&nbsp;</i>
            </span>
            <span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"Download\" data-placement=\"top\">
                <a href=\"inwardDownload/',tioa.inward_outward_attachment_id,'\" >
                <i style=\"color: green;\" class=\"fa fa-download\"> </i>
                </a>
            </span>') AS scan_attachment,tioa.inward_id,tioa.attach_type FROM tbl_inward_outward_attachment tioa WHERE tioa.attach_type='scan' AND tioa.display='Y' GROUP BY tioa.inward_id ) AS tioa", 'ti.inward_reg_id = tioa.inward_id', 'LEFT')
			->join("(SELECT   GROUP_CONCAT(distinct '
            <span>
                <i style=\"color: green;\"> ',substr(tioa1.upload_scan_file_org, 1, 10),'...&nbsp;</i>
            </span>
            <span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"Download\" data-placement=\"top\">
                <a href=\"WhatsappinwardDownload/',tioa1.inward_outward_attachment_id,'\" >
                <i style=\"color: green;\" class=\"fa fa-download\"> </i>
                </a>
            </span>') AS whatsapp_file,tioa1.inward_id,tioa1.attach_type FROM tbl_inward_outward_attachment  tioa1 WHERE tioa1.attach_type='whatsapp' AND tioa1.display='Y' GROUP BY tioa1.inward_id ) AS tioa1", 'ti.inward_reg_id = tioa1.inward_id', 'LEFT')
			->where('tsh.display="Y"')
			->where('ti.appr_attach="Pending"')
			->unset_column('tsh.shipment_id');

		echo $this->datatables->generate();
	}

	public function check_inward_approval_attachment()
	{
		$shipment_id = $this->input->post('id');
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$view = $this->load->view('approval/inward_approval_attachment_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_inward_approval_attachment()
	{
		$rad_val = urldecode($this->input->post('rad_val'));
		$shipment_id = $this->input->post('id');
		$attach_type = $this->input->post('atype');
		$inward_id = $this->input->post('inward_id');
		$approval_attach_data = $this->approval_model->getAllApprovalInwardData($shipment_id, $attach_type, $inward_id);
		$approval_single_attach = $this->approval_model->getSingleApprovalInwardData($shipment_id, $attach_type, $inward_id);

		$data = array();
		$single_attachment = '';
		$inward_data = '';
		if ($rad_val == 'Acknowledgement Stage 9') {
			copy('./uploads/inward_outward/' . $approval_single_attach->upload_scan_file, './uploads/approval/' . $approval_single_attach->upload_scan_file);
			$single_attachment = array(
				'client_file_ack' => $approval_single_attach->upload_scan_file,
				'client_file_ack_name' => $approval_single_attach->upload_scan_file_org,
			);
			$inward_data = array('appr_attach' => 'Upload');
		} else if ($rad_val == 'Acknowledgement Stage 10') {
			copy('./uploads/inward_outward/' . $approval_single_attach->upload_scan_file, './uploads/approval/' . $approval_single_attach->upload_scan_file);
			$single_attachment = array(
				'upload_acknowledgement' => $approval_single_attach->upload_scan_file,
				'org_name_acknowledgement' => $approval_single_attach->upload_scan_file_org,
			);
			$inward_data = array('appr_attach' => 'Upload');
		}

		if ($this->approval_model->updateApprovalAttachment($data, $single_attachment, $shipment_id, $inward_id, $inward_data)) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Inward Approval Attachment Updated Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Inward Approval Attachment!</div>'
				)
			);
		}

	}
	// End Inward Approval Attachment

	public function new_approval_dashboard()
	{
		$this->session->set_userdata("shipment_type", 'approval');
		$data['shipment_data'] = $this->approval_model->approval_data();
		//$data['comp_shipment_data']=$this->st_model_r->completed_shipment_data();
		$data['clientData'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['sezData'] = $this->common_model->fetchDataFromTableDesc('tbl_sez', 'sez_name');
		$data['activityData'] = $this->approval_model->fetchservicesData();
		//print_r($data['activityData']);exit();
		$data['user_data'] = $this->st_model_r->fetchuserlist();

		// $data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer','officer_id');
		// $data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer','assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		//$this->load->view('common/sez_dashboard',$data);
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover new_masterApprovalDataTable" action="' . base_url() . 'new_get_approval_dashboard">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'Quot. No.', 'GOC ID', 'Name of Client', 'Type of Activity', 'Request ID', 'Pending_Status', 'Remark', 'Client Remark', 'Zonal Office Remark', 'DSC of client', 'Created On', 'Actions');

		$data['activity_wise_data'] = $this->approval_model->activity_wise_data();
		// print_r( $data['activity_wise_data']);
		$this->load->view('common/new_approval_dashboard', $data);
	}

	public function new_get_approval_dashboard($unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL, $activity = NULL, $sez_name = NULL, $from_date = NULL, $to_date = NULL)
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$activity = urldecode($activity);
		$sez_name = urldecode($sez_name);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$from_date = urldecode($from_date);
		$to_date = urldecode($to_date);
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsh.job_number,tsh.quotation_number,goc.gist_id,tsh.client_name,
			if(tun.display='Y',tun.service_name,CONCAT('(old)',tun.service_name)) AS service_name,tsh.request_id,
					concat('<div class=\"pulsate-regular\" style=\"padding:5px;\">',
							if(tsh.status='Status 1',
							CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							'<span class=\"badge badge-default\"> 2 </span>
                            <span class=\"badge badge-default\"> 3 </span>
                            <span class=\"badge badge-default\"> 4 </span>
                            <span class=\"badge badge-default\"> 5 </span>
                            <span class=\"badge badge-default\"> 6 </span>
                            <span class=\"badge badge-default\"> 7 </span>
                            <span class=\"badge badge-default\"> 8 </span>
                            <span class=\"badge badge-default\"> 9 </span>
                            <span class=\"badge badge-default\"> 10 </span>
                            <span class=\"badge badge-default\"> 11 </span>
                            <span class=\"badge badge-default\"> 12 </span>
                            <span class=\"badge badge-default\"> 13 </span>')
                            ,if(tsh.status='Status 2',
                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
                            	'<span class=\"badge badge-default\"> 3 </span>
	                            <span class=\"badge badge-default\"> 4 </span>
	                            <span class=\"badge badge-default\"> 5 </span>
	                            <span class=\"badge badge-default\"> 6 </span>
	                            <span class=\"badge badge-default\"> 7 </span>
	                            <span class=\"badge badge-default\"> 8 </span>
	                            <span class=\"badge badge-default\"> 9 </span>
	                            <span class=\"badge badge-default\"> 10 </span>
                            	<span class=\"badge badge-default\"> 11 </span>
                            	<span class=\"badge badge-default\"> 12 </span>
                            	<span class=\"badge badge-default\"> 13 </span>')
	                            ,if(tsh.status='Status 3',
	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	'<span class=\"badge badge-default\"> 4 </span>
	 	                            <span class=\"badge badge-default\"> 5 </span>
	 	                            <span class=\"badge badge-default\"> 6 </span>
	 	                            <span class=\"badge badge-default\"> 7 </span>
	 	                            <span class=\"badge badge-default\"> 8 </span>
	 	                            <span class=\"badge badge-default\"> 9 </span>
	 	                            <span class=\"badge badge-default\"> 10 </span>
		                            <span class=\"badge badge-default\"> 11 </span>
		                            <span class=\"badge badge-default\"> 12 </span>
		                            <span class=\"badge badge-default\"> 13 </span>')
	 	                            ,if(tsh.status='Status 4',
	 	                            CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
	                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
	                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
	                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
	 	                            	'<span class=\"badge badge-default\"> 5 </span>
		 	                            <span class=\"badge badge-default\"> 6 </span>
		 	                            <span class=\"badge badge-default\"> 7 </span>
		 	                            <span class=\"badge badge-default\"> 8 </span>
		 	                            <span class=\"badge badge-default\"> 9 </span>
		 	                            <span class=\"badge badge-default\"> 10 </span>
			                            <span class=\"badge badge-default\"> 11 </span>
			                            <span class=\"badge badge-default\"> 12 </span>
			                            <span class=\"badge badge-default\"> 13 </span>')
		 	                            ,if(tsh.status='Status 5',
		 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
			                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
			                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
			                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
			                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),

		 	                            	'<span class=\"badge badge-default\"> 6 </span>
			 	                            <span class=\"badge badge-default\"> 7 </span>
			 	                            <span class=\"badge badge-default\"> 8 </span>
			 	                            <span class=\"badge badge-default\"> 9 </span>
			 	                            <span class=\"badge badge-default\"> 10 </span>
				                            <span class=\"badge badge-default\"> 11 </span>
				                            <span class=\"badge badge-default\"> 12 </span>
				                            <span class=\"badge badge-default\"> 13 </span>')
			 	                            ,if(tsh.status='Status 6',
			 	                            	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
				                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
				                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
				                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
				                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
				                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
			 	                            	'<span class=\"badge badge-default\"> 7 </span>
			 	                           		 <span class=\"badge badge-default\"> 8 </span>
			 	                           		 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 <span class=\"badge badge-default\"> 10 </span>
					                             <span class=\"badge badge-default\"> 11 </span>
					                             <span class=\"badge badge-default\"> 12 </span>
					                             <span class=\"badge badge-default\"> 13 </span>')
			 	                           		 ,if(tsh.status='Status 7',
			 	                           		 	CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
					                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
					                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
					                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
					                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
					                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
					                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
			 	                           		 	'<span class=\"badge badge-default\"> 8 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 9 </span>
			 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
                            						<span class=\"badge badge-default\"> 11 </span>
                            						<span class=\"badge badge-default\"> 12 </span>
                            						<span class=\"badge badge-default\"> 13 </span>')
			 	                           		 	,if(tsh.status='Status 8',
			 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
						                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
						                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
						                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
						                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
						                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
						                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
						                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),

				 	                           		 	'<span class=\"badge badge-default\"> 9 </span>
				 	                           		 	 <span class=\"badge badge-default\"> 10 </span>
							                            <span class=\"badge badge-default\"> 11 </span>
							                            <span class=\"badge badge-default\"> 12 </span>
							                            <span class=\"badge badge-default\"> 13 </span>')
				 	                           		 	,if(tsh.status='Status 9',
				 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
							                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
							                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
							                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
							                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
							                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
							                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
							                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
							                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),

				 	                           		 	 	'<span class=\"badge badge-default\"> 10 </span>
								                            <span class=\"badge badge-default\"> 11 </span>
								                            <span class=\"badge badge-default\"> 12 </span>
								                            <span class=\"badge badge-default\"> 13 </span>')
					 	                           		 	,if(tsh.status='Status 10',
					 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
								                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
								                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
								                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
								                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
								                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
								                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
								                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
								                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
								                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),

				 	                           		 	 		'<span class=\"badge badge-default\"> 11 </span>
									                            <span class=\"badge badge-default\"> 12 </span>
									                            <span class=\"badge badge-default\"> 13 </span>')
						 	                           		 	,if(tsh.status='Status 11',
						 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
									                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>',IF(tsh.checker_maker_2='Approved','<span class=\"badge bg-green-jungle\"> 2 </span>','<span class=\"badge bg-yellow-lemon\"> 2 </span>')),
									                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>',IF(tsh.checker_maker_3='Approved','<span class=\"badge bg-green-jungle\"> 3 </span>','<span class=\"badge bg-yellow-lemon\"> 3 </span>')),
									                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>',IF(tsh.checker_maker_4='Approved','<span class=\"badge bg-green-jungle\"> 4 </span>','<span class=\"badge bg-yellow-lemon\"> 4 </span>')),
									                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>',IF(tsh.checker_maker_5='Approved','<span class=\"badge bg-green-jungle\"> 5 </span>','<span class=\"badge bg-yellow-lemon\"> 5 </span>')),
									                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>',IF(tsh.checker_maker_6='Approved','<span class=\"badge bg-green-jungle\"> 6 </span>','<span class=\"badge bg-yellow-lemon\"> 6 </span>')),
									                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>',IF(tsh.checker_maker_7='Approved','<span class=\"badge bg-green-jungle\"> 7 </span>','<span class=\"badge bg-yellow-lemon\"> 7 </span>')),
									                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>',IF(tsh.checker_maker_8='Approved','<span class=\"badge bg-green-jungle\"> 8 </span>','<span class=\"badge bg-yellow-lemon\"> 8 </span>')),
									                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>',IF(tsh.checker_maker_9='Approved','<span class=\"badge bg-green-jungle\"> 9 </span>','<span class=\"badge bg-yellow-lemon\"> 9 </span>')),
									                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>',IF(tsh.checker_maker_10='Approved','<span class=\"badge bg-green-jungle\"> 10 </span>','<span class=\"badge bg-yellow-lemon\"> 10 </span>')),
									                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>',IF(tsh.checker_maker_11='Approved','<span class=\"badge bg-green-jungle\"> 11 </span>','<span class=\"badge bg-yellow-lemon\"> 11 </span>')),
					 	                           		 	 		'<span class=\"badge badge-default\"> 12 </span>
					 	                           		 	 		<span class=\"badge badge-default\"> 13 </span>')
							 	                           		 	,if(tsh.status='Status 12',
							 	                           		 		CONCAT(IF(tsh.checker_maker_1='Approved','<span class=\"badge bg-green-jungle\"> 1 </span>','<span class=\"badge bg-yellow-lemon\"> 1 </span>'),
										                            	IF(tsh.skip_2=1,'<span class=\"badge bg-red-flamingo\"> 2 </span>','<span class=\"badge bg-green-jungle\"> 2 </span>'),
										                            	IF(tsh.skip_3=1,'<span class=\"badge bg-red-flamingo\"> 3 </span>','<span class=\"badge bg-green-jungle\"> 3 </span>'),
										                            	IF(tsh.skip_4=1,'<span class=\"badge bg-red-flamingo\"> 4 </span>','<span class=\"badge bg-green-jungle\"> 4 </span>'),
										                            	IF(tsh.skip_5=1,'<span class=\"badge bg-red-flamingo\"> 5 </span>','<span class=\"badge bg-green-jungle\"> 5 </span>'),
										                            	IF(tsh.skip_6=1,'<span class=\"badge bg-red-flamingo\"> 6 </span>','<span class=\"badge bg-green-jungle\"> 6 </span>'),
										                            	IF(tsh.skip_7=1,'<span class=\"badge bg-red-flamingo\"> 7 </span>','<span class=\"badge bg-green-jungle\"> 7 </span>'),
										                            	IF(tsh.skip_8=1,'<span class=\"badge bg-red-flamingo\"> 8 </span>','<span class=\"badge bg-green-jungle\"> 8 </span>'),
										                            	IF(tsh.skip_9=1,'<span class=\"badge bg-red-flamingo\"> 9 </span>','<span class=\"badge bg-green-jungle\"> 9 </span>'),
										                            	IF(tsh.skip_10=1,'<span class=\"badge bg-red-flamingo\"> 10 </span>','<span class=\"badge bg-green-jungle\"> 10 </span>'),
										                            	IF(tsh.skip_11=1,'<span class=\"badge bg-red-flamingo\"> 11 </span>','<span class=\"badge bg-green-jungle\"> 11 </span>'),
										                            	IF(tsh.skip_12=1,'<span class=\"badge bg-red-flamingo\"> 12 </span>','<span class=\"badge bg-green-jungle\"> 12 </span>'),
						 	                           		 	 		'<span class=\"badge badge-default\"> 13 </span>')
								 	                           		 	,''
								 	                           		))
								 	                           	)
					 	                           		 	)
				 	                           		 	)
			 	                           		 	)
			 	                            	)
		 	                            	)
		 	                            )
	                            	)
                               )
                        ),'</div>')

                    ,if(r.user_id=0,group_concat(distinct r.remark),group_concat(distinct concat('<b>',r.user_name,'-</b>',r.remark,'<br/>'))) as remark
					,if((tcr.user_id=0),group_concat(distinct tcr.remark),group_concat(distinct tcr.remark))


					,if((isnull(a.zonal_office_desc) OR a.zonal_office_desc = ''),

					concat(tsh.zonal_office,'<br><button type=\"button\" data-remark=\"',tzo.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'),
					concat(tsh.zonal_office,' - ',a.zonal_office_desc,' - ',a.zone_remark_date_time,'<br><button type=\"button\" data-remark=\"',a.zonal_office_id,'\" class=\"btn blue btn-xs remark_updation\" rev=\"',CONCAT(tsh.zonal_office,' - Zonal Office Remark'),'\" data-url=\"zonal_remark_updation\" rel=\"',tsh.shipment_id,'\" data-original-title=\"Write Remark\" data-placement=\"top\">Edit</button>'))


                    ,IF(cp.digital_sign_type='With Us',CONCAT('<div class=\"pulsate-regular green-jungle tooltips client_info\" data-html=\"true\" data-placement=\"top\" data-original-title=\" Authorized signatory : ',cp.c_name,'  \" rev=\"DSC Details\" rel=\"',tcm.client_id,'\" data-url=\"client_dsc_info\" style=\"cursor: pointer; padding:5px; font-weight:bold; color:green;\">With Us</div>'),'<div class=\"pulsate-regular \" style=\"padding:5px;font-weight:bold; color:red;\">With Client</div>') AS dsc,
                     DATE_FORMAT(tsh.created_at,'%d-%m-%Y')
                    ,CONCAT('<a style=\"cursor: pointer;\" class=\"label label-sm label-success tooltips \" rev=\"Change Step 6 Target Date\" data-step=\"6\" data-url=\"change_approval_target_date\" href=\"update_details/',tsh.shipment_id,'\" data-original-title=\"Update Status\" data-placement=\"top\">
													 Update Details
				                                </a>')")
			->from('tbl_approval AS tsh')
			->distinct('tsh.shipment_id')
			->join('(SELECT r.*,CONCAT(e.firstname," ",e.lastname) user_name FROM tbl_approval_remark r LEFT JOIN tbl_employee_personal_details e ON e.user_id=r.user_id group by r.remark_id) r', 'r.shipment_id=tsh.shipment_id AND r.display="Y"', 'left')
			->join('(SELECT CONCAT("<a target=\"_blank\" href=\"../gst_invoice/pdfGistContract/",gs.gist_id,"\">GIST-",gs.gist_id,"</a>") gist_id,gspt.approval_id FROM tbl_gist_service_payment_terms gspt JOIN tbl_gist_service gs ON gs.gist_service_id=gspt.service_id AND gspt.display="Y" AND gs.display="Y" AND gspt.approval_type="Approval") goc', 'goc.approval_id=tsh.shipment_id', 'left')
			->join('tbl_services_master AS tun', ' tsh.type_activity_name=tun.service_id ', '')
			->join('tbl_client_master AS tcm', 'tsh.client_name=tcm.client_name', 'LEFT')
			->join('tbl_zonal_office tzo', 'tzo.zonal_office_name = tsh.zonal_office AND tzo.display="Y"', 'left')
			->join('(SELECT tzor.zonal_office_remark_id,tzor.zonal_office_desc,tzor.zonal_office_id,tzor.zone_remark_date_time
        	FROM tbl_zonal_office_remark as tzor  JOIN
        	(select max(zonal_office_remark_id) AS zonal_office_remark_id from tbl_zonal_office_remark WHERE display="Y" GROUP BY zonal_office_id ) b ON tzor.display="Y" AND tzor.zonal_office_remark_id=b.zonal_office_remark_id ) a', 'a.zonal_office_id = tzo.zonal_office_id', 'left')
			->join('tbl_client_remark AS tcr', 'tcr.shipment_id = tsh.shipment_id AND tcr.display = "Y" AND tcr.tracker_type="Approval"', 'left')
			->join('(SELECT digital_sign_type,client_id,c_name FROM tbl_contact_person WHERE digital_sign_type="With Us" AND display="Y" GROUP BY client_id) cp', 'cp.client_id=tcm.client_id', 'LEFT')

			->where('tsh.status != "Status 13"')
			->where('(tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status=""))')
			->group_by('tsh.shipment_id')
			->where('tsh.display="Y"')
			->where('(ISNULL(tcm.display) OR tcm.display="Y")')
			->where('(ISNULL(tcm.close_status) OR tcm.close_status="Opend")')
			->unset_column('tsh.shipment_id');

		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tsh.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);
			$status2 = "'" . implode("','", $status1) . "'";
			$data = $data . 'tsh.status IN (' . $status2 . ') AND ';

		}



		if (isset($activity) and !empty($activity)) {
			$data = $data . 'tsh.type_activity_name = "' . $activity . '" AND ';
		}

		if (isset($sez_name) and !empty($sez_name)) {
			$data = $data . 'tcm.sez_id = ' . $sez_name . ' AND ';
		}

		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "' . $work_related_to . '" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			if ($zonal_office == "NA")
				$data = $data . ' (tzo.zonal_office_name IS NULL OR tzo.zonal_office_name="") AND ';
			else
				$data = $data . 'tsh.zonal_office LIKE "' . $zonal_office . '" AND ';
		}

		if (isset($from_date) and !empty($from_date)) {
			$data = $data . 'tsh.created_at >="' . $from_date . '" AND ';
		}

		if (isset($to_date) and !empty($to_date)) {
			$data = $data . ' tsh.created_at <="' . $to_date . '" AND ';
		}

		$data = $data . 'tsh.display = "Y"';
		//print_r($data);
		$this->datatables->where($data);
		/*if($role!=1 && $role!=2 && $role!=4)
					{
						$this->datatables->where('tu.user_id',$user_id);
					}
			*/
		echo $this->datatables->generate();
		// echo $this->db->last_query();
	}


	public function update_details($shipment_id)
	{
		//$shipment_id = $this->input->post('id');
		$data['shipment_id'] = $shipment_id;
		$data['user_data'] = $this->st_model_r->fetchuserlist();
		$data['gist_data'] = $this->approval_model->fetchGistOfContract();
		$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer', 'officer_id');
		$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer', 'assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
		$data['single_shipment_data'] = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $shipment_id);
		//print_r($data['single_shipment_data']); exit();
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['checklist_data'] = $this->approval_model->fetchChecklist($shipment_id);
		$data['activity_data'] = $this->approval_model->fetchservicesData();
		$data['remark_data'] = $this->common_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$data['attachment'] = $this->common_model->selectAllWhr('tbl_approval_attachment', 'shipment_id', $shipment_id);

		$this->load->view('approval/approval_details', $data);
	}

	public function approval_all_stage_data()
	{
		$shipment_id = $this->input->post('id');
		//print_r($shipment_id);
		$data['shipment_id'] = $shipment_id;
		$data['user_data'] = $this->st_model_r->fetchuserlist();
		$data['gist_data'] = $this->approval_model->fetchGistOfContract();
		$data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer', 'officer_id');
		$data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer', 'assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');
		$data['client_data'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		$data['sez_data'] = $this->common_model->fetchDataFromTable_d('tbl_sez', 'sez_name');
		$data['single_shipment_data'] = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $shipment_id);
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['checklist_data'] = $this->approval_model->fetchChecklist($shipment_id);
		$data['activity_data'] = $this->approval_model->fetchservicesData();
		$data['remark_data'] = $this->common_model->selectAllWhr('tbl_approval_remark', 'shipment_id', $shipment_id);
		$data['attachment'] = $this->common_model->selectAllWhr('tbl_approval_attachment', 'shipment_id', $shipment_id);

		$view = $this->load->view('approval/new/new_approval_sub_dashboard', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function file_uploading()
	{
		$shipment_id = $this->input->post('id');
		$data['shipment_id'] = $shipment_id;
		$view = $this->load->view('approval/new/file_uploding_model', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function save_file_data()
	{
		$shipment_id = $this->input->post('shipment_id');
		$new_file_name = $this->input->post('new_file_name');

		$file_name = '';
		$file_name_org = '';
		if (isset($_FILES['file_name']['name'])) {
			$logo = $_FILES['file_name']['name'];
			$logoImg = array(
				'upload_path' => './uploads/approval/',
				'fieldname' => 'file_name',
				'encrypt_name' => TRUE,
				'overwrite' => FALSE
			);
			$logo_img = $this->imageupload->image_upload($logoImg);
			if (isset($logo_img) && !empty($logo_img)) {
				$logoData = $this->upload->data();
				$file_name = $logoData['file_name'];
				$file_name_org = $logoData['orig_name'];
			}
		} else {
			$file_name = $this->input->post('hidden_file_name');
			$file_name_org = $this->input->post('hidden_file_name_org');
		}


		$data = array('shipment_id' => $shipment_id, 'new_file_name' => $new_file_name, 'file_name' => $file_name, 'file_name_org' => $file_name_org);


		$result = $this->common_model->addData('tbl_approval_attachment', $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<strong>Well Done!</strong> Attachment Uploaded Successfully!'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<strong>Error!</strong> While Attachment Uploading !'
				)
			);
		}

	}


	public function approval_delete_file()
	{
		$file_id = $this->input->post('file_id');
		$tableName = 'tbl_approval_attachment';
		$uniqueField = 'file_attach_id';
		$data = array('display' => 'N');

		$result = $this->common_model->updateDetails($tableName, $uniqueField, $file_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> File removed Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Removing File !</div>'
				)
			);
		}
	}

	public function save_new_approval_status_2()
	{
		$shipment_id = $this->input->post('id');
		//$update=$this->input->post('update');

		$checklist = $this->input->post('check_list');
		$checklist_id = $this->input->post('checklist_id');
		//$check_id=$this->input->post('check_id');
		$checklistcount = count($checklist);

		$checklist_details = array();
		//$user_id = $this->session->userdata('user_id');
		if (isset($checklist) && !empty($checklist)) {
			for ($i = 0; $i < $checklistcount; $i++) {
				$checklist_details[] = array('shipment_id' => $shipment_id, 'checklist' => $checklist[$i], 'checklist_id' => $checklist_id[$i]);
			}
		}

		//print_r($checklist_details); exit();
		$remark = $this->input->post('remark');
		$remark_id = $this->input->post('remark_id');
		$remarkcount = count($remark);

		//Days Calculations to Modify Update & target date of stage
		$tracker_type = 'Approval Tracker'; //set tracker type
		$data['tracker_wise_days_data'] = $this->common_model->selectDetailsWhr('tbl_stage_days', 'tracker_type', $tracker_type); //get 1 record by tracker typr
		$daysToAdd = $data['tracker_wise_days_data']->stage3; //get number of days to be added
		$step2_update_date = date('Y-m-d'); //current date
		$step3_target_date = $this->model_k->fetchDateExceptHoliday($step2_update_date, $daysToAdd); //passing current date and days to add in current date

		if ($shipment_id) {
			$status_details = array('skip_2' => '0');
		} else {
			$status_details = array('status' => 'Status 2', 'step2_update_date' => $step2_update_date, 'step3_target_date' => $step3_target_date, 'skip_2' => '0');
		}

		//Remark Details Multiple array
		$remark_details = array();
		$user_id = $this->session->userdata('user_id');
		if (isset($remark) && !empty($remark)) {
			for ($i = 0; $i < $remarkcount; $i++) {
				$remark_details[] = array('shipment_id' => $shipment_id, 'remark' => $remark[$i], 'user_id' => $user_id);
			}
		}

		$result = $this->approval_model->update_new_approval_status_step2($status_details, $checklist_details, $remark_details, $shipment_id, $remark_id);

		if ($result) {
			/*if()
									   {*/
			if ($result) {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<strong>Well Done!</strong> Approval Status 2 Details Updated Successfully!'
					)
				);
			} else {
				$this->json->jsonReturn(
					array(
						'valid' => FALSE,
						'msg' => '<strong>Error!</strong> While Updating Approval Status 2 Details !'
					)
				);
			}
			//}
			/*else
									   {
										   if(true){
											   $this->json->jsonReturn(array(
												   'valid'=>TRUE,
												   'msg'=>'<div class="alert modify alert-success"><strong>Well Done!</strong> Approval Status 2 Details Updated & Send Mail Successfully!</div>'
											   ));
										   } else {
											   $this->json->jsonReturn(array(
												   'valid'=>FALSE,
												   'msg'=>'<div class="alert modify alert-danger"><strong>Error!</strong> While Updating Approval Status 2 & Sending Mail Details !</div>'
											   ));
										   }
									   }*/
		}
	}

	public function approval_job_no_details()
	{
		$shipment_id = $this->input->post('id');

		$data['single_shipment_data'] = $this->common_model->selectDetailsWhr('tbl_approval', 'shipment_id', $shipment_id);
		$data['approval_model_data'] = $this->approval_model->approvalModelDetails($shipment_id);
		$data['activity_data'] = $this->common_model->fetchActivityData($shipment_id);
		$data['pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_pending_document', 'shipment_id', $shipment_id);

		$data['sign_pending_doc_data'] = $this->approval_model->selectAllWhr('tbl_sign_pending_document', 'shipment_id', $shipment_id);
		$data['gist_data'] = $this->approval_model->fetchGistOfContract();

		$view = $this->load->view('common/approval_job_no_details', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));

	}

	public function delete_checklist_attach()
	{
		if ($this->common_model->updateDetails('tbl_activity_attachment', 'activity_attachment_id', $this->input->post('id'), array('display' => 'N'))) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Activity attachment deleted successfully.</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While deleting Activity attachment.</div>'
				)
			);
		}
	}


	public function delete_location_details()
	{

		$serv_chk_id = $this->input->post('id');

		$empty = "";
		$service_data = array('display' => 'N');

		$result = $this->common_model->updateDetails('tbl_service_checklist', 'serv_chk_id', $serv_chk_id, $service_data);
		$result1 = $this->common_model->updateDetails('tbl_gist_mail_draft', 'serv_chk_id', $serv_chk_id, $service_data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Activity details deleted successfully.</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While deleting Activity details.</div>'
				)
			);
		}
	}

	public function save_checked_value()
	{

		$check_value = $this->input->post('id');
		$service_id = $this->input->post('service_id');


		$data = array('checklist_checkbox_value' => $check_value);

		$result = $this->common_model->updateDetails('tbl_service_checklist', 'service_id', $service_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Checklist Attachment checked Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Checklist Attachment checked!</div>'
				)
			);
		}

	}


	public function save_checked_template_value()
	{

		$check_value = $this->input->post('id');
		$service_id = $this->input->post('service_id');


		$data = array('template_checkbox_value' => $check_value);

		$result = $this->common_model->updateDetails('tbl_service_checklist', 'service_id', $service_id, $data);

		if ($result) {
			$this->json->jsonReturn(
				array(
					'valid' => TRUE,
					'msg' => '<div class="alert modify alert-success"><strong>Well Done!</strong> Template Attachment checked Successfully!</div>'
				)
			);
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Template Attachment checked!</div>'
				)
			);
		}

	}


	public function mail_data()
	{
		$client_id = $this->input->post('client_id');

		$mail_data = $this->common_model->selectDetailsWhr('tbl_client_master', 'client_id', $client_id);

		$to = (isset($mail_data->email_id) && !empty($mail_data->email_id)) ? $mail_data->email_id : '';
		$cc = (isset($mail_data->mail_cc) && !empty($mail_data->mail_cc)) ? $mail_data->mail_cc : '';

		$this->json->jsonReturn(array('to' => $to, 'cc' => $cc));


	}

	public function send_draft_view()
	{
		$this->load->model('new_approval_model');
		$user_id = $this->session->userdata('user_id');
		$msg_body = $this->input->post('mail_body');
		$to1 = $this->input->post('to_css');
		$cc1 = $this->input->post('cc_mail_id');
		$mail_status = $this->input->post('w_send_mail_c');
		$subject1 = $this->input->post('subject');
		$serv_chk_id = $this->input->post('serv_chk_id');
		$client_id = $this->input->post('client_id');
		$type = $this->input->post('type');
		//echo $mail_status;
		$send_data = array('msg_body' => $msg_body, 'to' => $to1, 'cc' => $cc1, 'subject' => $subject1, 'client_id' => $client_id, 'serv_chk_id' => $serv_chk_id, 'type' => $type, 'created_by' => $user_id, 'created_on' => date('Y-m-d'));
		//print_r($send_data);exit();
		$result = $this->common_model->addData('tbl_gist_mail_draft', $send_data);

		if ($result) {
			if ($mail_status == "Yes") {
				$subject = $subject1;
				$msg = $msg_body;
				$from = 'approval@sezindia.co.in';
				$fromname = "Moon Group (Approval Team)";

				/*if(isset($attach_data) && !empty($attach_data))
										   {
											   foreach($attach_data as $row){
												   if(file_exists('./uploads/approval/'. $row->file_name)){
													 $attachment_file[] = './uploads/approval/'. $row->file_name;
												   }
											   }
										   }*/
				$attachment_file = '';
				$to[] = '';
				$to[] = $to1;
				$to[] = 'vyanktesh.chilveri@sezindia.co.in';

				$cc[] = '';
				$cc[] = $cc1;
				// $cc[] = "ashish1@sezindia.co.in";
				// $cc[] = "kam@sezindia.co.in";
				// $cc[] = "ganesh.holkar@sezindia.co.in";

				// $cc[] = "puja.jain@sezindia.co.in";
				// $cc[] = "radhika.patel1@sezindia.co.in";
				// $cc[] = "itsupport@sezindia.co.in";
				$cc[] = "kam@sezindia.co.in";
				$cc[] = "sahadeo.ghogare@sezindia.co.in";
				$cc[] = "mahima.moondra@sezindia.co.in";
				$this->new_approval_model->sendMail($to, $cc, $subject, $msg, $from, $fromname, $attachment_file);


				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<strong>Well Done!</strong> Draft Saved AND Mail Send successfully!'
					)
				);
			} else if ($mail_status == "No") {
				$this->json->jsonReturn(
					array(
						'valid' => TRUE,
						'msg' => '<strong>Well Done!</strong> Draft Saved AND Mail Send successfully!'
					)
				);
			}
		} else {
			$this->json->jsonReturn(
				array(
					'valid' => FALSE,
					'msg' => '<div class="alert modify alert-danger"><strong>Error!</strong> While Saveing Data!</div>'
				)
			);
		}



	}

	public function servcies_data()
	{
		$service_name = $this->input->post('service_name');

		$option = $this->approval_model->get_services($service_name);
		//echo $this->db->last_query(); exit(); print_r($option); exit();
		$this->json->jsonReturn(array('option' => $option));
	}

	public function get_email_presentation()
	{
		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover marketingOldDataTable1" action="' . base_url() . 'get_presentation_email_dashboard">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Name of Client', ' Activity Name', 'Type of Activity', 'E-Mail');
		$this->load->view('approval/get_email_approval');
	}

	public function get_presentation_email_dashboard()
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$this->db->_protect_identifiers = false;
		$this->datatables->select("cm.client_name,tsh.service_name,tsh.type_of_activity,
                                    CONCAT('<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"Job Creation\" data-placement=\"top\" target=\"_blank\">
                                        <a href=\"./attachment/presentation_mails/',cm.client_name,'_Presentation ID-',tpt.presentation_id,'_Presentation_Details.pdf\" download >
                                        <i style=\"color: red;\" class=\"fa fa-file-pdf-o\"> </i>
                                        </a>
                                    </span>')")
			->from('tbl_services_master  AS tsh')
			->join('tbl_presentation_tracker_report AS tpt', 'tpt.service_id = tsh.service_id')
			->join('tbl_client_master AS cm', 'tpt.client_id=cm.client_id', 'LEFT')
			->where('tpt.service_type = "GOC File"')
			->where('tpt.display="Y"')
			->where('cm.display="Y"')
			->where('tsh.display="Y"')
			->where('cm.close_status="Opend"');
		echo $this->datatables->generate();
	}

	public function get_dept_aproval_dashboard($dept_master_id = NULL)
	{
		$user_id = $this->session->userdata('user_id');
		$role = $this->session->userdata('role_id');
		$dept_master_id = urldecode($dept_master_id);
		$user_data = $this->CI->role_config->user_data($user_id);

		$show_edit = '';
		if (isset($user_data->knowledge_services_edit) && $user_data->knowledge_services_edit == 'Y') {
			$show_edit = $user_data->knowledge_services_edit;
		}
		$show_delete = '';
		if (isset($user_data->knowledge_services_delete) && $user_data->knowledge_services_delete == 'Y') {
			$show_delete = $user_data->knowledge_services_delete;
		}


		if (isset($dept_master_id) && !empty($dept_master_id) && ($dept_master_id != NULL)) {

			$this->datatables->select("ts.service_name,tdm.dept_master_name,ts.tracker_type,
             CONCAT(if(\"" . $show_edit . "\" = \"Y\",CONCAT('<a target=\"_blank\" style=\"cursor: pointer; align:center;\" class=\"tooltips\" data-placement=\"top\" href=\"new_approval/',ts.service_id,'\" >
                <i class=\"fa fa-edit\"></i>
            </a>'),''),if(\"" . $show_delete . "\" = \"Y\",CONCAT('&nbsp<span style=\"cursor: pointer; align:center;\" class=\"tooltips deleteServices\" data-tburl=\"\" rev=\"delete_activity\" rel=\"',ts.service_id,'\" data-original-title=\"Delete\" data-placement=\"top\">
                <i class=\"fa fa-trash-o\"></i>
            </span>'),CONCAT('')))


            ")

				->from('tbl_services_master ts')
				->join('tbl_department_master tdm', 'tdm.dept_master_id=ts.dept_master_id AND tdm.display="Y"', 'LEFT')
				->where('ts.services_status="Approved"')
				->where('ts.display = "Y"');

			$data = '';
			$this->db->_protect_identifiers = false;

			if (isset($dept_master_id) and !empty($dept_master_id)) {
				$data = $data . 'ts.dept_master_id="' . $dept_master_id . '"';
			}

			$this->datatables->where($data);

		} else {
			$this->datatables->select("ts.service_name,tdm.dept_master_name,ts.tracker_type, CONCAT(if(\"" . $show_edit . "\" = \"Y\",CONCAT('<a style=\"cursor: pointer; align:center;\" class=\"tooltips\" data-placement=\"top\" href=\"new_approval/',ts.service_id,'\" >
                <i class=\"fa fa-edit\"></i>
            </a>'),''),if(\"" . $show_delete . "\" = \"Y\",CONCAT('&nbsp<span style=\"cursor: pointer; align:center;\" class=\"tooltips deleteServices\" data-tburl=\"\" rev=\"delete_activity\" rel=\"',ts.service_id,'\" data-original-title=\"Delete\" data-placement=\"top\">
                <i class=\"fa fa-trash-o\"></i>
            </span>'),CONCAT('')))")

				->from('tbl_services_master ts')
				->join('tbl_department_master tdm', 'tdm.dept_master_id=ts.dept_master_id AND tdm.display="Y"', 'LEFT')
				->where('ts.service_type!="other"')
				->where('ts.display = "Y"')
				->where('(ts.dept_master_id="" OR ts.dept_master_id IS NULL)');

		}
		echo $this->datatables->generate();
	}

	public function get_services_report_table()
	{
		$this->datatables->select("tsm.service_name,tsm.sez_cost,tsm.tracker_type,tsm.services_status,group_concat(distinct c.city_name) as city_name,group_concat(distinct z.sez_name) as sez_name,group_concat(distinct sc.type_of_client) as type_of_client,group_concat(distinct sc.client_unit) as client_unit, group_concat(distinct r.checklist_attach) as checklist, group_concat(distinct r1.template_attach) as template,group_concat(distinct r2.printing_attach) as printing")
			->from('tbl_services_master  as tsm')
			->join("(SELECT CONCAT(GROUP_CONCAT(distinct tc.city_name),if(FIND_IN_SET(-1,GROUP_CONCAT(distinct tsc5.city_id))>1,',All',tc.city_name)) AS city_name,tsc5.service_id
            FROM tbl_city tc
            LEFT JOIN tbl_service_checklist tsc5 ON tc.city_id=tsc5.city_id  AND tsc5.display='Y'  WHERE  tc.display='Y'  GROUP BY tc.city_id) c", 'c.service_id=tsm.service_id', 'left')
			->join("(SELECT CONCAT(GROUP_CONCAT(distinct tz.sez_name),if(FIND_IN_SET(-1,GROUP_CONCAT(distinct tsc6.sez_id))>1,',All',tz.sez_name)) AS sez_name,tsc6.service_id
            FROM tbl_sez tz
            LEFT JOIN tbl_service_checklist tsc6 ON tz.sez_id=tsc6.sez_id  AND tsc6.display='Y'  WHERE  tz.display='Y'  GROUP BY tz.sez_id) z", 'z.service_id=tsm.service_id', 'left')
			->join("(SELECT GROUP_CONCAT(distinct tsc7.type_of_client) AS type_of_client,GROUP_CONCAT(distinct tsc7.client_unit) AS client_unit,tsc7.service_id
            FROM tbl_service_checklist tsc7
           WHERE  tsc7.display='Y'  GROUP BY tsc7.service_id) sc", 'sc.service_id=tsm.service_id', 'left')
			->join("(SELECT tac3.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"download\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac3.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i>',tac3.file_org_name,'</i></a></span>') checklist_attach
            FROM tbl_activity_attachment tac3
            WHERE tac3.folder_type='Checklist File' AND tac3.display='Y'  GROUP BY tac3.service_id) r", 'r.service_id=tsm.service_id', 'left')
			->join("(SELECT tac1.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"download\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac1.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i>',tac1.file_org_name,'</i></a></span>') template_attach
            FROM tbl_activity_attachment tac1
            WHERE tac1.folder_type='Template File' AND tac1.display='Y' GROUP BY tac1.service_id) r1", 'r1.service_id=tsm.service_id', 'left')
			->join("(SELECT tac2.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"download\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac2.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i>',tac2.file_org_name,'</i></a></span>') printing_attach
            FROM tbl_activity_attachment tac2
            WHERE tac2.folder_type='Print Trial' AND tac2.display='Y' GROUP BY tac2.service_id) r2", 'r2.service_id=tsm.service_id', 'left')
			->where('tsm.display="Y"')
			->group_by('tsm.service_id');

		echo $this->datatables->generate();
	}

	public function new_approval_report()
	{
		$data['clientData'] = $this->common_model->fetchDataFromClientTableAsc('tbl_client_master', 'client_name');
		// $data['user_data']=$this->st_model_r->fetchuserlist();
		// $data['officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_officer','officer_id');
		// $data['asst_officer_data'] = $this->common_model->fetchDataFromTableDesc('tbl_assistant_officer','assistant_officer_id');
		$data['work_related_data'] = $this->common_model->fetchDataFromTableDesc('tbl_work_related', 'work_related_id');
		$data['zone_data'] = $this->common_model->fetchDataFromTableDesc('tbl_zonal_office', 'zonal_office_id');

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered    masterDataTable" action="' . base_url() . 'get_new_approval_table">');

		$this->table->set_template($tmpl);
		$this->table->set_heading('Job Number', 'Name of Client', 'Type of Activity', 'Checklist Sent or not? ', 'Approval Date from Mgmt', 'Request ID', 'Remark', 'Pending Days', 'Approval Status', 'Status', 'Moon Invoice No', 'Moon Invoice Date', 'Despatch of Document For Submission Ack', 'Submission of Document Ack');
		//$this->load->view('report/new_approval_report',$data);
		$this->load->view('report/new_approval_report', $data);
	}

	public function fetch_new_approval_report()
	{
		$activity_name = $this->input->post('unit_name');
		$status = $this->input->post('status');

		$data['unit_name'] = $this->input->post('unit_name');
		$data['status'] = $this->input->post('status');
		$data['asst_owner'] = $this->input->post('asst_owner');
		$data['owner_name'] = $this->input->post('owner_name');
		$data['asst_followup'] = $this->input->post('asst_followup');
		$data['head_followup'] = $this->input->post('head_followup');
		$data['asst_officer'] = $this->input->post('asst_officer');
		$data['officer'] = $this->input->post('officer');
		$data['work_related_to'] = $this->input->post('work_related_to');
		$data['zonal_office'] = $this->input->post('zonal_office');

		$unit = $data['unit_name'];
		$status1 = $data['status'];
		$asst_owner = $data['asst_owner'];
		$owner_name = $data['owner_name'];
		$asst_followup = $data['asst_followup'];
		$head_followup = $data['head_followup'];
		$asst_officer = $data['asst_officer'];
		$officer = $data['officer'];
		$work_related_to = $data['work_related_to'];
		$zonal_office = $data['zonal_office'];


		if (isset($status) && !empty($status))
			$status = preg_replace('/\\s+/', ' ', implode(",", $status));
		else
			$status = 0;
		$unit = preg_replace('/\\s+/', ' ', $unit);

		if (isset($asst_owner) && !empty($asst_owner))
			$asst_owner = preg_replace('/\\s+/', ' ', $asst_owner);
		else
			$asst_owner = 0;

		if (isset($owner_name) && !empty($owner_name))
			$owner_name = preg_replace('/\\s+/', ' ', $owner_name);
		else
			$owner_name = 0;

		if (isset($asst_followup) && !empty($asst_followup))
			$asst_followup = preg_replace('/\\s+/', ' ', $asst_followup);
		else
			$asst_followup = 0;

		if (isset($head_followup) && !empty($head_followup))
			$head_followup = preg_replace('/\\s+/', ' ', $head_followup);
		else
			$head_followup = 0;

		$work_related_to = preg_replace('/\\s+/', ' ', $work_related_to);
		$zonal_office = preg_replace('/\\s+/', ' ', $zonal_office);

		$tmpl = array('table_open' => '<table class="table table-striped  table-bordered table-hover masterDataTable" action="' . base_url() . 'get_new_approval_table/' . $unit . '/' . $status . '/' . $asst_owner . '/' . $owner_name . '/' . $asst_followup . '/' . $head_followup . '/' . $work_related_to . '/' . $zonal_office . '">');

		$this->table->set_template($tmpl);

		$this->table->set_heading('Job Number', 'Name of Client', 'Type of Activity', 'Checklist Sent or not? ', 'Approval Date from Mgmt', 'Request ID', 'Remark', 'Pending Days', 'Approval Status', 'Status', 'Moon Invoice No', 'Moon Invoice Date', 'Despatch of Document For Submission Ack', 'Submission of Document Ack');

		$view = $this->load->view('report/fetch_new_approval_report', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function export_new_approval_report()
	{
		$this->load->library('excel');
		$unit_name = $this->uri->segment(2); // get id
		$status = $this->uri->segment(3); // get id
		$asst_owner = $this->uri->segment(4);
		$owner_name = $this->uri->segment(5);
		$asst_followup = $this->uri->segment(6);
		$head_followup = $this->uri->segment(7);
		$asst_officer = $this->uri->segment(8);
		$officer = $this->uri->segment(9);
		$work_related_to = $this->uri->segment(10);
		$zonal_office = $this->uri->segment(11);

		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);
		$asst_officer = urldecode($asst_officer);
		$officer = urldecode($officer);
		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);
		$report_data = $this->new_approval_model->approval_report_data($unit_name, $status, $work_related_to, $zonal_office);

		$this->excel->generate_new_approval_report($report_data);



	}

	public function get_new_approval_table($unit_name = NULL, $status = NULL, $asst_owner = NULL, $owner_name = NULL, $asst_followup = NULL, $head_followup = NULL, $work_related_to = NULL, $zonal_office = NULL)
	{
		$status = urldecode($status);
		$unit_name = urldecode($unit_name);
		$asst_owner = urldecode($asst_owner);
		$owner_name = urldecode($owner_name);
		$asst_followup = urldecode($asst_followup);
		$head_followup = urldecode($head_followup);

		$work_related_to = urldecode($work_related_to);
		$zonal_office = urldecode($zonal_office);

		$this->datatables1->select("tsh.job_number,tc.client_name,tun.service_name,tsh.checklist_sent,tsh.date_of_receipt_approval,tsh.request_id, if((tr.user_id = 0), group_concat(tr.remark), concat(concat('<b>',te.salutation,' ',te.firstname,' ',te.lastname,' - ','</b>'),' ',group_concat(tr.remark))) AS rem, DATEDIFF(curdate(),tsh.status_change_date) AS pending_day,tsh.approval_status,if(tsh.status='Status 1' OR tsh.status='Status 2' OR tsh.status='Status 3','Status 1',if(tsh.status='Status 4' OR tsh.status='Status 5','Status 2',if(tsh.status='Status 6' OR tsh.status='Status 7','Status 3',if(tsh.status='Status 8' OR tsh.status = 'Status 9','Status 4',if(tsh.status='Status 10','Status 5',if(tsh.status='Status 11','Status 6',if(tsh.status='Status 12','Status 7',if(tsh.status='Status 13','Status 8','')))))))) as status,if(isnull(tsh.rwc_invoice_no) OR tsh.rwc_invoice_no = '','',CONCAT('<a href=\"print_invoice_by_invoice_no/',replace(tsh.rwc_invoice_no,'/','_'),'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.rwc_invoice_no,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i>',tsh.rwc_invoice_no,'</a>')),IF((isnull(tsh.rwc_invoice_date) OR (tsh.rwc_invoice_date = '1970-01-01') OR (tsh.rwc_invoice_date = '0000-00-00') OR (tsh.rwc_invoice_date = '')),'',DATE_FORMAT(tsh.rwc_invoice_date,'%d-%m-%Y')),if(tsh.client_file_ack='0' or ISNULL(tsh.client_file_ack),'',CONCAT('<a href=\"./uploads/approval/',tsh.client_file_ack,'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.client_file_ack,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i></a>')),if(tsh.upload_acknowledgement='0' or ISNULL(tsh.upload_acknowledgement),'',CONCAT('<a href=\"./uploads/approval/',tsh.upload_acknowledgement,'\" target=\"_blank\" class=\"tooltips\" data-original-title=\"',tsh.upload_acknowledgement,'\" data-placement=\"top\"><i class=\"fa fa-download\"></i></a>'))")
			->from('tbl_approval AS tsh')
			->join('tbl_services_master AS tun', 'tsh.type_activity_name=tun.service_id', '')
			->join('tbl_client_master tc', 'tc.client_id = tsh.client_name AND tc.display = "Y" AND tc.close_status = "Opend"')

			->join('tbl_approval_remark tr', 'tr.shipment_id = tsh.shipment_id AND tr.display = "Y"', 'LEFT')
			->join('tbl_employee_personal_details te', 'te.user_id = tr.user_id AND te.display = "Y"', 'LEFT')
			->join('tbl_zonal_office zo', 'zo.zonal_office_name = tsh.zonal_office AND zo.display="Y"', 'LEFT');
		$data = '';
		if (isset($unit_name) and !empty($unit_name)) {
			$data = $data . 'tc.client_name LIKE "%' . $unit_name . '%" AND ';
		}

		if (isset($status) and !empty($status)) {
			$status1 = explode(",", $status);

			$status2 = "(" . implode(" OR ", $status1) . ")";
			if ($status == 'pending') {
				$data = $data . 'tsh.status < "Status 11" AND tsh.status != "Status 11" AND invoice_no IS NULL AND tsh.goc_approval="active" AND tsh.approval_step != "rejected" AND tsh.checker_maker_1="Approved" AND (tsh.approval_status!="Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status="")) AND ';
			} else if ($status == 'completed') {
				$data = $data . 'tsh.status = "Status 12" AND ';

			}

		}


		if (isset($work_related_to) and !empty($work_related_to)) {
			$data = $data . 'tsh.work_related_to LIKE "%' . $work_related_to . '%" AND ';
		}

		if (isset($zonal_office) and !empty($zonal_office)) {
			$data = $data . 'tsh.zonal_office LIKE "%' . $zonal_office . '%" AND ';
		}

		$data = $data . 'tsh.display = "Y" AND (tsh.approval_status != "Query Raised" OR isnull(tsh.approval_status OR tsh.approval_status = "" ))';
		//print_r($data);
		$this->datatables1->where($data);
		$this->datatables1->group_by('tsh.shipment_id');
		////exit();
		echo $this->datatables1->generate();

	}

	public function services_new_dash()
	{
		$this->session->set_userdata("shipment_type", 'services');
		$data['services_data'] = $this->common_model->selectAllServices();
		// $data['services_data'] = $this->common_model->fetch_serviceS();
		// echo $this->db->last_query();
		// echo '<pre>';
		// print_r($data['services_data']);exit();
		$data['company_data'] = $this->common_model->fetchDataFromTable('tbl_company_master', 'company_name');
		$data['department_data'] = $this->common_model->fetchDataFromTable_d('tbl_department_master', 'dept_master_name');
		// $data['department_data'] = $this->common_model->fetchDataFromTable('tbl_department_master', 'dept_master_name');               
		$data['location_data'] = $this->common_model->fetchDataFromTable('tbl_station_type', 'station_type_id');
		$data['city_data'] = $this->common_model->fetchDataFromTable('tbl_city', 'city_name');

		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable21" action="' . base_url() . 'get_services_new_dashboard_table">');
		$this->table->set_template($tmpl);
		$this->table->set_heading('Service Name', 'Checklist', 'Template', 'Printing Instruction', 'Standard Quotation', 'SOP', 'Dos & Dont Dos', 'Relevent Creation Law & Circular', 'FAQ', 'Government Timeline', 'Flow Chart', 'Legal & Approval Reference');
		$this->load->view('approval/service_new_dashboard', $data);
	}

	public function fetch_services_new_dash()
	{
		$dept_name1 = $this->input->post('dept_name');
		$city_name = $this->input->post('city_name');
		$location1 = $this->input->post('location');
		$service_name = $this->input->post('service_name');


		$data['dept_name'] = $dept_name1;
		$data['location'] = $location1;
		// $data['service_name'] = $service_name; 
		$data['city_name'] = $city_name;

		// print_r($dept_name1);
		if (isset($dept_name1) and !empty($dept_name1))
			$dept_name1 = preg_replace('/\\s+/', ' ', $dept_name1);
		else
			$dept_name1 = 0;

		if (isset($service_name) and !empty($service_name))
			$service_name = preg_replace('/\\s+/', ' ', $service_name);
		else {
			$service_name = 0;
		}




		if (isset($city_name) and !empty($city_name))
			$city_name = preg_replace('/\\s+/', ' ', $city_name);
		else
			$city_name = 0;


		$tmpl = array('table_open' => '<table class="table table-striped table-bordered table-hover masterDataTable21" action="' . base_url() . 'get_services_new_dashboard_table/' . $dept_name1 . '/' . $service_name . '/' . $city_name . '">');

		$this->table->set_template($tmpl);

		$this->table->set_heading('Service Name', 'Checklist', 'Template', 'Printing Instruction', 'Standard Quotation', 'SOP', 'Dos & Dont Dos', 'Relevent Creation Law & Circular', 'FAQ', 'Government Timeline', 'Flow Chart', 'Legal & Approval Reference');

		$view = $this->load->view('approval/fetch_services_new_dash', $data, TRUE);
		$this->json->jsonReturn(array('view' => $view));
	}

	public function get_services_new_dashboard_table($dept_name1 = NULL, $service_name = NULL, $city_name = NULL)
	{

		$service_name = urldecode($service_name);
		$city_name = urldecode($city_name);
		$dept_name1 = urldecode($dept_name1);
		// print_r($city_name);die;

		$this->db->simple_query('SET SESSION group_concat_max_len=150000');
		$this->db->_protect_identifiers = false;
		$this->datatables->select("tsm.service_id,tsm.service_name,
		group_concat(distinct r.checklist_attach) as checklist, 
		group_concat(distinct r1.template_attach) as template,
		group_concat(distinct r2.printing_attach) as printing,
		group_concat(distinct r3.quation_attach) as sq,
		group_concat(distinct r4.sop_attach) as sop
		,group_concat(distinct r5.dd_attach) as dos
		,group_concat(distinct r6.rcl_attach) as rcl
		,group_concat(distinct r7.template_attach) as faq
		,group_concat(distinct r8.goc_attach) as goc
		,group_concat(distinct r9.fc_attach) as fc
		,group_concat(distinct r10.lar_attach) as lar")
			->from('tbl_services_master  as tsm')
			->unset_column('tsm.service_id')
			->join('tbl_service_checklist as tscn', 'tsm.service_id = tscn.service_id AND tscn.display = "Y"', 'left')
			->join('tbl_department_master tdm', 'tdm.dept_master_id=tsm.dept_master_id AND tdm.display="Y"', 'LEFT')
			->join('tbl_city as tcn', 'tscn.city_id = tcn.city_id AND tcn.display = "Y"', 'left')
			->join("(SELECT CONCAT(GROUP_CONCAT(distinct tc.city_name),if(FIND_IN_SET(-1,GROUP_CONCAT(distinct tsc5.city_id))>1,',All',tc.city_name)) AS city_name,tsc5.service_id
            FROM tbl_city tc
            LEFT JOIN tbl_service_checklist tsc5 ON tc.city_id=tsc5.city_id  AND tsc5.display='Y'  WHERE  tc.display='Y'  GROUP BY tc.city_id) c", 'c.service_id=tsm.service_id', 'left')
			->join("(SELECT CONCAT(GROUP_CONCAT(distinct tz.sez_name),if(FIND_IN_SET(-1,GROUP_CONCAT(distinct tsc6.sez_id))>1,',All',tz.sez_name)) AS sez_name,tsc6.service_id
            FROM tbl_sez tz
            LEFT JOIN tbl_service_checklist tsc6 ON tz.sez_id=tsc6.sez_id  AND tsc6.display='Y'  WHERE  tz.display='Y'  GROUP BY tz.sez_id) z", 'z.service_id=tsm.service_id', 'left')
			->join("(SELECT GROUP_CONCAT(distinct tsc7.type_of_client) AS type_of_client,GROUP_CONCAT(distinct tsc7.client_unit) AS client_unit,tsc7.service_id
            FROM tbl_service_checklist tsc7
           WHERE  tsc7.display='Y'  GROUP BY tsc7.service_id) sc", 'sc.service_id=tsm.service_id', 'left')
			->join("(SELECT tac3.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac3.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac3.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') checklist_attach
            FROM tbl_activity_attachment tac3
            WHERE tac3.folder_type='Checklist File' AND tac3.display='Y'  GROUP BY tac3.service_id) r", 'r.service_id=tsm.service_id', 'left')
			->join("(SELECT tac1.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac1.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac1.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') template_attach
            FROM tbl_activity_attachment tac1
            WHERE tac1.folder_type='Template File' AND tac1.display='Y' GROUP BY tac1.service_id) r1", 'r1.service_id=tsm.service_id', 'left')
			->join("(SELECT tac2.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac2.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac2.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') printing_attach
            FROM tbl_activity_attachment tac2
            WHERE (tac2.folder_type='Print Trial' OR tac2.folder_type='Instruction File') AND tac2.display='Y' GROUP BY tac2.service_id) r2", 'r2.service_id=tsm.service_id', 'left')
			->join("(SELECT tac4.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac4.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac4.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') quation_attach
            FROM tbl_activity_attachment tac4
            WHERE tac4.folder_type='SQ File' AND tac4.display='Y' GROUP BY tac4.service_id) r3", 'r3.service_id=tsm.service_id', 'left')
			->join("(SELECT tac5.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac5.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac5.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') sop_attach
            FROM tbl_activity_attachment tac5
            WHERE tac5.folder_type='SOP File' AND tac5.display='Y' GROUP BY tac5.service_id) r4", 'r4.service_id=tsm.service_id', 'left')
			->join("(SELECT tac6.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac6.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac6.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') dd_attach
            FROM tbl_activity_attachment tac6
            WHERE tac6.folder_type='DD File' AND tac6.display='Y' GROUP BY tac6.service_id) r5", 'r5.service_id=tsm.service_id', 'left')
			->join("(SELECT tac7.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac7.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac7.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') rcl_attach
            FROM tbl_activity_attachment tac7
            WHERE tac7.folder_type='RCL File' AND tac7.display='Y' GROUP BY tac7.service_id) r6", 'r6.service_id=tsm.service_id', 'left')
			->join("(SELECT tac8.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac8.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac8.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') template_attach
            FROM tbl_activity_attachment tac8
            WHERE tac8.folder_type='FAQ File' AND tac8.display='Y' GROUP BY tac8.service_id) r7", 'r7.service_id=tsm.service_id', 'left')
			->join("(SELECT tac9.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac9.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac9.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') goc_attach
            FROM tbl_activity_attachment tac9
            WHERE tac9.folder_type='GOVT File' AND tac9.display='Y' GROUP BY tac9.service_id) r8", 'r8.service_id=tsm.service_id', 'left')
			->join("(SELECT tac10.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac10.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac10.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') fc_attach
            FROM tbl_activity_attachment tac10
            WHERE tac10.folder_type='FC File' AND tac10.display='Y' GROUP BY tac10.service_id) r9", 'r9.service_id=tsm.service_id', 'left')
			->join("(SELECT tac11.service_id,GROUP_CONCAT(distinct '<span style=\"cursor: pointer;\" class=\"tooltips\" data-original-title=\"',tac11.file_org_name,'\" data-placement=\"top\">
            <a href=\"./uploads/approval/',tac11.file_name,'\"  \"download\" ><i style=\"color: green;\" class=\"fa fa-download \"> </i></i></a></span>') lar_attach
            FROM tbl_activity_attachment tac11
            WHERE tac11.folder_type='LAR File' AND tac11.display='Y' GROUP BY tac11.service_id) r10", 'r10.service_id=tsm.service_id', 'left')
			->where('tsm.display="Y"');
		// ->group_by('tsm.service_id');

		$data = '';

		if (isset($dept_name1) && !empty($dept_name1)) {

			$data = $data . 'tsm.dept_master_id = ' . $dept_name1 . ' AND ';
		}

		if (isset($city_name) && !empty($city_name)) {

			$data = $data . 'tscn.city_id = ' . $city_name . ' AND ';
		}

		if (isset($service_name) && !empty($service_name)) {

			$data = $data . 'tsm.service_id = ' . $service_name . ' AND ';
		}

		$data = $data . 'tsm.display = "Y"';

		if (isset($data) && !empty($data)) {
			$this->datatables->where($data);
		}

		$this->datatables->group_by('tsm.service_id');
		// echo $this->datatables->generate();
		echo $this->datatables->generate();
		//    echo $this->db->last_query();die;
	}


}

/* End of file common_controller.php */
/* Location: ./application/controllers/common_controller.php */